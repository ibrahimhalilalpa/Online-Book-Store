(self.webpackChunk_quizlet_web_index=self.webpackChunk_quizlet_web_index||[]).push([["assistant_write"],{"./node_modules/@mapbox/geojson-area/index.js":(e,t,s)=>{var n=s("./node_modules/wgs84/index.js");function o(e){var t=0;if(e&&e.length>0){t+=Math.abs(a(e[0]));for(var s=1;s<e.length;s++)t-=Math.abs(a(e[s]))}return t}function a(e){var t,s,o,a,i,l,d=0,u=e.length;if(u>2){for(l=0;l<u;l++)l===u-2?(o=u-2,a=u-1,i=0):l===u-1?(o=u-1,a=0,i=1):(o=l,a=l+1,i=l+2),t=e[o],s=e[a],d+=(r(e[i][0])-r(t[0]))*Math.sin(r(s[1]));d=d*n.RADIUS*n.RADIUS/2}return d}function r(e){return e*Math.PI/180}e.exports.Q=function e(t){var s,n=0;switch(t.type){case"Polygon":return o(t.coordinates);case"MultiPolygon":for(s=0;s<t.coordinates.length;s++)n+=o(t.coordinates[s]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(s=0;s<t.geometries.length;s++)n+=e(t.geometries[s]);return n}}},"./node_modules/@quizlet/dependency-injection-core/quizlet-shared-kotlin-dependency-injection-core.js":function(e,t,s){var n,o,a;o=[t,s("./node_modules/@quizlet/koin-core/core-koin-core-js-ir.js"),s("./node_modules/@quizlet/kotlin-stdlib/kotlin-kotlin-stdlib-js-ir.js")],void 0===(a="function"==typeof(n=function(e,t,s){"use strict";var n,o,a=t.$_$.j,r=s.$_$.n4,i=s.$_$.lb,l=s.$_$.q1,d=s.$_$.gb,u=t.$_$.e,c=s.$_$.v6,p=s.$_$.fb;function m(e,t){if(null!=e.u12_1)throw new a("A Koin Application has already been started");e.u12_1=t.uz_1}function g(e,t){var s,n=e.u12_1;null==n?s=null:(n.tz(t),s=r());var o=s;null==o&&e.v12(h(t))}function h(e){return function(t){return t.d10(!0),t.xz(e),r()}}function _(){n=this,this.u12_1=null}function S(){return null==n&&new _,n}function f(){return o}return s.$_$.nf,(0,s.$_$.hb)(_,"KmpKoinContext",p),d(_).lt=function(){var e=this.u12_1;if(null==e)throw l(i("KmpKoinContext is null: have you called KmpKoinContext.startKoin yet?"));return e},d(_).w12=function(){return this.u12_1},d(_).v12=function(e){var t=u().wz();return m(this,t),t.d10(!0),e(t),t},d(_).x12=function(e){g(this,c(e()))},d(_).y12=function(e){g(this,c(e))},d(_).z12=function(e){g(this,e)},o="QUIZLET_API_BASE_URL_OVERRIDE",e.$_$=e.$_$||{},e.$_$.a=f,e.$_$.b=S,e})?n.apply(t,o):n)||(e.exports=a)},"./node_modules/@quizlet/experiment-manager/quizlet-shared-kotlin-experiment-manager.js":function(e,t,s){var n,o,a;o=[t,s("./node_modules/@quizlet/kotlin-stdlib/kotlin-kotlin-stdlib-js-ir.js"),s("./node_modules/@quizlet/koin-core/core-koin-core-js-ir.js"),s("./node_modules/@quizlet/dependency-injection-core/quizlet-shared-kotlin-dependency-injection-core.js")],n=function(e,t,s,n){"use strict";var o,a=t.$_$.gb,r=t.$_$.ka,i=t.$_$.nf,l=t.$_$.hb,d=t.$_$.z9,u=s.$_$.d,c=s.$_$.b,p=t.$_$.c6,m=t.$_$.e,g=s.$_$.g,h=t.$_$.n4,_=s.$_$.l,S=s.$_$.h,f=s.$_$.q,y=n.$_$.b,j=t.$_$.fb,E=t.$_$.ba;function T(){}function x(e){return new b(N(e))}function b(e){this.h2l_1=e}function A(e){return function(t,s){return x(e)}}function I(e){return function(t){var s,n=A(e),o=u().n10_1,a=c(),r=p();s=new g(o,m(T),null,n,a,r);var i=new _(s);return t.p11(i),t.h11_1&&t.s11(i),new S(t,i),h()}}function v(e){return function(){return f(i,I(e))}}function C(){o=this}function w(){return null==o&&new C,o}function N(e){return new O(e)}function O(e){this.k2l_1=e}function M(e){E(e,"ExperimentManagerProvider",w)}return l(T,"ExperimentManager",r),l(b,"WrappedRawExperimentManager",d,i,[T]),l(C,"ExperimentManagerProvider",j),l(O,i,d),a(b).g2l=function(e){return e.j2l(this.h2l_1.i2l(e))},a(C).setPlatformRawExperimentManager=function(e){y().x12(v(e))},a(O).i2l=function(e){return this.k2l_1.enrollAndGetVariantName(e.l2l())},M(e),e.$jsExportAll$=M,e.$_$=e.$_$||{},e.$_$.a=T,e.$_$.b=w,e},void 0===(a="function"==typeof n?n.apply(t,o):n)||(e.exports=a)},"./node_modules/@quizlet/persistence/quizlet-shared-kotlin-persistence.js":function(e,t,s){var n,o,a;o=[t,s("./node_modules/@quizlet/kotlin-stdlib/kotlin-kotlin-stdlib-js-ir.js"),s("./node_modules/@quizlet/koin-core/core-koin-core-js-ir.js"),s("./node_modules/@quizlet/quizlet-api-models/quizlet-shared-kotlin-quizlet-api-models.js")],n=function(e,t,s,n){"use strict";var o,a,r,i=t.$_$.n4,l=t.$_$.nf,d=s.$_$.q,u=t.$_$.ka,c=t.$_$.hb,p=t.$_$.gb,m=t.$_$.ke,g=n.$_$.d1,h=t.$_$.v4,_=t.$_$.ta,S=t.$_$.fb,f=s.$_$.d,y=s.$_$.b,j=t.$_$.c6,E=t.$_$.e,T=s.$_$.g,x=s.$_$.l,b=s.$_$.h,A=s.$_$.p;function I(){return C(),o}function v(e){return C(),e.o11([M()]),i()}function C(){a||(a=!0,o=d(l,v))}function w(){}function N(){r=this}function O(){return null==r&&new N,r}function M(){return d(l,L)}function L(e){var t,s,n=D,o=f().n10_1,a=y(),r=j();s=new T(o,E(N),null,n,a,r);var l=new x(s);return e.p11(l),e.h11_1&&e.s11(l),t=new b(e,l),A(t,E(w)),i()}function D(e,t){return O()}return c(w,"StudiableMetadataPersistenceStore",u,l,l,l,l,[1,2]),c(N,"NoOpStudiableMetadataPersistenceStore",S,l,[w],l,l,[1,2]),p(N).x2h=function(e,t){return null},p(N).q2g=function(e,t){return this.x2h(e instanceof g?e:m(),t)},p(N).j2i=function(e,t,s){return t},p(N).k2i=function(e,t,s){var n=e instanceof g?e:m();return this.j2i(n,null!=t&&_(t,h)?t:m(),s)},e.$_$=e.$_$||{},e.$_$.a=I,e.$_$.b=w,e},void 0===(a="function"==typeof n?n.apply(t,o):n)||(e.exports=a)},"./node_modules/abort-controller/browser.js":e=>{"use strict";const{AbortController:t,AbortSignal:s}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=s,e.exports.default=t},"./app/j/ads/components/ActionBasedAutoRefreshAd.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/ads/compatibility/useQAdManager.ts"),o=s("./app/j/ads/components/Ad.tsx"),a=s("./app/j/ads/constants/adConstants.ts"),r=s("./app/j/ads/enums/RefreshReason.ts"),i=s("./node_modules/react/index.js"),l=s("./app/j/utils/isAdBlockerEnabled.ts"),d=s("./app/j/utils/tamperProofNow.ts"),u=s("./node_modules/react/jsx-runtime.js");const c=function(e){let{headingAlignment:t="block",id:s,lastActionTimestamp:c=0,maxRefreshCount:p,minActionsForRefresh:m=1,refreshInterval:g=a.If}=e;const h=(0,n.Z)(),[_,S]=(0,i.useState)(!(null!=h&&h.config.areAdsDisabled)),f=(0,i.useRef)(-1);(0,i.useEffect)((()=>{f.current+=1}),[c]);const[y,j]=(0,i.useState)((0,d.Z)()),[E,T]=(0,i.useState)(0),x=(0,i.useCallback)((()=>{h&&(f.current=0,j((0,d.Z)()),T(E+1),(0,l.ZP)()||h.enqueueAdsForRefresh([s],r.q.ACTION_REFRESH))}),[h,E,s]),b=(0,i.useCallback)((e=>{f.current>=m&&e-y>=1e3*g&&x()}),[y,x,m,g]);(0,i.useEffect)((()=>{!_||(0,l.ZP)()||p&&E>=p||b(c)}),[c,g,_,E,p,b]);const A=(0,i.useCallback)((()=>{if((0,l.ZP)())return;if(!h)return;const e=h.isShowing(s);e&&j((0,d.Z)()),S(e)}),[h,s]),I=(0,i.useCallback)((()=>{if((0,l.ZP)())return;if(!h)return;const e=h.isShowing(s);S(e)}),[h,s]);return(0,u.jsx)(o.Z,{headingAlignment:t,id:s,onDisplayCallback:A,onEmptyAdCallback:I})}},"./app/j/ads/components/studyModes/AdModal.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>b});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/@linaria/react/lib/index.js"),o=s("./app/j/ads/components/Ad.tsx"),a=s("./app/j/ads/components/studyModes/ContinueButton.tsx"),r=s("./app/j/ads/enums/AdsNames.ts"),i=s("./app/j/ads/utils/isVideoAd.ts"),l=s("./app/j/assembly/buttons/index.ts"),d=s("./node_modules/classnames/index.js"),u=s.n(d),c=s("./app/j/components/T.tsx"),p=s("./app/j/i18n/useTranslation.ts"),m=s("./node_modules/polished/dist/polished.cjs.js"),g=s("./node_modules/react/index.js"),h=s("./node_modules/react-transition-group/cjs/index.js"),_=s("./node_modules/react/jsx-runtime.js");(0,m.hO)(12),(0,m.hO)(70),(0,m.hO)(45);const S="ads-modal-fade-appear",f=(0,n.z)("div")({name:"StudyModesAdsModal",class:"s1ytao72"}),y=(0,n.z)("div")({name:"TextContainer",class:"tc7vqun"}),j=(0,n.z)("div")({name:"AdsModalText",class:"a1ehhxrb"}),E=(0,n.z)("a")({name:"UpsellLink",class:"uwy5kzm"}),T=e=>{let{animationStep:t,order:s,onEntered:n,children:o}=e;return(0,_.jsx)(h.Kv,{appear:!0,classNames:"ads-modal-fade",in:t>=s,onEntered:n,timeout:600,children:o})},x=[(0,_.jsx)(c.Z,{id:"study_ads_modal.messages.message_1"}),(0,_.jsx)(c.Z,{id:"study_ads_modal.messages.message_2"}),(0,_.jsx)(c.Z,{id:"study_ads_modal.messages.message_3"}),(0,_.jsx)(c.Z,{id:"study_ads_modal.messages.message_4"}),(0,_.jsx)(c.Z,{id:"study_ads_modal.messages.message_5"}),(0,_.jsx)(c.Z,{id:"study_ads_modal.messages.message_6"}),(0,_.jsx)(c.Z,{id:"study_ads_modal.messages.message_7"})],b=e=>{const[t,s]=(()=>{const[e,t]=(0,g.useState)(0);return[e,(0,g.useCallback)((()=>t((e=>e+1))),[])]})(),[n,d]=(0,g.useState)(!1),[m,h]=(0,g.useState)(!1),[b,A]=(0,g.useState)(!1),[I,v]=(0,g.useState)(!1),[C,w]=(0,g.useState)(!1),[N,O]=(0,g.useState)(!1),[M,L]=(0,g.useState)(!0),[D,R]=(0,g.useState)(0),[P]=(0,g.useState)(Math.floor(Math.random()*x.length)),k=(0,g.useRef)(null),U=(0,g.useRef)(null),W=!C&&!I;(0,g.useEffect)((()=>(k.current=setTimeout(e.onSkip,3e3),()=>clearTimeout(k.current))),[e.onSkip]),(0,g.useEffect)((()=>{let e;return D>=0&&(e=setTimeout((()=>{R(D-1)}),1e3)),()=>{clearTimeout(e)}}),[D]);const Z=(0,g.useCallback)((()=>{v(!0),L(!1)}),[]),F=(0,g.useCallback)((e=>{clearTimeout(k.current);const{isVideo:t,isVertical:n,isVerticalFullScreen:o,isVideoWithContent:a}=(0,i.Z)(e);h(!0),w(t),d(n),A(o),O(a),(t||I)&&(setTimeout((()=>{R(5)}),600),L(!1)),s()}),[I,s]),{t:B}=(0,p.ZP)(),G=u()("a1gsqf69",S,{"StudyModesAdsModal-NativeContainer":I}),H=C&&I&&!N&&!n,V=u()("a1p47xn5",{cfn0jmj:b,"StudyModesAdModal-contentVerticalVideo":n,"StudyModesAdModal-contentNative":I,"StudyModesAdModal-contentVideo":C,a1akpkzf:W,"StudyModesAdModal-hasAdMessage":H});return(0,_.jsx)(f,{children:(0,_.jsxs)("div",{className:V,children:[(0,_.jsx)(T,{animationStep:t,onEntered:()=>{s()},order:3,children:m?(()=>{const s=u()("s1i2wjtg",S,{"StudyModesAdsModal-SkipAdButtonVerticalVideo":n});return(0,_.jsx)("div",{className:s,children:D>=0?(0,_.jsx)("div",{className:"StudyModesAdsModal-SkipAdCounter",children:(0,_.jsx)(l.B0,{disabled:!0,size:"small",text:B("study_ads_modal.skip_ad",{adTimeLeft:D+1})})}):(0,_.jsx)(a.Z,{buttonSize:"small",onClick:t>3?e.onSkip:void 0})})})():(0,_.jsx)(_.Fragment,{})}),(0,_.jsx)(T,{animationStep:t,onEntered:s,order:1,children:(0,_.jsx)("div",{className:G,children:(0,_.jsx)(o.Z,{id:r.h.STUDY_MODE_AD,onDisplayCallback:F,onEmptyAdCallback:e.onSkip,onNativeAd:Z,ref:U,showAdAttribution:!W})})}),(0,_.jsx)(T,{animationStep:t,onEntered:s,order:2,children:(H||W)&&m?(0,_.jsx)(y,{className:S,children:(0,_.jsxs)(j,{children:[H?x[P]:(0,_.jsx)(c.Z,{id:"study_ads_modal.message"}),M?(0,_.jsxs)(_.Fragment,{children:[" ",(0,_.jsx)(E,{href:"https://quizlet.com/upgrade?source=go_remove_ads",target:"upgrade",children:(0,_.jsx)(c.Z,{id:"study_ads_modal.upsell_link"})})]}):null]})}):(0,_.jsx)(_.Fragment,{})})]})})};s("./.linaria-cache/app/j/ads/components/studyModes/AdModal.linaria.css")},"./app/j/ads/components/studyModes/ContinueButton.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s("./app/j/assembly/buttons/index.ts"),o=s("./app/j/hocs/keydownDecorator.tsx"),a=s("./app/j/i18n/useTranslation.ts"),r=s("./node_modules/react/index.js"),i=s("./node_modules/react/jsx-runtime.js");const l=(0,o.Z)()((e=>{let{keydownEvent:t,onClick:s,buttonSize:o,isFullWidth:l}=e;(0,r.useEffect)((()=>{t&&s&&(t.preventDefault(),t.stopPropagation(),s())}),[s,t]);const{t:d}=(0,a.ZP)();return(0,i.jsx)(n.wI,{isFullWidth:l,onClick:s,size:o,text:d("study_ads_modal.continue")})}))},"./app/j/ads/constants/adConstants.ts":(e,t,s)=>{"use strict";s.d(t,{If:()=>n,O8:()=>o,Vj:()=>a,lw:()=>l,mW:()=>r,sV:()=>i});const n=30,o=7,a="ads-page-depth",r=3,i=5,l=5e3},"./app/j/ads/context/StudyModeAdsContext.tsx":(e,t,s)=>{"use strict";s.d(t,{Jt:()=>i,Uw:()=>r});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/react/index.js"),o=s("./node_modules/react/jsx-runtime.js");const a=(0,n.createContext)({isVideoAd:!1}),r=e=>{let{children:t}=e;const[s,r]=(0,n.useState)(!1),[i,l]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1);return(0,o.jsx)(a.Provider,{value:{isAdLoaded:i,isEmptyAd:d,isVideoAd:s,setIsAdLoaded:l,setIsEmptyAd:u,setIsVideoAd:r},children:t})},i=()=>(0,n.useContext)(a)},"./app/j/ads/enums/RefreshReason.ts":(e,t,s)=>{"use strict";let n;s.d(t,{q:()=>n}),function(e){e[e.ACTION_REFRESH=0]="ACTION_REFRESH",e[e.MOUNT_REFRESH=1]="MOUNT_REFRESH",e[e.RESIZE_REFRESH=2]="RESIZE_REFRESH",e[e.TIME_REFRESH=3]="TIME_REFRESH"}(n||(n={}))},"./app/j/ads/sizes/video.ts":(e,t,s)=>{"use strict";s.d(t,{x:()=>n});const n={ad300x250v:[300,250],ad300x600v:[300,600],ad400x300v:[400,300],ad480x270v:[480,270],ad640x360v:[640,360]}},"./app/j/ads/utils/isVideoAd.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/ads/sizes/video.ts");const o=e=>{var t;let s=!1;if(e.size instanceof Array){const[t,o]=e.size;s=Object.values(n.x).some((e=>e instanceof Array&&t===e[0]&&o===e[1]))}const o=null!=(t=null==e.slot.getHtml?void 0:e.slot.getHtml())?t:"",a=o.includes("NativeAd-vertical-video"),r=o.includes("NativeAd-vertical-video-fullscreen"),i=o.includes("NativeAd-video")||s&&o.includes("video");return{isVideo:i,isVertical:a,isVerticalFullScreen:r,isVideoWithContent:i&&o.includes("NativeAd-content")}}},"./app/j/ads/utils/screenSizes.ts":(e,t,s)=>{"use strict";s.d(t,{r:()=>a});var n=s("./app/j/constants/BreakpointConstants.ts");const o=e=>(0,n.hQ)(e,1)||0,a={veryLarge:[o("xl"),0],largeAndVeryTall:[o("l"),910],largeAndTall:[o("l"),750],large:[o("l"),0],mediumAndVeryTall:[o("m"),910],medium:[o("m"),0],small:[o("s"),0],verySmall:[o("xs"),0],tiny:[o("xxs"),300],remaining:[0,0]}},"./app/j/assembly/AssemblyToggleSwitch.tsx":(e,t,s)=>{"use strict";s.d(t,{J:()=>l,Z:()=>u});var n=s("./node_modules/classnames/index.js"),o=s.n(n),a=s("./app/j/components/UIBaseControl.tsx"),r=s("./node_modules/react/index.js"),i=s("./node_modules/react/jsx-runtime.js");let l;function d(e){return(0,i.jsx)(a.Z,{...e,baseClassName:"AssemblyToggleSwitch",extraClassNames:o()({AssemblyToggleSwitchLightGreen:e.variant===l.LIGHT_GREEN}),type:"checkbox"})}!function(e){e.DEFAULT="default",e.LIGHT_GREEN="light_green"}(l||(l={}));const u=r.memo(d);s("./.linaria-cache/app/j/assembly/AssemblyToggleSwitch.linaria.css")},"./app/j/audio_playback/index.ts":(e,t,s)=>{"use strict";s.d(t,{JF:()=>l,XZ:()=>d,ZP:()=>p,iW:()=>c});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.cjs.production.min.js"),o=s("./app/j/audio_playback/types.ts"),a=s("./app/j/core/default_store/DefaultStore.ts");const r=(0,n.createSlice)({name:o.Q,initialState:{playingAudioId:null,lastPlayedQueue:[],playQueue:[],preloadQueue:[]},reducers:{addToPreloadQueue(e,t){let{payload:s}=t;const n=s.audioItems.filter((t=>{let{audioId:s}=t;return!e.preloadQueue.find((e=>e.audioId===s))}));e.preloadQueue=[...e.preloadQueue,...n]},setPlayQueue(e,t){let{payload:s}=t;e.playQueue=s.audioItems,e.lastPlayedQueue=s.audioItems},clearPlayQueue(e){e.playingAudioId=null,e.playQueue=[]},popNextPreloadQueue(e){e.preloadQueue.length>0&&(e.preloadQueue=e.preloadQueue.slice(1))},popNextPlayQueue(e){if(e.playQueue.length>0){const t=e.playQueue[0];e.playingAudioId=t.audioId,e.playQueue=e.playQueue.slice(1)}}}}),{addToPreloadQueue:i,setPlayQueue:l,clearPlayQueue:d,popNextPreloadQueue:u,popNextPlayQueue:c}=r.actions;r.reducer;function p(){(0,a.bh)().registerReducer(o.Q,r.reducer)}},"./app/j/audio_playback/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{B6:()=>p,gA:()=>c,jZ:()=>m,oq:()=>g});var n=s("./node_modules/lodash/last.js"),o=s.n(n),a=s("./app/j/audio_playback/types.ts"),r=s("./app/j/core/default_store/DefaultStore.ts"),i=s("./node_modules/reselect/lib/index.js");const l=(0,r.iu)(a.Q),d=(0,i.createSelector)(l,(e=>e.preloadQueue)),u=((0,i.createSelector)(d,(e=>(null==e?void 0:e.length)>0?e[0]:null)),(0,i.createSelector)(l,(e=>e.playQueue))),c=(0,i.createSelector)(u,(e=>(null==e?void 0:e.length)>0?e[0]:null)),p=(0,i.createSelector)(u,(e=>(null==e?void 0:e.length)>0?o()(e):null)),m=(0,i.createSelector)(l,(e=>e.playingAudioId)),g=(0,i.createSelector)(l,(e=>e.lastPlayedQueue))},"./app/j/audio_playback/thunks.ts":(e,t,s)=>{"use strict";s.d(t,{DQ:()=>d,fM:()=>u,p0:()=>i});s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/audio_playback/index.ts"),o=s("./app/j/audio_playback/selectors.ts");let a;async function r(){const{default:e}=await s.e("app_j_utils_AudioPlayer_ts").then(s.bind(s,"./app/j/utils/AudioPlayer.ts"));return a=a||new e,a}const i=()=>async e=>((await r()).stopAll(),e((0,n.XZ)()),Promise.resolve()),l=e=>async(t,s)=>{const a=(0,o.gA)(s()),d=(0,o.B6)(s());return a&&a.audioId===(0,o.jZ)(s())?t(i()):(a?(t((0,n.iW)()),(await r()).play(a.url,{onFinish:()=>{a===d?(e&&e(),t(i())):t(l(e))},onError:()=>t(l(e))})):(e&&e(),t(i())),Promise.resolve())},d=e=>{let{audioItems:t,onEnd:s}=e;return async e=>((await r()).stopAll(),e((0,n.JF)({audioItems:t})),e(l(s)),Promise.resolve())},u=()=>async(e,t)=>{const s=(0,o.oq)(t());return await e(d({audioItems:s})),Promise.resolve()}},"./app/j/audio_playback/types.ts":(e,t,s)=>{"use strict";s.d(t,{Q:()=>n});const n="audioPlayback"},"./app/j/audio_playback/utils.ts":(e,t,s)=>{"use strict";s.d(t,{$g:()=>u,AF:()=>l,kW:()=>c,os:()=>d,v2:()=>m});var n=s("./app/j/config/enums.ts"),o=s("./app/j/global/Rollbar.ts"),a=s("./app/j/study-engine/types.ts"),r=s("./app/j/study-modes/legacy-common/engine/utils/question-element-utils.ts");function i(e,t){return e+"-"+("string"==typeof t?function(e){switch(e){case n.dU_.WORD:return n.kH9.WORD;case n.dU_.DEFINITION:return n.kH9.DEFINITION;case n.dU_.LOCATION:return n.kH9.LOCATION;default:throw new Error("Invalid StudiableCardSideLabel "+e)}}(t):t)}function l(e,t){const s=t===n.kH9.WORD?e._wordAudioUrl:e._definitionAudioUrl;return s?{audioId:i(e.id,t),url:s}:null}function d(e){return{audioItems:[{audioId:e,url:e}]}}function u(e){return e.map((e=>({audioId:e.url,url:e.url})))}function c(e){var t,s;let n,{question:i,advancedAudioSettings:l}=e;switch(i.type){case a.mw.WRITTEN_QUESTION:case a.mw.MULTIPLE_CHOICE_QUESTION:case a.mw.FILL_IN_THE_BLANK_QUESTION:n=i.prompt;break;case a.mw.REVEAL_SELF_ASSESSMENT_QUESTION:n=i.front;break;default:return void o.Z.error("Unable to find audio url elements for question type "+i.type,{advancedAudioSettings:l,question:i})}const u=null!=l&&l.slowDefinitionEnabled?null==(t=(0,r.Sg)(n).audio)?void 0:t.slowUrl:null==(s=(0,r.Sg)(n).audio)?void 0:s.url;return u?d(u):void 0}function p(e){return e.sideId+"-"+e.label}function m(e,t){return{audioId:p(e),url:t}}},"./app/j/compatibility/getLocalizedLanguage.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r,w:()=>a});var n=s("./app/j/global/Rollbar.ts");function o(e){e?n.Z.warning("Unknown language code",{language:e}):n.Z.error("Empty language param",{language:e})}function a(e,t){switch(t){case"??":return e("languages_uppercase.unknown");case"af":return e("languages_uppercase.af");case"ak":return e("languages_uppercase.ak");case"akk":return e("languages_uppercase.akk");case"am":return e("languages_uppercase.am");case"ang":return e("languages_uppercase.ang");case"ar":return e("languages_uppercase.ar");case"ase":return e("languages_uppercase.ase");case"az":return e("languages_uppercase.az");case"be":return e("languages_uppercase.be");case"bg":return e("languages_uppercase.bg");case"bh":return e("languages_uppercase.bh");case"bn":return e("languages_uppercase.bn");case"bo":return e("languages_uppercase.bo");case"br":return e("languages_uppercase.br");case"bs":return e("languages_uppercase.bs");case"ca":return e("languages_uppercase.ca");case"ceb":return e("languages_uppercase.ceb");case"ch":return e("languages_uppercase.ch");case"chem":return e("languages_uppercase.chem");case"cho":return e("languages_uppercase.cho");case"chr":return e("languages_uppercase.chr");case"co":return e("languages_uppercase.co");case"cop":return e("languages_uppercase.cop");case"cs":return e("languages_uppercase.cs");case"cy":return e("languages_uppercase.cy");case"da":return e("languages_uppercase.da");case"de":return e("languages_uppercase.de");case"den":return e("languages_uppercase.den");case"dv":return e("languages_uppercase.dv");case"dyo":return e("languages_uppercase.dyo");case"el":return e("languages_uppercase.el");case"en":return e("languages_uppercase.en");case"eo":return e("languages_uppercase.eo");case"es":return e("languages_uppercase.es");case"et":return e("languages_uppercase.et");case"eu":return e("languages_uppercase.eu");case"fa":return e("languages_uppercase.fa");case"ff":return e("languages_uppercase.ff");case"fi":return e("languages_uppercase.fi");case"fil":return e("languages_uppercase.fil");case"fo":return e("languages_uppercase.fo");case"fr":return e("languages_uppercase.fr");case"fy":return e("languages_uppercase.fy");case"ga":return e("languages_uppercase.ga");case"gd":return e("languages_uppercase.gd");case"gl":return e("languages_uppercase.gl");case"gn":return e("languages_uppercase.gn");case"got":return e("languages_uppercase.got");case"gu":return e("languages_uppercase.gu");case"ha":return e("languages_uppercase.ha");case"hai":return e("languages_uppercase.hai");case"haw":return e("languages_uppercase.haw");case"hi":return e("languages_uppercase.hi");case"hil":return e("languages_uppercase.hil");case"hmv":return e("languages_uppercase.hmv");case"hr":return e("languages_uppercase.hr");case"ht":return e("languages_uppercase.ht");case"hu":return e("languages_uppercase.hu");case"hy":return e("languages_uppercase.hy");case"id":return e("languages_uppercase.id");case"ig":return e("languages_uppercase.ig");case"ipa":return e("languages_uppercase.ipa");case"is":return e("languages_uppercase.is");case"it":return e("languages_uppercase.it");case"iu":return e("languages_uppercase.iu");case"iw":return e("languages_uppercase.iw");case"ja":return e("languages_uppercase.ja");case"ja-ka":return e("languages_uppercase.ja_ka");case"ja-ro":return e("languages_uppercase.ja_ro");case"jv":return e("languages_uppercase.jv");case"ka":return e("languages_uppercase.ka");case"kg":return e("languages_uppercase.kg");case"kin":return e("languages_uppercase.kin");case"kio":return e("languages_uppercase.kio");case"kk":return e("languages_uppercase.kk");case"km":return e("languages_uppercase.km");case"kn":return e("languages_uppercase.kn");case"ko":return e("languages_uppercase.ko");case"ksw":return e("languages_uppercase.ksw");case"ku":return e("languages_uppercase.ku");case"ky":return e("languages_uppercase.ky");case"la":return e("languages_uppercase.la");case"lb":return e("languages_uppercase.lb");case"lkt":return e("languages_uppercase.lkt");case"ln":return e("languages_uppercase.ln");case"lo":return e("languages_uppercase.lo");case"lt":return e("languages_uppercase.lt");case"lua":return e("languages_uppercase.lua");case"luo":return e("languages_uppercase.luo");case"lv":return e("languages_uppercase.lv");case"math":return e("languages_uppercase.math");case"mg":return e("languages_uppercase.mg");case"mh":return e("languages_uppercase.mh");case"mi":return e("languages_uppercase.mi");case"mjd":return e("languages_uppercase.mjd");case"mk":return e("languages_uppercase.mk");case"ml":return e("languages_uppercase.ml");case"mn":return e("languages_uppercase.mn");case"mnk":return e("languages_uppercase.mnk");case"moh":return e("languages_uppercase.moh");case"mr":return e("languages_uppercase.mr");case"ms":return e("languages_uppercase.ms");case"mt":return e("languages_uppercase.mt");case"my":return e("languages_uppercase.my");case"nah":return e("languages_uppercase.nah");case"ne":return e("languages_uppercase.ne");case"nl":return e("languages_uppercase.nl");case"no":return e("languages_uppercase.no");case"nv":return e("languages_uppercase.nv");case"oc":return e("languages_uppercase.oc");case"oj":return e("languages_uppercase.oj");case"om":return e("languages_uppercase.om");case"ood":return e("languages_uppercase.ood");case"or":return e("languages_uppercase.or");case"pa":return e("languages_uppercase.pa");case"photo":return e("languages_uppercase.photo");case"pi":return e("languages_uppercase.pi");case"pl":return e("languages_uppercase.pl");case"ps":return e("languages_uppercase.ps");case"pt":return e("languages_uppercase.pt");case"qu":return e("languages_uppercase.qu");case"rar":return e("languages_uppercase.rar");case"rm":return e("languages_uppercase.rm");case"ro":return e("languages_uppercase.ro");case"ru":return e("languages_uppercase.ru");case"sa":return e("languages_uppercase.sa");case"sd":return e("languages_uppercase.sd");case"see":return e("languages_uppercase.see");case"shn":return e("languages_uppercase.shn");case"si":return e("languages_uppercase.si");case"sk":return e("languages_uppercase.sk");case"sl":return e("languages_uppercase.sl");case"sm":return e("languages_uppercase.sm");case"so":return e("languages_uppercase.so");case"sq":return e("languages_uppercase.sq");case"sr":return e("languages_uppercase.sr");case"su":return e("languages_uppercase.su");case"sv":return e("languages_uppercase.sv");case"sw":return e("languages_uppercase.sw");case"syc":return e("languages_uppercase.syc");case"ta":return e("languages_uppercase.ta");case"te":return e("languages_uppercase.te");case"tet":return e("languages_uppercase.tet");case"tg":return e("languages_uppercase.tg");case"th":return e("languages_uppercase.th");case"ti":return e("languages_uppercase.ti");case"tl":return e("languages_uppercase.tl");case"to":return e("languages_uppercase.to");case"tr":return e("languages_uppercase.tr");case"trc":return e("languages_uppercase.trc");case"tt":return e("languages_uppercase.tt");case"tyv":return e("languages_uppercase.tyv");case"ug":return e("languages_uppercase.ug");case"uk":return e("languages_uppercase.uk");case"unm":return e("languages_uppercase.unm");case"ur":return e("languages_uppercase.ur");case"uz":return e("languages_uppercase.uz");case"vi":return e("languages_uppercase.vi");case"win":return e("languages_uppercase.win");case"wo":return e("languages_uppercase.wo");case"xh":return e("languages_uppercase.xh");case"yi":return e("languages_uppercase.yi");case"yo":return e("languages_uppercase.yo");case"zh-CN":return e("languages_uppercase.zh_cn");case"zh-pi":return e("languages_uppercase.zh_pi");case"zh-TW":return e("languages_uppercase.zh_tw");case"zu":return e("languages_uppercase.zu");default:return o(t),t}}function r(e,t){switch(t){case"??":return e("languages.unknown");case"af":return e("languages.af");case"ak":return e("languages.ak");case"akk":return e("languages.akk");case"am":return e("languages.am");case"ang":return e("languages.ang");case"ar":return e("languages.ar");case"ase":return e("languages.ase");case"az":return e("languages.az");case"be":return e("languages.be");case"bg":return e("languages.bg");case"bh":return e("languages.bh");case"bn":return e("languages.bn");case"bo":return e("languages.bo");case"br":return e("languages.br");case"bs":return e("languages.bs");case"ca":return e("languages.ca");case"ceb":return e("languages.ceb");case"ch":return e("languages.ch");case"chem":return e("languages.chem");case"cho":return e("languages.cho");case"chr":return e("languages.chr");case"co":return e("languages.co");case"cop":return e("languages.cop");case"cs":return e("languages.cs");case"cy":return e("languages.cy");case"da":return e("languages.da");case"de":return e("languages.de");case"den":return e("languages.den");case"dv":return e("languages.dv");case"dyo":return e("languages.dyo");case"el":return e("languages.el");case"en":return e("languages.en");case"eo":return e("languages.eo");case"es":return e("languages.es");case"et":return e("languages.et");case"eu":return e("languages.eu");case"fa":return e("languages.fa");case"ff":return e("languages.ff");case"fi":return e("languages.fi");case"fil":return e("languages.fil");case"fo":return e("languages.fo");case"fr":return e("languages.fr");case"fy":return e("languages.fy");case"ga":return e("languages.ga");case"gd":return e("languages.gd");case"gl":return e("languages.gl");case"gn":return e("languages.gn");case"got":return e("languages.got");case"gu":return e("languages.gu");case"ha":return e("languages.ha");case"hai":return e("languages.hai");case"haw":return e("languages.haw");case"hi":return e("languages.hi");case"hil":return e("languages.hil");case"hmv":return e("languages.hmv");case"hr":return e("languages.hr");case"ht":return e("languages.ht");case"hu":return e("languages.hu");case"hy":return e("languages.hy");case"id":return e("languages.id");case"ig":return e("languages.ig");case"ipa":return e("languages.ipa");case"is":return e("languages.is");case"it":return e("languages.it");case"iu":return e("languages.iu");case"iw":return e("languages.iw");case"ja":return e("languages.ja");case"ja-ka":return e("languages.ja_ka");case"ja-ro":return e("languages.ja_ro");case"jv":return e("languages.jv");case"ka":return e("languages.ka");case"kg":return e("languages.kg");case"kin":return e("languages.kin");case"kio":return e("languages.kio");case"kk":return e("languages.kk");case"km":return e("languages.km");case"kn":return e("languages.kn");case"ko":return e("languages.ko");case"ksw":return e("languages.ksw");case"ku":return e("languages.ku");case"ky":return e("languages.ky");case"la":return e("languages.la");case"lb":return e("languages.lb");case"lkt":return e("languages.lkt");case"ln":return e("languages.ln");case"lo":return e("languages.lo");case"lt":return e("languages.lt");case"lua":return e("languages.lua");case"luo":return e("languages.luo");case"lv":return e("languages.lv");case"math":return e("languages.math");case"mg":return e("languages.mg");case"mh":return e("languages.mh");case"mi":return e("languages.mi");case"mjd":return e("languages.mjd");case"mk":return e("languages.mk");case"ml":return e("languages.ml");case"mn":return e("languages.mn");case"mnk":return e("languages.mnk");case"moh":return e("languages.moh");case"mr":return e("languages.mr");case"ms":return e("languages.ms");case"mt":return e("languages.mt");case"my":return e("languages.my");case"nah":return e("languages.nah");case"ne":return e("languages.ne");case"nl":return e("languages.nl");case"no":return e("languages.no");case"nv":return e("languages.nv");case"oc":return e("languages.oc");case"oj":return e("languages.oj");case"om":return e("languages.om");case"ood":return e("languages.ood");case"or":return e("languages.or");case"pa":return e("languages.pa");case"photo":return e("languages.photo");case"pi":return e("languages.pi");case"pl":return e("languages.pl");case"ps":return e("languages.ps");case"pt":return e("languages.pt");case"qu":return e("languages.qu");case"rar":return e("languages.rar");case"rm":return e("languages.rm");case"ro":return e("languages.ro");case"ru":return e("languages.ru");case"sa":return e("languages.sa");case"sd":return e("languages.sd");case"see":return e("languages.see");case"shn":return e("languages.shn");case"si":return e("languages.si");case"sk":return e("languages.sk");case"sl":return e("languages.sl");case"sm":return e("languages.sm");case"so":return e("languages.so");case"sq":return e("languages.sq");case"sr":return e("languages.sr");case"su":return e("languages.su");case"sv":return e("languages.sv");case"sw":return e("languages.sw");case"syc":return e("languages.syc");case"ta":return e("languages.ta");case"te":return e("languages.te");case"tet":return e("languages.tet");case"tg":return e("languages.tg");case"th":return e("languages.th");case"ti":return e("languages.ti");case"tl":return e("languages.tl");case"to":return e("languages.to");case"tr":return e("languages.tr");case"trc":return e("languages.trc");case"tt":return e("languages.tt");case"tyv":return e("languages.tyv");case"ug":return e("languages.ug");case"uk":return e("languages.uk");case"unm":return e("languages.unm");case"ur":return e("languages.ur");case"uz":return e("languages.uz");case"vi":return e("languages.vi");case"win":return e("languages.win");case"wo":return e("languages.wo");case"xh":return e("languages.xh");case"yi":return e("languages.yi");case"yo":return e("languages.yo");case"zh-CN":return e("languages.zh_cn");case"zh-pi":return e("languages.zh_pi");case"zh-TW":return e("languages.zh_tw");case"zu":return e("languages.zu");default:return o(t),t}}},"./app/j/compatibility/localeCompare.ts":(e,t,s)=>{"use strict";s.d(t,{Y:()=>n,Z:()=>o});const n=function(){try{"foo".localeCompare("bar","i")}catch(e){return"RangeError"===e.name}return!1}();function o(e,t,s){return n?e.localeCompare(t,[s,"en-US"],{numeric:!0}):e.localeCompare(t)}},"./app/j/components/DeprecatedFormattedTextWithImage.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/@linaria/react/lib/index.js"),o=s("./app/j/components/FormattedText.tsx"),a=s("./app/j/components/Image.tsx"),r=s("./app/j/lazy/QuestionHintContainerLazy.ts"),i=s("./node_modules/react/index.js"),l=s("./node_modules/react/jsx-runtime.js");const d=(0,n.z)("div")({name:"TermTextClicKWrapper",class:"tpo8fik"});class u extends i.Component{constructor(){super(...arguments),this.renderFormattedText=()=>{const{imageUrl:e,lang:t,text:s}=this.props;return(0,l.jsxs)(l.Fragment,{children:[void 0!==s&&t?(0,l.jsx)(o.Z,{lang:t,maxLength:this.props.maxLength,richText:this.props.richText,text:s,...this.props}):null,e?(0,l.jsx)("div",{className:"FormattedTextWithImage-image",children:(0,l.jsx)(a.default,{alt:this.props.text,clickToZoom:this.props.clickToZoom,shape:this.props.imageShape,size:this.props.imageSize,src:e})}):null]})},this.renderFormattedTextWithQuestionHint=()=>{const{handleTermTextClick:e,questionHint:t}=this.props;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d,{onClick:e,children:this.renderFormattedText()}),(0,l.jsx)(r.Z,{hint:null!=t?t:null})]})}}render(){const{handleTermTextClick:e,questionHint:t}=this.props;return(0,l.jsx)("div",{className:"FormattedTextWithImage",onClick:t?()=>{}:e,children:t?this.renderFormattedTextWithQuestionHint():this.renderFormattedText()})}}s("./.linaria-cache/app/j/components/DeprecatedFormattedTextWithImage.linaria.css")},"./app/j/components/DeprecatedModeLayout.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var n=s("./app/j/ads/components/studyModes/AdModal.tsx"),o=s("./node_modules/classnames/index.js"),a=s.n(o),r=s("./app/j/components/EmbedFooter.tsx"),i=s("./app/j/components/MobileHeaderBreakpoint.tsx"),l=s("./app/j/components/ModePortal.tsx"),d=s("./app/j/components/UIContainer.tsx"),u=s("./app/j/header/constants.ts"),c=s("./node_modules/matchmedia/index.js"),p=s.n(c),m=s("./node_modules/react/index.js"),g=s("./app/j/utils/EventListener.ts"),h=s("./app/j/utils/ScrollInfo.ts"),_=s("./app/j/utils/UserAgentHelper.ts"),S=s("./node_modules/react/jsx-runtime.js");const f=e=>(0,S.jsx)(i.Z,{above:e.aboveMediumBreakpoint,children:(0,S.jsx)("div",{className:"ModeLayout-ad",children:e.unit})});class y extends m.Component{constructor(e){super(e),this.state={appSmartBannerIsShown:!1,scrollTop:0},this.handleScroll=()=>{const e=h.Z.getScrollTop();(e<=u.Pp||this.state.scrollTop<=u.Pp)&&this.setState({scrollTop:e})},this.handleResize=()=>{this.checkForSmartBannerApp()},this.handleAdSkip=()=>{const{onCloseAdModal:e}=this.props;void 0!==e&&e()},this.renderControls=e=>{const t=e?{}:{top:this.props.isEmbedding?0:Math.max(0,u.Pp-this.state.scrollTop)};return this.props.showAdModal&&(t.display="none"),(0,S.jsx)("div",{className:"ModeLayout-controls",style:t,children:this.props.controls})},e.isEmbedding||(this._scrollListener=g.Z.listen(window,"scroll",(()=>window.requestAnimationFrame(this.handleScroll))),this._resizeListener=g.Z.listen(window,"resize",(()=>window.requestAnimationFrame(this.handleResize))))}UNSAFE_componentWillMount(){this._timeout=window.setTimeout((()=>{this.checkForSmartBannerApp()}),200)}componentWillUnmount(){this._scrollListener&&this._scrollListener.remove(),this._resizeListener&&this._resizeListener.remove(),this._timeout&&clearTimeout(this._timeout)}renderPortal(){return(0,S.jsx)(l.Z,{onMount:this.props.onMount,children:this.props.children})}renderContent(e){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i.Z,{children:e=>this.renderControls(e)}),(0,S.jsx)("div",{className:e,children:this.props.shouldUsePortal?this.renderPortal():this.props.children}),this.props.mWebAdUnit?(0,S.jsx)(f,{aboveMediumBreakpoint:!1,unit:this.props.mWebAdUnit}):null,this.props.adUnit?(0,S.jsx)(f,{aboveMediumBreakpoint:!0,unit:this.props.adUnit}):null]})}render(){const e=a()("ModeLayout",{"is-fullWidth":this.props.shouldBeFullWidth||this.props.showAdModal,"is-fullHeight":this.props.shouldBeFullHeight,"is-showingAdz":!!this.props.adUnit,"is-showingSmartBanner":this.state.appSmartBannerIsShown,"is-usingDarkBackground":this.props.shouldUseDarkBackground,"is-showingTasks":this.props.shouldHaveNoPadding}),t=a()("ModeLayout-content",{"is-fullHorizontalBleed":this.props.isFullHorizontalBleed,"is-showingTasks":this.props.shouldHaveNoPadding});return(0,S.jsxs)("div",{className:e,children:[(0,S.jsx)(d.Z,{children:this.props.showAdModal?(0,S.jsx)(n.Z,{onSkip:this.handleAdSkip}):this.renderContent(t)}),this.props.isEmbedding?(0,S.jsx)(r.Z,{studyableId:this.props.studyableId,studyablePath:this.props.studyablePath}):null]})}checkForSmartBannerApp(){const e=window.innerHeight!==window.document.documentElement.clientHeight&&(0,_.au)()&&p()("all and (orientation:portrait)").matches;this.setState({appSmartBannerIsShown:e})}}y.defaultProps={isEmbedding:!1,isFullHorizontalBleed:!1,onMount:()=>{},shouldBeFullHeight:!1,shouldBeFullWidth:!1,shouldHaveNoPadding:!1,shouldUseDarkBackground:!1,shouldUsePortal:!0,showAdModal:!1}},"./app/j/components/DeprecatedSpecialCharacterTextarea.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/@linaria/core/lib/index.js"),o=s("./app/j/assembly/AssemblyBreakpoint.tsx"),a=s("./node_modules/classnames/index.js"),r=s.n(a),i=s("./app/j/components/UITextarea.tsx"),l=s("./node_modules/nullthrows/nullthrows.js"),d=s.n(l),u=s("./node_modules/react/index.js"),c=s("./app/j/rich_text/components/SpecialCharactersToolbar.tsx"),p=s("./app/j/study-modes/legacy-common/components/SpecialCharacterButtonGroup.tsx"),m=s("./app/j/utils/AccentHelper.ts");s("./node_modules/core-js/modules/es.array.sort.js");var g=s("./app/j/utils/EventListener.ts"),h=s("./app/j/utils/shallow-equal.ts"),_=s("./node_modules/react/jsx-runtime.js");class S extends u.Component{constructor(){super(...arguments),this.state={isClicking:!1,isComponentFocused:!1},this.handleBlur=e=>{this.state.isClicking||this.setState({isComponentFocused:!1}),this.props.onBlur&&this.props.onBlur(e)},this.handleComponentFocus=e=>{this.setState({isComponentFocused:!0}),this.props.onFocus&&this.props.onFocus(e)},this.handleMouseUp=e=>{this.setState({isClicking:!1}),this.props.onMouseUp&&this.props.onMouseUp(e)},this.handleMouseDown=e=>{this.setState({isClicking:!0}),this.props.onNativeMouseDown&&this.props.onNativeMouseDown(e)},this.handleAccent=e=>{const t=d()(this.textareaRef.current,"Could not find text area component"),s=this.getSelectionStart(),n=this.getSelectionEnd();if(-1===n)return;const o=this.getTextarea();if(!o)return;const a=o.value||"",r=a.slice(0,s)+e+a.slice(n),i=window.document.createEvent("Event");i.initEvent("input",!0,!0);const l=o,u=Object.getOwnPropertyDescriptor(l.constructor.prototype,"value");null!=u&&u.set?u.set.call(l,r):l.value=r,l.dispatchEvent(i),this.setState({},(()=>t.setCaretPosition(s+e.length)))},this.wrapperRef=u.createRef(),this.textareaRef=u.createRef()}componentDidMount(){this.wrapperRef.current&&(this.wrapperMouseDownListener=g.Z.listen(this.wrapperRef.current,"mousedown",this.handleMouseDown))}shouldComponentUpdate(e,t){return!(0,h.Z)(this.props,e,["languageCodes"])||(!(0,h.Z)(this.state,t)||!function(e,t){if(null==e||null==t)return e===t;if(e.length!==t.length)return!1;e.sort(),t.sort();for(let s=0;s<e.length;++s)if(e[s]!==t[s])return!1;return!0}(this.props.languageCodes,e.languageCodes))}componentWillUnmount(){this.wrapperMouseDownListener&&(this.wrapperMouseDownListener.remove(),this.wrapperMouseDownListener=null)}getCharactersByLang(){const e=m.Z.getCharactersByLangForLangs(this.props.languageCodes);if(this.props.specificAccents.length>0&&this.props.languageCodes.length>0){e[this.props.languageCodes[0]]=this.props.specificAccents}return e}getSelectionStart(){return this.textareaRef.current?this.textareaRef.current.getSelectionStart():-1}getSelectionEnd(){return this.textareaRef.current?this.textareaRef.current.getSelectionEnd():-1}getTextarea(){return this.textareaRef.current?this.textareaRef.current.getTextarea():null}renderAccentsBar(){const e=(0,n.cx)("SpecialCharacterTextarea-accentsBar",c.i,this.props.textAreaVariant&&"default"!==this.props.textAreaVariant&&"SpecialCharacterTextarea-accentsBar--"+this.props.textAreaVariant);return(0,_.jsx)("div",{className:e,children:(0,_.jsx)("div",{className:"SpecialCharacterTextarea-accentsBarInner",children:(0,_.jsx)("div",{className:"SpecialCharacterTextarea-accentBarWrap",children:(0,_.jsx)(p.Z,{buttonSize:"small",charactersByLang:this.getCharactersByLang(),onClickButton:this.handleAccent})})})})}renderAccentButtonsInline(){return(0,_.jsx)(p.Z,{buttonSize:"small",charactersByLang:this.getCharactersByLang(),compact:!0,onClickButton:this.handleAccent})}renderAccentsDropdown(){return this.state.isComponentFocused&&this.containsAccentLanguage()?(0,_.jsx)("div",{className:"amdwqu",children:this.renderAccentsBar()}):null}render(){const{languageCodes:e,onFocus:t,specificAccents:s,variant:n,textAreaVariant:a,...l}=this.props,d=r()("SpecialCharacterTextarea",{"is-focused":this.state.isComponentFocused});return(0,_.jsxs)("div",{className:d,onMouseUp:this.handleMouseUp,ref:this.wrapperRef,children:[(0,_.jsx)(i.Z,{...l,onBlur:this.handleBlur,onFocus:this.handleComponentFocus,ref:this.textareaRef,variant:a}),(0,_.jsx)(o.ZP,{lowerBound:"s",children:"inline"===this.props.variant?this.renderAccentButtonsInline():this.renderAccentsDropdown()})]})}focus(e){const t=d()(this.textareaRef.current,"Missing textareaRef in focus(number)");this.setState({isComponentFocused:!0}),t.focus(e)}blur(){const e=d()(this.textareaRef.current,"Missing textareaRef in blur()");this.setState({isComponentFocused:!1}),e.blur()}select(){d()(this.textareaRef.current,"Missing textareaRef in select()").select()}setCaretPosition(e){d()(this.textareaRef.current,"Missing textareaRef in setCaretPosition(number)").setCaretPosition(e)}setSelectionRange(e,t){d()(this.textareaRef.current,"Missing textarea in setSelectionRange(start, end)").setSelectionRange(e,t)}containsAccentLanguage(){return m.Z.containsAccentLanguage(this.props.languageCodes)}}S.defaultProps={...i.Z.defaultProps,languageCodes:[],specificAccents:[],type:"autoExpand",variant:"dropdown"},s("./.linaria-cache/app/j/components/DeprecatedSpecialCharacterTextarea.linaria.css")},"./app/j/components/EmbedFooter.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var n=s("./node_modules/@linaria/react/lib/index.js"),o=s("./app/j/assembly/AssemblyBreakpoint.tsx"),a=s("./app/j/components/SiteLogo.tsx"),r=s("./app/j/config/enums.ts"),i=s("./app/j/i18n/useTranslation.ts"),l=s("./app/j/utils/ModeHelper.ts"),d=s("./app/j/utils/redirect.ts"),u=s("./node_modules/react/jsx-runtime.js");const c=(0,n.z)("div")({name:"Wrapper",class:"w1o70emd"}),p=(0,n.z)("select")({name:"Dropdown",class:"d1tdrq3f"}),m=(0,n.z)("div")({name:"Branding",class:"bdd69rs"}),g=(0,n.z)("span")({name:"CallToAction",class:"ciwdi05"});function h(e){const{t}=(0,i.ZP)(),s="undefined"==typeof window||e.studyablePath.startsWith("https://")?e.studyablePath:window.location.origin+e.studyablePath;return(0,u.jsxs)(c,{children:[(0,u.jsxs)(p,{"aria-label":t("embed_footer.choose_a_study_mode"),onChange:s=>{if(s.target.value===t("embed_footer.choose_a_study_mode"))return;const n=(0,l.$2)(e.studyableId,parseInt(s.target.value,10));(0,d.ZP)(n+"/embed")},children:[(0,u.jsx)("option",{children:t("embed_footer.choose_a_study_mode")}),(0,u.jsx)("option",{value:r.aKJ.SCATTER,children:t("study_mode.name.scatter")}),(0,u.jsx)("option",{value:r.aKJ.LEARNING_ASSISTANT,children:t("study_mode.name.learning_assistant")}),(0,u.jsx)("option",{value:r.aKJ.TEST,children:t("study_mode.name.test")}),(0,u.jsx)("option",{value:r.aKJ.FLASHCARDS,children:t("study_mode.name.flashcards")}),(0,u.jsx)("option",{value:r.aKJ.SPELLER,children:t("study_mode.name.speller")})]}),(0,u.jsxs)(m,{children:[(0,u.jsx)("a",{href:"/",target:"_top",children:(0,u.jsx)(a.Z,{className:"f1k0xbqf"})}),(0,u.jsxs)("a",{href:s,target:"_top",children:[(0,u.jsx)(o.ZP,{lowerBound:"xs",children:(0,u.jsx)(g,{children:t("embed_footer.view_this_study_set_long")})}),(0,u.jsx)(o.ZP,{upperBound:"xs",children:(0,u.jsx)(g,{children:t("embed_footer.view_this_study_set_short")})})]})]})]})}s("./.linaria-cache/app/j/components/EmbedFooter.linaria.css")},"./app/j/components/FormattedText.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var n=s("./node_modules/classnames/index.js"),o=s.n(n),a=(s("./node_modules/react/index.js"),s("./node_modules/react-textfit/lib/index.js")),r=s("./app/j/rich_text/components/PMDocument.tsx"),i=s("./app/j/utils/ellipsis.ts"),l=s("./node_modules/react/jsx-runtime.js");const d=/\*([^*\n\r]+)\*/g,u=/\*[^*\n\r]+\*/g,c=/(\r\n|\n\r|\r|\n)/;function p(e){let{text:t,maxLength:s,lang:n}=e;return(0,l.jsx)(l.Fragment,{children:t?function(e){let t=e;s&&(t=(0,i.Z)(t,s));let o=0;return t.split(c).map((e=>e.match(c)?(0,l.jsx)("br",{},"key-"+o++):"math"!==n&&"chem"!==n?function(e){const t=e.split(u),s=[];let n=0;t[n]&&s.push(t[n]),n+=1;let o=d.exec(e);for(;o;)s.push((0,l.jsx)("b",{children:o[1]},"md-"+n)),t[n]&&s.push(t[n]),n++,o=d.exec(e);return s}(e):e))}(t):"..."})}function m(e){let{className:t,lang:s,maxLength:n,onClick:i,richText:d,text:u,textfit:c}=e;const m=o()("FormattedText","notranslate",t,"lang-"+s),g="undefined"!=typeof window&&d?(0,l.jsx)(r.Z,{pmJson:d}):(0,l.jsx)(p,{lang:s,maxLength:n,text:u});if(c){const e="boolean"==typeof c?{}:c;return(0,l.jsx)(a.ZP,{"aria-label":u,className:m,onClick:i,...e,children:g})}return(0,l.jsx)("div",{"aria-label":u,className:m,onClick:i,children:g})}},"./app/j/components/MobileHeaderBreakpoint.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i,z:()=>r});var n=s("./app/j/components/UIBreakpoint.tsx"),o=s("./node_modules/react/index.js"),a=s("./node_modules/react/jsx-runtime.js");const r="s";class i extends o.PureComponent{render(){return(0,a.jsx)(n.Z,{above:this.props.above?r:void 0,below:this.props.above?void 0:r,children:this.props.children})}}},"./app/j/components/ModeControls.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>E});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/classnames/index.js"),o=s.n(n),a=s("./app/j/components/MobileHeaderBreakpoint.tsx"),r=s("./app/j/components/T.tsx"),i=s("./app/j/components/UIButton.tsx"),l=s("./app/j/components/UIIcon.tsx"),d=s("./app/j/components/UILink.tsx"),u=s("./app/j/components/UIModeIcon.tsx"),c=s("./app/j/components/UIOverlayTrigger.tsx"),p=s("./app/j/global/Quizlet.ts"),m=s("./app/j/i18n/$t.ts"),g=s("./node_modules/react/index.js"),h=s("./app/j/signup/components/AuthPromptModal.tsx"),_=s("./app/j/signup/types/auth.ts"),S=s("./app/j/utils/is-element-active.ts"),f=s("./app/j/utils/log-page-action.ts"),y=s("./app/j/utils/ModeHelper.ts"),j=s("./node_modules/react/jsx-runtime.js");class E extends g.Component{constructor(){super(...arguments),this.state={isSignupModalOpen:!1,signupModalHasBeenSeen:!1},this.handleClickOptions=e=>{const t=e.currentTarget;(0,S.Z)(t)&&t.blur(),this.props.onClickOptions&&this.props.onClickOptions()},this.handleSignupCurtainModalClose=()=>{this.setState({isSignupModalOpen:!1})},this.onBackClick=e=>{this.state.signupModalHasBeenSeen||p.Z.user||!y.J.includes(this.props.modeType)?this.props.onClickBack&&this.props.onClickBack(e):(e.preventDefault(),this.setState({isSignupModalOpen:!0}),this.setState({signupModalHasBeenSeen:!0})),(0,f.Z)("study_mode_back_button_clicked")}}renderCustomHeaderActions(e){return(0,j.jsx)("div",{className:"ModeControls-modeHeaderOptions",children:e.map(((e,t)=>(0,j.jsx)("span",{className:"ModeControls-modeHeaderOption",children:e},t)))})}renderHeaderOptionsAction(){const e=(0,j.jsx)(d.Z,{onClick:this.handleClickOptions,variant:"inverted",children:(0,j.jsx)(l.Z,{className:"ModeControls-modeHeaderIcon",icon:"options"})});return(0,j.jsx)("div",{className:"ModeControls-modeHeaderOptions",children:this.props.optionsOverlay?(0,j.jsx)(c.Z,{className:"ModeControls-optionsOverlay",overlay:this.props.optionsOverlay,position:"bottom right",triggerAction:"click",children:e}):e})}renderHeaderActions(){return this.props.customHeaderActions?this.renderCustomHeaderActions(this.props.customHeaderActions):this.props.shouldShowOptionsButton?this.renderHeaderOptionsAction():null}renderHeader(){const{shouldCombineActionsAndProgress:e}=this.props;return(0,j.jsxs)("div",{className:"ModeControls-header",children:[(0,j.jsxs)("div",{className:o()("ModeControls-modeHeader",{"ModeControls-actionsAndProgressCombined":e}),children:[(0,j.jsx)("div",{className:"ModeControls-modeHeaderBack",children:(0,j.jsx)(d.Z,{onClick:this.onBackClick,to:this.props.studyablePath,variant:"inverted",children:(0,j.jsx)(l.Z,{className:"ModeControls-modeHeaderIcon",icon:"arrow-left"})})}),e&&this.props.progress?this.renderProgress():null,this.renderHeaderActions()]}),!e&&this.props.progress?this.renderProgress():null]})}renderSidebar(){const e=(0,j.jsx)("div",{className:"ModeControls-back",children:(0,j.jsxs)(d.Z,{onClick:this.onBackClick,to:this.props.studyablePath,children:[(0,j.jsx)(l.Z,{className:"ModeControls-backIcon",icon:"caret-left",size:"large"}),(0,j.jsx)("span",{className:"ModeControls-backText",children:this.props.backText||(0,j.jsx)(r.Z,{id:"modes.mode_controls.back_button"})})]})}),t=(0,j.jsxs)("div",{"aria-labelledby":"modeControls-modeLabel-"+this.props.modeName,className:"ModeControls-modeName",children:[(0,j.jsx)(u.ZP,{mode:this.props.modeType,variant:"small"}),(0,j.jsx)("span",{id:"modeControls-modeLabel-"+this.props.modeName,children:this.props.modeName}),this.props.shouldBlurTopAndBottom?(0,j.jsx)("div",{className:"ModeControls-blurTop"}):null]});return(0,j.jsxs)("aside",{className:"ModeControls-sidebar",children:[e,(0,j.jsxs)("div",{className:"ModeControls-main",children:[t,this.props.progress?this.renderProgress():null,this.renderSidebarActions()]})]})}renderAuthPromptModal(){return p.Z.user?null:(0,j.jsx)(h.q,{barrierType:"curtain",includeSubtitle:!1,isOpen:this.state.isSignupModalOpen,onClose:this.handleSignupCurtainModalClose,placement:_.V.STUDY_MODE_BACK_BUTTON,redirectPath:this.props.studyablePath||"/latest",signupOrigin:this.props.signupOrigin,titleOverride:(0,m.Z)("study_modes_signup_curtain_modal.back_button.title")})}renderProgress(){return(0,j.jsx)("div",{className:"ModeControls-progress",children:g.Children.map(this.props.progress,((e,t)=>(0,j.jsx)("div",{className:"ModeControls-progressSection",children:e},"progress-"+t)))})}renderSidebarOptionsAction(){const e=(0,j.jsxs)(i.Z,{"aria-label":(0,m.Z)("modes.mode_controls.options_button"),onClick:this.handleClickOptions,variant:"whiteBorder",width:"fill",children:[(0,j.jsx)(l.Z,{icon:"options"}),(0,j.jsx)(r.Z,{id:"modes.mode_controls.options_button"})]});return(0,j.jsx)("div",{className:"ModeControls-action",children:this.props.optionsOverlay?(0,j.jsx)(c.Z,{className:"ModeControls-optionsOverlay",overlay:this.props.optionsOverlay,position:"top left",triggerAction:"click",children:e}):e},"action-options")}renderSidebarActions(){return(0,j.jsxs)("div",{className:"ModeControls-actions",children:[this.props.shouldBlurTopAndBottom?(0,j.jsx)("div",{className:"ModeControls-blurBottom"}):null,g.Children.map(this.props.actions,((e,t)=>(0,j.jsx)("div",{className:"ModeControls-action",children:e},"action-"+t))),this.props.shouldShowOptionsButton?this.renderSidebarOptionsAction():null]})}render(){return(0,j.jsxs)("div",{className:"ModeControls",children:[(0,j.jsx)(a.Z,{children:e=>e?this.renderHeader():this.renderSidebar()}),this.renderAuthPromptModal()]})}}E.defaultProps={shouldBlurTopAndBottom:!1,shouldCombineActionsAndProgress:!1,shouldShowOptionsButton:!0}},"./app/j/components/ModeLayout.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>I});var n=s("./node_modules/@linaria/core/lib/index.js"),o=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/ads/components/studyModes/AdModal.tsx"),r=s("./app/j/assembly/foundations/Spacing.ts"),i=s("./app/j/components/EmbedFooter.tsx"),l=s("./app/j/components/MobileHeaderBreakpoint.tsx"),d=s("./app/j/components/ModePortal.tsx"),u=s("./app/j/config/enums.ts"),c=s("./app/j/header/constants.ts"),p=s("./node_modules/matchmedia/index.js"),m=s.n(p),g=s("./node_modules/polished/dist/polished.cjs.js"),h=s("./node_modules/react/index.js"),_=s("./app/j/utils/EventListener.ts"),S=s("./app/j/utils/ScrollInfo.ts"),f=s("./app/j/utils/UserAgentHelper.ts"),y=s("./node_modules/react/jsx-runtime.js");const j=(0,o.z)("div")({name:"PageContainer",class:"ptc18zm"}),E=(0,o.z)("div")({name:"Controls",class:"c8mixic"}),T=(0,o.z)("div")({name:"ContentContainer",class:"cz3cbvv",vars:{"cz3cbvv-0":[e=>e.height]}}),x=(0,o.z)("div")({name:"Content",class:"clarv1u",vars:{"clarv1u-0":[e=>{let{studyModeType:t}=e;return t===u.aKJ.FLASHCARDS?3:1}],"clarv1u-1":[e=>{let{shouldHaveNoPadding:t}=e;return t?0:r.Ki.Large+" "+r.Ki.Medium+" "+r.Ki.Medium}],"clarv1u-3":[e=>{let{shouldShowNewStudyBreak:t,shouldHaveNoPadding:s}=e;return t||s?0:r.Ki.Medium}]}}),b=(0,o.z)("div")({name:"AdWrapper",class:"a1ijmfr8",vars:{"a1ijmfr8-0":[e=>e.studyModeType===u.aKJ.FLASHCARDS?1:"auto"],"a1ijmfr8-4":[e=>e.studyModeType===u.aKJ.FLASHCARDS?"auto":""+(0,g.hO)(170)]}}),A=e=>(0,y.jsx)(l.Z,{above:e.aboveMediumBreakpoint,children:(0,y.jsx)(b,{studyModeType:e.studyModeType,children:e.unit})});class I extends h.Component{constructor(e){super(e),this.state={appSmartBannerIsShown:!1,scrollTop:0},this.handleScroll=()=>{const e=S.Z.getScrollTop();(e<=c.Pp||this.state.scrollTop<=c.Pp)&&this.setState({scrollTop:e})},this.handleResize=()=>{this.checkForSmartBannerApp()},this.handleAdSkip=()=>{const{onCloseAdModal:e}=this.props;void 0!==e&&e()},this.renderControls=()=>{const e=(0,n.cx)(this.props.showAdModal?"iwow2le":null);return(0,y.jsx)(E,{className:e,children:this.props.controls})},e.isEmbedding||(this._scrollListener=_.Z.listen(window,"scroll",(()=>window.requestAnimationFrame(this.handleScroll))),this._resizeListener=_.Z.listen(window,"resize",(()=>window.requestAnimationFrame(this.handleResize))))}UNSAFE_componentWillMount(){this._timeout=window.setTimeout((()=>{this.checkForSmartBannerApp()}),200)}componentWillUnmount(){this._scrollListener&&this._scrollListener.remove(),this._resizeListener&&this._resizeListener.remove(),this._timeout&&clearTimeout(this._timeout)}getViewportHeight(){return window.visualViewport?(0,g.hO)(window.visualViewport.height):"100vh"}getContentHeight(){const{shouldShowNewStudyBreak:e,studyModeType:t}=this.props,s=this.getViewportHeight();return e?"calc("+s+" - "+r.Ki.Xxlarge+")":t===u.aKJ.FLASHCARDS?"calc("+s+" - "+r.Ki.Xxlarge+" - "+r.Ki.Xxsmall+")":"100%"}renderPortal(){return(0,y.jsx)(d.Z,{onMount:this.props.onMount,children:this.props.children})}renderContent(){return(0,y.jsxs)(T,{height:this.getContentHeight(),children:[(0,y.jsx)(x,{shouldHaveNoPadding:this.props.shouldHaveNoPadding||!!this.props.shouldHideEmbedControl,shouldShowNewStudyBreak:this.props.shouldShowNewStudyBreak,studyModeType:this.props.studyModeType,children:this.props.shouldUsePortal?this.renderPortal():this.props.children}),this.props.mWebAdUnit?(0,y.jsx)(A,{aboveMediumBreakpoint:!1,unit:this.props.mWebAdUnit}):null,this.props.adUnit?(0,y.jsx)(A,{aboveMediumBreakpoint:!0,studyModeType:this.props.studyModeType,unit:this.props.adUnit}):null]})}render(){const e=(0,n.cx)(this.props.showAdModal||this.props.shouldShowNewStudyBreak?"i1u5o241":null,this.props.isTaskCardScreen?"iloaf9o":null,this.props.adUnit&&!this.props.isTaskCardScreen?"i16pip9e":null,this.state.appSmartBannerIsShown?"i1fm3tn7":null);return(0,y.jsxs)(j,{className:e,children:[this.props.shouldHideEmbedControl?null:this.renderControls(),this.props.showAdModal?(0,y.jsx)(a.Z,{onSkip:this.handleAdSkip}):this.renderContent(),this.props.isEmbedding&&!this.props.shouldHideEmbedControl?(0,y.jsx)(i.Z,{studyableId:this.props.studyableId,studyablePath:this.props.studyablePath}):null]})}checkForSmartBannerApp(){const e=window.innerHeight!==window.document.documentElement.clientHeight&&(0,f.au)()&&m()("all and (orientation:portrait)").matches;this.setState({appSmartBannerIsShown:e})}}I.defaultProps={isEmbedding:!1,isTaskCardScreen:!1,isTaskRoundCheckpointScreen:!1,onMount:()=>{},shouldBeFullHeight:!1,shouldHaveNoPadding:!1,shouldShowNewStudyBreak:!1,shouldUseDarkBackground:!1,shouldUsePortal:!0,showAdModal:!1},s("./.linaria-cache/app/j/components/ModeLayout.linaria.css")},"./app/j/components/ModePortal.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s("./node_modules/react/index.js");class o extends n.Component{componentDidMount(){this.props.onMount.call()}shouldComponentUpdate(){return!1}render(){return this.props.children}}},"./app/j/components/PremiumBadge.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s("./app/j/assembly/AssemblyBadge.tsx"),o=s("./app/j/components/UIBadge.tsx"),a=s("./app/j/config/enums.ts"),r=s("./app/j/i18n/useTranslation.ts"),i=s("./node_modules/react/jsx-runtime.js");function l(e){let{inverted:t=!1,styleVariant:s,type:l,useAssembly:d}=e;const{t:u}=(0,r.ZP)();let c;switch(l){case a.XsQ.GO:c=u("global.user_badges.go");break;case a.XsQ.PLUS:c=u("global.user_badges.plus");break;case a.XsQ.TEACHER:c=u("global.user_badges.teacher");break;default:return(0,i.jsx)("noscript",{})}return d?(0,i.jsx)(n.Z,{inverted:t,text:c,variant:s}):(0,i.jsx)(o.Z,{variant:s,children:c})}},"./app/j/components/SiteLogo.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s("./app/j/assembly/AssemblyIcon.tsx"),o=s("./node_modules/classnames/index.js"),a=s.n(o),r=s("./app/j/components/PremiumLogo/PremiumLogoColor.ts"),i=s("./app/j/components/PremiumLogo/PremiumLogoPlus.tsx"),l=s("./node_modules/react/jsx-runtime.js");function d(){return(0,l.jsxs)("svg",{"data-testid":"FullLogo",fill:"currentColor",viewBox:"0 0 86 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M33.6222 6.16613H30.1458C30.0757 6.16613 30.0088 6.19385 29.9592 6.24402C29.9096 6.29352 29.8818 6.36085 29.8818 6.43148V13.777C29.8818 15.6035 28.7446 16.2431 27.4255 16.2431C26.1064 16.2431 24.9693 15.5586 24.9693 13.777V6.43082C24.9693 6.36085 24.9415 6.29286 24.8919 6.24336C24.8422 6.19385 24.7754 6.16547 24.7053 6.16547H21.2289C21.1588 6.16547 21.092 6.19319 21.0424 6.24336C20.9927 6.29286 20.965 6.36019 20.965 6.43082V14.1024C20.965 18.0287 24.0133 19.8545 27.4222 19.8545C30.8311 19.8545 33.8795 18.028 33.8795 14.1024V6.43082C33.8795 6.36151 33.8524 6.29484 33.8041 6.24534C33.7565 6.19583 33.691 6.16745 33.6222 6.16613Z"}),(0,l.jsx)("path",{d:"M60.7795 1.42407H57.3495C57.2039 1.42407 57.0862 1.54289 57.0862 1.68877V19.1456C57.0862 19.2921 57.2039 19.4103 57.3495 19.4103H60.7795C60.9251 19.4103 61.0428 19.2915 61.0428 19.1456V1.68943C61.0428 1.54289 60.9251 1.42407 60.7795 1.42407Z"}),(0,l.jsx)("path",{d:"M55.1723 6.16595H43.1165C43.0463 6.16595 42.9795 6.19368 42.9299 6.24384C42.8803 6.29335 42.8525 6.36068 42.8525 6.43131V9.34496C42.8525 9.41493 42.8803 9.48292 42.9299 9.53243C42.9795 9.58193 43.0463 9.61032 43.1165 9.61032H48.9545L41.8648 18.9817C41.8351 19.0206 41.8172 19.0675 41.8126 19.117C41.8079 19.1658 41.8172 19.2153 41.839 19.2596C41.8609 19.3038 41.8946 19.3407 41.9363 19.3672C41.9779 19.3936 42.0262 19.4068 42.0752 19.4068H54.7145C54.7847 19.4068 54.8515 19.379 54.9011 19.3295C54.9507 19.28 54.9785 19.2127 54.9785 19.1421V16.2284C54.9785 16.1584 54.9507 16.0911 54.9011 16.0409C54.8515 15.9914 54.7847 15.9631 54.7145 15.9631H48.4127L55.3827 6.58841C55.4118 6.54881 55.429 6.5026 55.4336 6.45375C55.4376 6.40491 55.4283 6.35606 55.4065 6.31249C55.3847 6.26893 55.3509 6.23196 55.3099 6.20622C55.2689 6.17981 55.2206 6.16595 55.1723 6.16595Z"}),(0,l.jsx)("path",{d:"M85.7401 6.20447H83.7926V1.68943C83.7926 1.61946 83.7648 1.55147 83.7152 1.50196C83.6655 1.45246 83.5987 1.42407 83.5286 1.42407H80.1025C80.0324 1.42407 79.9656 1.4518 79.9159 1.50196C79.8663 1.55147 79.8385 1.6188 79.8385 1.68943V6.20447H77.9042C77.8341 6.20447 77.7673 6.23219 77.7177 6.28236C77.668 6.33187 77.6403 6.3992 77.6403 6.46983V9.38348C77.6403 9.45345 77.668 9.52078 77.7177 9.57094C77.7673 9.62045 77.8341 9.64817 77.9042 9.64817H79.8346V19.1436C79.8346 19.2136 79.8624 19.2809 79.912 19.3311C79.9616 19.3806 80.0284 19.409 80.0985 19.409H83.5246C83.5948 19.409 83.6616 19.3812 83.7112 19.3311C83.7608 19.2816 83.7886 19.2142 83.7886 19.1436V9.65081H85.7362C85.8063 9.65081 85.8731 9.62309 85.9227 9.57358C85.9723 9.52408 86.0001 9.45675 86.0001 9.38612V6.47181C86.0008 6.40184 85.9736 6.33451 85.9254 6.28434C85.8764 6.23417 85.8102 6.20579 85.7401 6.20447Z"}),(0,l.jsx)("path",{d:"M39.9663 6.16595H36.5614C36.4158 6.16595 36.2981 6.28477 36.2981 6.43065V19.146C36.2981 19.2926 36.4158 19.4107 36.5614 19.4107H39.9663C40.1119 19.4107 40.2296 19.2919 40.2296 19.146V6.43065C40.2296 6.28477 40.1119 6.16595 39.9663 6.16595Z"}),(0,l.jsx)("path",{d:"M38.2634 0.000134583C37.8123 0.00607542 37.3723 0.146015 36.9992 0.402131C36.6261 0.658247 36.337 1.01932 36.1677 1.4398C35.9983 1.86028 35.9553 2.32168 36.046 2.76658C36.1359 3.21149 36.3549 3.61942 36.6744 3.93957C36.9939 4.25972 37.4008 4.47821 37.844 4.56732C38.2866 4.65643 38.7457 4.6122 39.1638 4.43992C39.5819 4.26764 39.9398 3.97587 40.1931 3.60028C40.4465 3.22469 40.5841 2.78243 40.5887 2.32828C40.5914 2.02134 40.5325 1.71638 40.4167 1.43254C40.301 1.1487 40.1296 0.8906 39.9133 0.673429C39.697 0.456919 39.4396 0.285295 39.1565 0.169778C38.872 0.0542622 38.5691 -0.00316588 38.2634 0.000134583Z"}),(0,l.jsx)("path",{d:"M10.0515 0.887961C8.59746 0.792248 7.14142 1.03648 5.79651 1.60152C4.45227 2.16656 3.25621 3.03656 2.30293 4.1442C1.34966 5.25184 0.662983 6.56542 0.299137 7.9833C-0.0647083 9.40118 -0.0971237 10.8851 0.204537 12.3175C0.506198 13.7505 1.13466 15.0932 2.03898 16.2411C2.94396 17.389 4.10033 18.3111 5.41944 18.9342C6.73788 19.558 8.18202 19.8656 9.63872 19.8346C11.0954 19.8029 12.525 19.4333 13.8163 18.7534C13.8573 18.7323 13.9037 18.7224 13.95 18.725C13.9963 18.7276 14.0413 18.7422 14.0796 18.7679C14.3535 18.9514 14.6393 19.1158 14.935 19.2603C15.9597 19.7587 17.085 20.0115 18.2228 19.9996C18.293 19.9996 18.3598 19.9719 18.4094 19.9224C18.459 19.8729 18.4868 19.8056 18.4868 19.7349V16.5163C18.4874 16.453 18.4663 16.3922 18.4259 16.3434C18.3856 16.2945 18.33 16.2622 18.2678 16.2516C17.9648 16.2034 17.6685 16.1183 17.386 15.9975C17.3509 15.9816 17.3198 15.9592 17.2947 15.9302C17.2696 15.9011 17.251 15.8675 17.2404 15.8305C17.2299 15.7935 17.2272 15.7552 17.2325 15.717C17.2378 15.6793 17.2517 15.643 17.2722 15.6107C18.1924 14.2265 18.7342 12.6231 18.842 10.9623C18.9505 9.30151 18.6211 7.64071 17.8881 6.14758C17.1551 4.65445 16.0444 3.38245 14.6664 2.45766C13.2891 1.53353 11.6935 0.989616 10.0409 0.88202L10.0515 0.887961ZM3.7259 10.353C3.72458 9.21702 4.05865 8.10542 4.68579 7.16016C5.31293 6.21491 6.20534 5.47759 7.24925 5.04193C8.29316 4.60626 9.44291 4.49207 10.5516 4.7132C11.6604 4.93433 12.6791 5.48155 13.4789 6.28422C14.2787 7.08755 14.8232 8.11136 15.0435 9.2256C15.2644 10.3398 15.1507 11.495 14.718 12.5452C14.2854 13.5948 13.5524 14.4918 12.6117 15.1229C11.6716 15.7539 10.5662 16.0899 9.43563 16.0892C7.92137 16.0892 6.46863 15.4853 5.39761 14.4093C4.32658 13.3334 3.72326 11.8745 3.72193 10.3524L3.7259 10.353Z"}),(0,l.jsx)("path",{d:"M69.4721 5.62565C68.3078 5.71476 67.1832 6.09102 66.1988 6.72207C65.2145 7.35311 64.4001 8.21916 63.8285 9.2423C63.257 10.2661 62.946 11.4153 62.9236 12.589C62.9011 13.7626 63.167 14.9231 63.6982 15.968C64.2294 17.0129 65.01 17.91 65.9693 18.5787C66.9292 19.2473 68.0379 19.6678 69.1982 19.8018C70.3586 19.9358 71.5335 19.78 72.619 19.3477C73.7046 18.9153 74.6672 18.2202 75.4207 17.3232C75.4438 17.2961 75.4617 17.2651 75.4729 17.2307C75.4842 17.1971 75.4881 17.1608 75.4848 17.1251C75.4815 17.0895 75.4716 17.0545 75.4551 17.0235C75.4385 16.9918 75.4154 16.9641 75.3876 16.9416L73.3302 15.2808C73.2773 15.2386 73.2098 15.2181 73.1423 15.2241C73.0748 15.23 73.012 15.2623 72.9677 15.3138C72.5231 15.8287 71.9535 16.2188 71.3145 16.4459C70.6755 16.673 69.9881 16.7291 69.3206 16.6089C68.6531 16.4888 68.028 16.1964 67.5067 15.7601C66.9854 15.3237 66.5858 14.7594 66.347 14.121H76.7457C76.8079 14.1224 76.8688 14.1006 76.9171 14.061C76.9654 14.0214 76.9978 13.9653 77.009 13.9039C77.0745 13.5164 77.1069 13.1236 77.1063 12.7302C77.1063 11.748 76.9038 10.777 76.5129 9.87731C76.1219 8.9776 75.5497 8.16899 74.8326 7.50164C74.1154 6.83428 73.2693 6.32337 72.3465 6.00058C71.425 5.67846 70.4459 5.5504 69.4721 5.62565ZM66.347 11.3355C66.6275 10.5856 67.1296 9.93936 67.7852 9.48323C68.4408 9.02711 69.2194 8.78288 70.0166 8.78288C70.8137 8.78288 71.5923 9.02711 72.2479 9.48323C72.9035 9.93936 73.405 10.5856 73.6861 11.3355H66.347Z"})]})}function u(){return(0,l.jsx)(n.ZP,{icon:"q-logo",size:n.i.Medium})}function c(e){const{className:t,inverted:s,isQMark:n,isPremium:o}=e,c=a()("SiteLogo",t,{"SiteLogo--inverted":!!s,"SiteLogo--premium":!!o,"is-qMark":!!n});return(0,l.jsx)("div",{"aria-label":"Quizlet",className:c,role:"img",title:"Quizlet",children:o?(0,l.jsx)(i.default,{fill:s?r.K.INVERTED:r.K.DEFAULT}):n?(0,l.jsx)(u,{}):(0,l.jsx)(d,{})})}s("./.linaria-cache/app/j/components/SiteLogo.linaria.css")},"./app/j/components/UIBadge.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s("./node_modules/classnames/index.js"),o=s.n(n),a=(s("./node_modules/react/index.js"),s("./node_modules/react/jsx-runtime.js"));function r(e){let{children:t,menu:s,variant:n="default"}=e;const r=o()({UIBadge:!s,"UIBadge--filled-background":"default"!==n,"UIBadge--indigo":"indigo"===n,"UIBadge--white":"white"===n,"UIBadge--yellow":"yellow"===n});return(0,a.jsx)("span",{className:r,children:t})}},"./app/j/components/UIDelimiter.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});s("./node_modules/core-js/modules/es.promise.js");var n=s("./node_modules/classnames/index.js"),o=s.n(n),a=s("./node_modules/react/index.js"),r=s("./node_modules/react/jsx-runtime.js");class i extends a.PureComponent{render(){const e=o()("UIDelimiter",{"is-inline":this.props.inline}),t=a.Children.toArray(this.props.children),s=[];return s.push(t.shift()),t.forEach(((e,t)=>{s.push("string"==typeof this.props.separator?this.props.separator:a.cloneElement(this.props.separator,{key:"sep-"+t})),s.push(e)})),(0,r.jsx)("div",{className:e,children:s})}}i.defaultProps={inline:!1}},"./app/j/components/UIDropdown.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s("./node_modules/classnames/index.js"),o=s.n(n),a=s("./app/j/components/UIIcon.tsx"),r=s("./node_modules/react/index.js"),i=s("./node_modules/react/jsx-runtime.js");class l extends r.PureComponent{render(){const e=o()("UIDropdown",{["UIDropdown--"+this.props.variant]:this.props.variant,["UIDropdown--"+this.props.width]:"auto"!==this.props.width});return(0,i.jsxs)("div",{"aria-disabled":this.props.disabled||null,"aria-invalid":this.props.invalid,"aria-required":this.props.required||null,className:e,children:[(0,i.jsx)("select",{"aria-label":this.props.name,className:"UIDropdown-select","data-test-id":this.props.testId,defaultValue:this.props.onChange?void 0:this.props.value,disabled:this.props.disabled||null,name:this.props.name,onChange:this.props.onChange,required:this.props.required||null,tabIndex:this.props.tabIndex,value:this.props.onChange?this.props.value:void 0,children:this.props.children}),(0,i.jsx)(a.Z,{className:"UIDropdown-icon",icon:"caret-down"})]})}}l.defaultProps={disabled:!1,invalid:null,required:!1,width:"auto"}},"./app/j/components/UIFieldset.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s("./node_modules/classnames/index.js"),o=s.n(n),a=s("./node_modules/react/index.js"),r=s("./node_modules/react/jsx-runtime.js");class i extends a.PureComponent{render(){const{children:e,inline:t,invalid:s,legend:n,legendBelow:a,name:i,turnLegendIntoLabel:l}=this.props,d=o()("UIFieldset","notranslate",{"UIFieldset--inline":t,"UIFieldset--turnLegendIntoLabel":l});return(0,r.jsxs)("div",{"aria-invalid":s,className:d,name:i,children:[n&&(0,r.jsx)("legend",{className:"UIFieldset-legend",children:n}),(0,r.jsx)("div",{className:"UIFieldset-fields",children:e}),a&&(0,r.jsx)("legend",{className:"UIFieldset-legend UIFieldset-legendBelow",children:a})]})}}i.defaultProps={inline:!1,turnLegendIntoLabel:!1}},"./app/j/components/UIHr.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s("./node_modules/react/index.js"),o=s("./node_modules/react/jsx-runtime.js");class a extends n.PureComponent{render(){return(0,o.jsx)("hr",{className:"UIHorizontalRule"})}}},"./app/j/components/UIModalBodySeparator.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s("./app/j/components/UIDiv.tsx"),o=s("./app/j/components/UIHr.tsx"),a=s("./node_modules/react/index.js"),r=s("./node_modules/react/jsx-runtime.js");class i extends a.PureComponent{render(){return(0,r.jsx)(n.Z,{className:"UIModalBodySeparator",children:(0,r.jsx)(o.Z,{})})}}},"./app/j/components/UIModeIcon.tsx":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>c,bD:()=>d,bn:()=>u});var n=s("./node_modules/classnames/index.js"),o=s.n(n),a=s("./app/j/components/StudyModeLogoDropdown.tsx"),r=s("./app/j/components/UIIcon.tsx"),i=s("./node_modules/react/index.js"),l=s("./node_modules/react/jsx-runtime.js");const d="started",u="finished";class c extends i.PureComponent{render(){const{colored:e,disabled:t,mode:s,progress:n,variant:i,inverted:c,iconSize:p="default"}=this.props,m=function(e){return a.I[e]}(s),g=o()("UIModeIcon",{"UIModeIcon--disabled":t,["UIModeIcon--"+s]:!0,["UIModeIcon--"+i]:!0,"UIModeIcon--inverted":c,"UIModeIcon--started":n===d,"UIModeIcon--finished":n===u});return(0,l.jsxs)("div",{className:g,children:[(0,l.jsx)(r.Z,{className:"UIModeIcon-modeIcon",icon:function(e,t,s,n){if(void 0===n&&(n=!0),!n)return"study-"+e+"-twilight";return t?"mode-"+e+"-"+t:"mode-"+e+"-"+s}(m,e,i,!1),role:"presentation",size:p}),this.shouldShowCheckmark()?(0,l.jsx)("span",{className:"UIModeIcon-checkmark",children:(0,l.jsx)(r.Z,{icon:"check"})}):null,this.props.studiedCount?(0,l.jsx)("span",{className:"UIModeIcon-studiedCount",children:this.props.studiedCount}):null]})}shouldShowCheckmark(){return this.props.progress===u&&!this.props.studiedCount}}c.defaultProps={disabled:!1,inverted:!1}},"./app/j/components/UIProgressBar.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s("./node_modules/classnames/index.js"),o=s.n(n),a=s("./node_modules/react/index.js"),r=s("./node_modules/react/jsx-runtime.js");class i extends a.PureComponent{render(){const{max:e,value:t,variant:s,vertical:n}=this.props,a=Math.abs(t)/Math.abs(e||1)*100,i=o()("UIProgressBar",{["UIProgressBar--"+s]:s,"UIProgressBar--vertical":n});return(0,r.jsx)("div",{"aria-valuemax":e,"aria-valuemin":0,"aria-valuenow":t,className:i,role:"progressbar",children:(0,r.jsx)("span",{className:"UIProgressBar-fill",style:n?{height:a+"%"}:{width:a+"%"}})})}}i.defaultProps={max:1,value:0,vertical:!1}},"./app/j/components/UITextarea.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/classnames/index.js"),o=s.n(n),a=s("./app/j/components/AutoExpandTextarea.tsx"),r=s("./node_modules/invariant/browser.js"),i=s.n(r),l=s("./node_modules/nullthrows/nullthrows.js"),d=s.n(l),u=s("./node_modules/react/index.js"),c=s("./app/j/utils/elementMatches.ts"),p=s("./node_modules/react/jsx-runtime.js");class m extends u.PureComponent{constructor(){super(...arguments),this.handleClickAddOnContent=e=>{(0,c.Z)(e.currentTarget,".UITextarea-addOnContent")||(e.preventDefault(),e.stopPropagation())}}getTextarea(){return i()(this.textareaish,"Missing textareaish in getTextarea"),"autoExpand"===this.props.type?this.getAutoExpandArea().getTrackedArea().getTextarea():(i()(this.textareaish instanceof HTMLTextAreaElement,"Invalid state in UITextarea"),this.textareaish)}getAutoExpandArea(){return i()(this.textareaish,"Missing textareaish in getTextarea"),i()("autoExpand"===this.props.type,"Invalid call to getAutoExpandArea"),i()(!(this.textareaish instanceof HTMLTextAreaElement),"Invalid state in UITextarea"),this.textareaish}getSelectionStart(){return this.getAutoExpandArea().getSelectionStart()}getSelectionEnd(){return this.getAutoExpandArea().getSelectionEnd()}renderAddOnContent(e){return this.props.forceAddOnContentOntoNewLine?(0,p.jsx)("div",{className:"UITextarea-addOnContentInner",children:e}):e}render(){const{addOnContent:e,forceAddOnContentOntoNewLine:t,invalid:s,label:n,labelAddOnContent:r,type:i,...l}=this.props,d=!!u.Children.count(e),c=o()("UITextarea",{["UITextarea--"+this.props.variant]:"default"!==this.props.variant,"has-addOnContent":d,"has-addOnContentOnNewLine":d&&t}),m={...l,defaultValue:this.props.onChange?void 0:this.props.value,value:this.props.onChange?this.props.value:void 0},g=m.lang?"lang-"+m.lang:null,h="autoExpand"===i?(0,p.jsx)(a.Z,{...m,className:"UITextarea-textarea UITextarea-autoExpandTextarea",ref:e=>{this.textareaish=e}}):(0,p.jsx)("textarea",{rows:1,...m,className:o()("UITextarea-textarea",g),ref:e=>{this.textareaish=e}});return(0,p.jsxs)("label",{"aria-disabled":this.props.disabled||void 0,"aria-invalid":s||void 0,"aria-readonly":this.props.readOnly||void 0,"aria-required":this.props.required||void 0,className:c,htmlFor:this.props.id,children:[(0,p.jsxs)("div",{className:"UITextarea-content",children:[h,d?(0,p.jsx)("div",{className:"UITextarea-addOnContent",onClick:this.handleClickAddOnContent,children:this.renderAddOnContent(e)}):null,this.shouldRenderBorder()?(0,p.jsx)("span",{className:"UITextarea-border"}):null]}),n||r?(0,p.jsxs)("span",{className:"UITextarea-label",children:[n,r]}):null]})}shouldRenderBorder(){return"default"===this.props.variant}focus(e){i()(this.textareaish,"Missing textareaish in focus"),this.textareaish instanceof HTMLTextAreaElement?this.textareaish.focus():d()(this.textareaish).focus(e)}blur(){i()(this.textareaish,"Missing textareaish in blur"),d()(this.textareaish).blur()}select(){i()(this.textareaish,"Missing textareaish in select"),d()(this.textareaish).select()}setCaretPosition(e){this.getAutoExpandArea().setCaretPosition(e)}setSelectionRange(e,t){this.getAutoExpandArea().setSelectionRange(e,t)}}m.defaultProps={disabled:!1,forceAddOnContentOntoNewLine:!1,readOnly:!1,required:!1,type:"normal",variant:"default"}},"./app/j/config/study-setting-metadata.ts":(e,t,s)=>{"use strict";s.d(t,{Dx:()=>o,ZP:()=>n,td:()=>a});const n={INSTANT_FEEDBACK:{dataType:"boolean",defaultValue:0},TAP_TO_PLAY_AUDIO:{dataType:"boolean",defaultValue:0},TERM_SIDE:{dataType:"enum",enumValues:{Unknown:0,Word:1,Definition:2,Category:3,Location:4},defaultValue:2},TEST_QUESTION_TYPES:{dataType:"bitmask",defaultValue:15,bitValues:{written:1,matching:2,multipleChoice:4,trueFalse:8}},TEST_QUESTION_COUNT:{dataType:"int",defaultValue:20},SHUFFLE:{dataType:"boolean",defaultValue:0},TEST_SELECTED_ONLY_QUESTION_COUNT:{dataType:"int",defaultValue:0},ASSISTANT_MODE_QUESTION_TYPES:{dataType:"bitmask",defaultValue:85,bitValues:{written:1,matching:2,multipleChoice:4,trueFalse:8,revealSelfAssessment:16,multipleChoiceWithNoneOption:32,copyAnswer:64,spelling:128,flashcardWithoutResponse:256,mixedOptionMatching:512,fillInTheBlank:1024}},ASSISTANT_MODE_WORD_SIDE:{dataType:"boolean",defaultValue:1},ASSISTANT_MODE_DEFINITION_SIDE:{dataType:"boolean",defaultValue:1},ASSISTANT_MODE_WRITTEN_WORD_SIDE:{dataType:"boolean",defaultValue:1},ASSISTANT_MODE_WRITTEN_DEFINITION_SIDE:{dataType:"boolean",defaultValue:1},PROMPT_TERM_SIDES:{dataType:"bitmask",defaultValue:22,bitValues:{word:2,definition:4,location:16}},ANSWER_TERM_SIDES:{dataType:"bitmask",defaultValue:22,bitValues:{word:2,definition:4,location:16}},MATCH_MODE_SIDES:{dataType:"bitmask",defaultValue:22,bitValues:{word:2,definition:4,location:16}},TEST_PROMPT_TERM_SIDES:{dataType:"bitmask",defaultValue:22,bitValues:{word:2,definition:4,location:16}},TEST_ANSWER_TERM_SIDES:{dataType:"bitmask",defaultValue:22,bitValues:{word:2,definition:4,location:16}},TEST_SHOW_IMAGES:{dataType:"boolean",defaultValue:1},LIVE_PLAY_MUSIC:{dataType:"boolean",defaultValue:1},FLEXIBLE_GRADING_ACCEPT_PARTIAL_ANSWERS:{dataType:"boolean",defaultValue:0},FLEXIBLE_GRADING_ACCEPT_ANSWERS_WITH_TYPOS:{dataType:"boolean",defaultValue:0},ASSISTANT_SPELL_MODE_AUDIO_ENABLED:{dataType:"boolean",defaultValue:1},ASSISTANT_MODE_WORD_AUDIO_ENABLED:{dataType:"boolean",defaultValue:1},ASSISTANT_MODE_DEFINITION_AUDIO_ENABLED:{dataType:"boolean",defaultValue:1},ASSISTANT_MODE_SLOW_WORD_AUDIO:{dataType:"boolean",defaultValue:0},ASSISTANT_MODE_SLOW_DEFINITION_AUDIO:{dataType:"boolean",defaultValue:0},SPELL_ANSWER_SIDES:{dataType:"bitmask",defaultValue:2,bitValues:{word:2,definition:4,location:16}},CARDS_ANSWER_SIDES:{dataType:"bitmask",defaultValue:2,bitValues:{word:2,definition:4,location:16}},CARDS_PROMPT_SIDES:{dataType:"bitmask",defaultValue:4,bitValues:{word:2,definition:4,location:16}},WRITE_PROMPT_SIDES:{dataType:"bitmask",defaultValue:6,bitValues:{word:2,definition:4,location:16}},WRITE_ANSWER_SIDES:{dataType:"bitmask",defaultValue:6,bitValues:{word:2,definition:4,location:16}},SMART_GRADING:{dataType:"boolean",defaultValue:0},STUDY_PATH:{dataType:"int",defaultValue:0},STUDY_PATH_GOAL:{dataType:"int",defaultValue:2},STUDY_PATH_KNOWLEDGE_LEVEL:{dataType:"int",defaultValue:0},TASKS_ENABLED:{dataType:"boolean",defaultValue:1},CHECKPOINT_PLAY_MUSIC:{dataType:"boolean",defaultValue:1},LIVE_VOLUME:{dataType:"int",defaultValue:1},GUIDANCE_DISABLED:{dataType:"boolean",defaultValue:0},CARDS_SHUFFLE_RANDOM_SEED:{dataType:"int",defaultValue:0},CARDS_SELECTED_ONLY:{dataType:"boolean",defaultValue:0},CARDS_SORTING_ON:{dataType:"boolean",defaultValue:1}},o={dataType:"bitmask",defaultValue:15,bitValues:{written:1,matching:2,multipleChoice:4,trueFalse:8}},a={dataType:"bitmask",defaultValue:85,bitValues:{written:1,matching:2,multipleChoice:4,trueFalse:8,revealSelfAssessment:16,multipleChoiceWithNoneOption:32,copyAnswer:64,spelling:128,flashcardWithoutResponse:256,mixedOptionMatching:512,fillInTheBlank:1024}}},"./app/j/core/getGenericErrorWithToastCallback.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s("./app/j/assembly/toasts/index.ts"),o=s("./app/j/global/Rollbar.ts"),a=s("./app/j/notifications/Constants.ts");function r(e,t){return void 0===t&&(t=!0),s=>{console.error("generic error callback for '"+e+"' received error "+s.name+": "+s.message,{shouldDisplayNotification:t}),o.Z.error(e,s),t&&(0,n.fz)({duration:a.th.DEFAULT,includeDismiss:!0,includeEllipsis:!1})}}},"./app/j/diagrams/DiagramConstants.ts":(e,t,s)=>{"use strict";s.d(t,{C:()=>a,Dp:()=>n,Lg:()=>i,Qt:()=>l,iR:()=>c,kA:()=>o,m6:()=>r,wB:()=>p,wZ:()=>d,x3:()=>u});const n=s("./app/j/assembly/foundations/Color.ts").HA.$500;let o;!function(e){e[e.ACTIVE=0]="ACTIVE",e[e.CORRECT=1]="CORRECT",e[e.INCORRECT=2]="INCORRECT"}(o||(o={}));const a=32,r=0,i=.4,l=12,d=120,u=10,c=1e3,p=.3},"./app/j/diagrams/LeafletConstants.ts":(e,t,s)=>{"use strict";s.d(t,{k:()=>n});const n=s("./app/j/diagrams/QLeaflet.ts").Z.CRS.Simple},"./app/j/diagrams/QLeaflet.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var n=s("./node_modules/leaflet/dist/leaflet-src.js"),o=s.n(n);function a(e){e.stopPropagation()}window.L=window.L||o();const r=o().Control.Zoom.prototype._createButton;o().Control.Zoom=o().Control.Zoom.extend({_createButton(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const n=r.apply(this,t);return o().DomEvent.on(n,"mouseup",a),o().DomEvent.on(n,"touchstart",a),n}});const i=o().Popup.prototype._initLayout,l=o().Popup.prototype._updatePosition;o().Popup=o().Popup.extend({_getPopupDirectionSuffix(){const e=this._map.latLngToContainerPoint(this._latlng),t=this._map.getBounds(),s=this._map.latLngToContainerPoint(t.getNorthEast()),n=this._map.latLngToContainerPoint(t.getNorthWest()),o=this._map.latLngToContainerPoint(t.getSouthEast()),a=this._map.latLngToContainerPoint(t.getSouthWest()),r=t.getNorth(),i=t.getEast(),l=t.getSouth(),d=t.getWest(),u=Math.floor(e.distanceTo(s)),c=Math.floor(e.distanceTo(n)),p=Math.floor(e.distanceTo(o)),m=Math.floor(e.distanceTo(a)),g=Math.abs(this._latlng.lng-i),h=Math.abs(this._latlng.lat-r),_=Math.abs(this._latlng.lat-l),S=Math.abs(this._latlng.lng-d),f=h/Math.abs(r-l),y=S/Math.abs(i-d);if(f>.333&&f<.666)return g>S?"middleright":"middleleft";if(y>.333&&y<.666)return h>_?"":"bottom";const j=Math.max(u,c,p,m);let E="bottomleft";return j===u&&(E="bottomleft"),j===c&&(E="bottomright"),j===p&&(E="topleft"),j===m&&(E="topright"),E},_getCoordsWithMouseOffset(e){const t=this._getPopupDirectionSuffix(),s=this._map.latLngToContainerPoint(e);let n=s.x,a=s.y;"bottom"===t&&(a+=15),"middleright"===t&&(n+=5),"middleleft"===t&&(n-=5);const r=o().point(n,a);return this._map.containerPointToLatLng(r)},_setDirectionClassName(){const e=this._getPopupDirectionSuffix();this._directionClassName="leaflet-popup-"+e,o().DomUtil.addClass(this._container,this._directionClassName)},_updatePosition(){o().DomUtil.removeClass(this._container,this._directionClassName),this._setDirectionClassName(),l.apply(this)},_initLayout(){i.apply(this),this._setDirectionClassName()}}),o().Marker=o().Marker.extend({setIcon(e){if(this._icon.innerHTML!==e.options.html){const t=e.options.props.className.split(/\s+/),s=this._icon.children[0],n=s.classList,o=[];Array.prototype.forEach.call(n,(e=>{-1===t.indexOf(e)&&o.push(e)})),o.forEach((e=>n.remove(e))),t.forEach((e=>{e&&n.add(e)}));const{color:a,backgroundColor:r,borderColor:i}=e.options.props.style;[s,s.children[0]].forEach((e=>{e.style.setProperty("background-color",r),e.style.setProperty("border-color",i),e.style.setProperty("color",a)}))}}});const d=o()},"./app/j/diagrams/cache.ts":(e,t,s)=>{"use strict";s.d(t,{H:()=>u,O:()=>l});var n=s("./node_modules/@mapbox/geojson-area/index.js"),o=s("./app/j/utils/MemoizedCache.ts");const a=new o.Z,r=new o.Z;function i(e){return JSON.parse(e)}function l(e){return r.memoize(e,i,e)}function d(e){return(0,n.Q)(l(e).geometry)}function u(e){return a.memoize(e,d,e)}},"./app/j/diagrams/components/Diagram.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.array.reduce.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.array.sort.js");var n=s("./app/j/assembly/AssemblyBreakpoint.tsx"),o=s("./app/j/compatibility/userAgentHelper.ts"),a=s("./app/j/diagrams/cache.ts"),r=s("./app/j/diagrams/DiagramConstants.ts"),i=s("./app/j/diagrams/helpers.ts"),l=s("./app/j/diagrams/LeafletConstants.ts"),d=s("./app/j/diagrams/QLeaflet.ts"),u=s("./app/j/diagrams/types.ts"),c=s("./app/j/global/Rollbar.ts"),p=s("./node_modules/lodash/debounce.js"),m=s.n(p),g=s("./node_modules/react/index.js"),h=s("./node_modules/react-leaflet/lib/index.js"),_=s("./app/j/utils/EventListener.ts"),S=s("./app/j/utils/ImmutableCompatibilityHelpers.ts"),f=s("./app/j/utils/Leaflet.ts"),y=s("./node_modules/react/jsx-runtime.js");function j(e){var t;let{alt:s="",children:p,closePopupOnClick:j=!1,diagramShapes:E,dragging:T=!0,image:x,onClick:b,onMouseOut:A,onMouseOver:I,overrideBounds:v,overrideMapRef:C,overrideSrc:w,variant:N,zoomControl:O=!0}=e;const M=(0,o.YQ)(),L=(0,g.useMemo)((()=>d.Z.svg({padding:10})),[]),D=(0,g.useRef)({map:null}),R=null!=C?C:D,P=(0,g.useMemo)((()=>(0,i.XV)(x)),[x]),k=(0,g.useMemo)((()=>P.pad(0)),[P]),[U,W]=(0,g.useState)(-5),[Z,F]=(0,g.useState)(P),B=g.Children.toArray(v||E).reduce(((e,t)=>{let s,{props:n}=t;if(n.bounds)s=d.Z.latLngBounds(n.bounds);else if(n.shape){const e=(0,a.O)(n.shape);s=d.Z.geoJSON(e).getBounds()}return s?e.extend(s):e}),d.Z.latLngBounds([]));function G(){const e=R.current.map;if(!e)return;const t=e.leafletElement.getContainer();0!==t.clientWidth&&F((s=>{let n=s;if(B.isValid()){const s=e.leafletElement.getBoundsZoom(P);if(N===u.U.ZOOM_TO_POINTS){const e=t.clientHeight/t.clientWidth;try{n=(0,f.Ep)(B,e,P,s)}catch(o){c.Z.error("Error in <Diagram> fitDiagramBounds",{containerAspectRatio:e,diagramBounds:P,error:o,initZoomLevel:s,minBoundsOfDiagramShapes:B})}}(N!==u.U.ZOOM_TO_POINTS||(0,f.$g)(n)/(0,f.$g)(P)>=.7)&&(n=(0,f.H4)(B,s,P))}return W(e.leafletElement.getBoundsZoom(d.Z.latLngBounds([]).extend(P).extend(n))),n}))}const H=Array.isArray(E)?E.filter((e=>null!==e)):[E],V=null==(t=H[0])?void 0:t.props.shape;(0,g.useEffect)((()=>{G()}),[N,v,V]),(0,g.useEffect)((()=>{const e=_.Z.listen(window,"resize",m()(G,50));return()=>e.remove()})),(0,g.useEffect)((()=>{const e=R.current.map;e&&e.leafletElement.invalidateSize(!1).fitBounds(Z,{animate:!1}).setMinZoom(U).fire("zoomend")}),[R,U,Z]);const z=[(0,y.jsx)(h.vZ,{alt:null!=s?s:"",bounds:P,crossOrigin:!0,interactive:!0,onMouseOut:function(e){const{relatedTarget:t}=e.originalEvent;null!=t&&t.classList&&(t.classList.contains("leaflet-draw-tooltip")||t.classList.contains("leaflet-draw-guide-dash")||t.classList.contains("leaflet-editing-icon"))||A&&A(e)},onMouseOver:function(e){var t;const{relatedTarget:s}=e.originalEvent;null!=s&&null!=(t=s.classList)&&t.contains("leaflet-draw-tooltip")||I&&I(e)},url:w||(0,S.D)(x,"url")||(0,S.D)(x,"_secureLegacyUrlLarge")||(0,S.D)(x,"_secureLegacyUrl")},"image"),p].concat(H.sort(((e,t)=>{if(!e.props.shape)return-1;if(!t.props.shape)return 1;const s=e.props.shape,n=t.props.shape,o=(0,a.H)(s);return(0,a.H)(n)-o}))).filter((e=>e)).map(((e,t)=>(0,y.jsx)(g.Fragment,{children:e},e.key||t)));return(0,y.jsxs)(h.D5,{attributionControl:!1,center:[0,0],className:"Diagram",closePopupOnClick:j,crs:l.k,doubleClickZoom:!1,dragging:T,maxBounds:k,maxBoundsViscosity:.6,maxZoom:5,minZoom:U,onClick:function(e){b&&e.latlng&&(0,i.Jk)(e.latlng,P)&&b(e)},ref:e=>{R.current.map=e},renderer:L,scrollWheelZoom:!1,zoom:r.m6,zoomControl:!1,zoomSnap:0,children:[z,O&&!M&&(0,y.jsx)(n.ZP,{lowerBound:"s",children:(0,y.jsx)(h.Ly,{position:"bottomright"})})]})}},"./app/j/diagrams/components/DiagramShape.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_,updateGeoJSONData:()=>g});s("./node_modules/core-js/modules/es.array.reverse.js");var n=s("./app/j/assembly/foundations/Color.ts"),o=s("./app/j/diagrams/cache.ts"),a=s("./app/j/diagrams/components/DiagramShapePoint.tsx"),r=s("./node_modules/@linaria/core/lib/index.js"),i=s("./app/j/diagrams/components/DiagramShapePopup.tsx"),l=s("./app/j/diagrams/DiagramConstants.ts"),d=s("./node_modules/react/index.js"),u=s("./node_modules/react-leaflet/lib/index.js"),c=s("./node_modules/react/jsx-runtime.js");function p(e){let{color:t=l.Dp,geoJson:s,innerRef:n,...o}=e;const a=(0,r.cx)(o.disabled&&"d1338do4",o.pulse&&"p1hmjz8i");return(0,d.createElement)(u.QZ,{...o,className:a,color:t,data:s,fillOpacity:l.wB,key:a,onClick:o.disabled?void 0:o.onClick,ref:n,weight:4},o.children?(0,c.jsx)(i.Z,{children:o.children}):null)}s("./.linaria-cache/app/j/diagrams/components/DiagramShapePolygon.linaria.css");var m=s("./app/j/utils/Leaflet.ts");const g=(e,t)=>window.setTimeout((()=>{e.clearLayers(),e.addData(t)}),0);function h(e,t){let{children:s,disabled:r,pulse:i,onAdd:u,onClick:h,onMouseMove:_,onMouseOut:S,onMouseOver:f,onPopupClose:y,onPopupOpen:j,onShapeUpdate:E,shape:T,state:x}=e;const b=(0,d.useRef)((0,o.O)(T)),A=(0,d.useRef)(null),I=null!=t?t:A;(0,d.useEffect)((()=>{if(null==E||E(T),!T)return()=>null;b.current=(0,o.O)(T);let e=null;if(!(0,m.AK)(b.current)){const t=I.current;t&&(e=g(t,b.current))}return()=>{e&&clearTimeout(e)}}),[T]);let v=l.Dp;switch(x){case l.kA.ACTIVE:v=n.dl.$400;break;case l.kA.CORRECT:v=n.y1.$400;break;case l.kA.INCORRECT:v=n.jj.$200;break;default:v=l.Dp}const C={children:s,color:v,disabled:r,onAdd:u,onClick:h,onMouseOut:S,onMouseOver:f,onPopupClose:y,onPopupOpen:j,pulse:i};if((0,m.AK)(b.current)){const e=b.current.geometry.coordinates.slice(0).reverse();return(0,c.jsx)(a.Z,{...C,innerRef:e=>{e&&(I.current=e.leafletElement)},position:e})}return(0,c.jsx)(p,{...C,geoJson:b.current,innerRef:e=>{e&&(I.current=e.leafletElement)},onMouseMove:_})}const _=d.forwardRef(h)},"./app/j/diagrams/components/DiagramShapePoint.tsx":(e,t,s)=>{"use strict";s.d(t,{b:()=>g,Z:()=>h});var n=s("./node_modules/classnames/index.js"),o=s.n(n),a=s("./app/j/diagrams/components/DiagramShapePopup.tsx"),r=s("./app/j/diagrams/DiagramConstants.ts"),i=s("./app/j/diagrams/QLeaflet.ts"),l=(s("./node_modules/react/index.js"),s("./node_modules/react-leaflet/lib/index.js")),d=(s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/invariant/browser.js")),u=s.n(d);function c(e,t){void 0===t&&(t=1);const s=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,s,n)=>t+t+s+s+n+n)),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);u()(n,"Failed to extract parts from hex string");return"rgba("+parseInt(n[1],16)+", "+parseInt(n[2],16)+", "+parseInt(n[3],16)+", "+t+")"}var p=s("./node_modules/react-dom/server.browser.js"),m=s("./node_modules/react/jsx-runtime.js");const g=e=>{const t=e.className;return e.className=o()("DiagramShapePoint",e.className),i.Z.divIcon({className:t,html:(0,p.renderToStaticMarkup)((0,m.jsx)("div",{...e,children:(0,m.jsx)("span",{className:"DiagramShapePoint-inner",style:e.style})})),iconSize:[r.C,r.C],props:e})};function h(e){let{color:t=r.Dp,innerRef:s,...n}=e;const i=o()({"is-disabled":n.disabled,"is-pulsing":n.pulse}),d={backgroundColor:c(t,r.wB/2),borderColor:t,color:t};return(0,m.jsx)(l.Jx,{...n,icon:g({className:i,style:d}),onclick:n.disabled?void 0:n.onClick,ref:s,children:n.children?(0,m.jsx)(a.Z,{children:n.children}):null})}},"./app/j/diagrams/components/DiagramShapePopup.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s("./node_modules/@linaria/react/lib/index.js"),o=s("./app/j/core/legacy_store/LegacyStoreProvider.tsx"),a=s("./node_modules/react-leaflet/lib/index.js"),r=s("./node_modules/react/jsx-runtime.js");const i=(0,n.z)("div")({name:"PopupDiv",class:"p1063vsu"});function l(e){let{children:t}=e;return(0,r.jsx)(a.GI,{autoClose:!0,autoPan:!1,closeButton:!1,closeOnClick:!0,children:(0,r.jsx)(o.ZP,{children:(0,r.jsx)(i,{children:t})})})}s("./.linaria-cache/app/j/diagrams/components/DiagramShapePopup.linaria.css")},"./app/j/diagrams/helpers.ts":(e,t,s)=>{"use strict";s.d(t,{Jk:()=>l,LY:()=>d,XV:()=>i});var n=s("./app/j/diagrams/DiagramConstants.ts"),o=s("./app/j/diagrams/QLeaflet.ts"),a=s("./app/j/utils/ImmutableCompatibilityHelpers.ts"),r=s("./app/j/utils/Leaflet.ts");function i(e){const t=(0,a.D)(e,"height")/(0,a.D)(e,"width"),s=(0,r.os)(o.Z.point(0,n.iR*t)),i=(0,r.os)(o.Z.point(n.iR,0));return o.Z.latLngBounds([s,i])}function l(e,t){return t.contains(e)}const d=e=>{e.target.openPopup()}},"./app/j/diagrams/types.ts":(e,t,s)=>{"use strict";let n;s.d(t,{U:()=>n}),function(e){e.NO_ZOOM="NO_ZOOM",e.ZOOM_TO_POINTS="ZOOM_TO_POINTS"}(n||(n={}))},"./app/j/header/constants.ts":(e,t,s)=>{"use strict";s.d(t,{Ax:()=>r,P7:()=>o,Pp:()=>n,nU:()=>a});const n=64,o="m",a="l";let r;!function(e){e.Home="home",e.Subjects="subjects",e.Explanations="explanations",e.Library="your-library",e.Create="create"}(r||(r={}))},"./app/j/hocs/keydownDecorator.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l,a:()=>i});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/react/index.js"),o=s("./app/j/utils/HOCs.ts"),a=s("./node_modules/react/jsx-runtime.js");let r=1;const i=["CapsLock","Tab"];function l(e){const t=Array.isArray(e)?e.join(", "):e;return(0,o.r)((function(e){return class extends n.Component{constructor(){super(...arguments),this.state={keydownEvent:null},this.handleKeydown=e=>{!t&&this.isModifierKey(e)||e.repeat||this.setState({keydownEvent:e},(()=>{this.setState({keydownEvent:null})}))},this.isModifierKey=e=>{const{altKey:t,ctrlKey:s,metaKey:n,shiftKey:o}=e;return t||s||n||o},this.scope="keydownDecorator#"+r++}componentDidMount(){const e=s("./node_modules/keymaster/keymaster.js");t?(e.pushScope(this.scope),e(t,this.scope,this.handleKeydown)):window.document.addEventListener("keydown",this.handleKeydown,!0)}componentWillUnmount(){const e=s("./node_modules/keymaster/keymaster.js");t?(e.deleteScope(this.scope),e.unbind(t,this.scope)):window.document.removeEventListener("keydown",this.handleKeydown,!0)}render(){return(0,a.jsx)(e,{...this.props,keydownEvent:this.state.keydownEvent})}}}))}},"./app/j/hooks/useClickAway.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s("./node_modules/react/index.js");function o(e,t){(0,n.useEffect)((()=>{if(null===e.current)return;const s=s=>{e.current&&(e.current.contains(s.target)||t(s))};return document.addEventListener("click",s,!0),document.addEventListener("touchstart",s,!0),()=>{document.removeEventListener("click",s),document.removeEventListener("touchstart",s)}}),[e,t])}},"./app/j/i18n/getLocalizedLanguage.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r,w:()=>a});var n=s("./app/j/compatibility/getLocalizedLanguage.ts"),o=s("./app/j/i18n/$t.ts");function a(e){return(0,n.w)(o.Z,e)}function r(e){return(0,n.Z)(o.Z,e)}},"./app/j/kmp/ExperimentManager.ts":(e,t,s)=>{"use strict";s.d(t,{_:()=>n});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");class n{constructor(e){this.qMeasure=e,this.variantOverrides=new Map([])}enrollAndGetVariantName(e){const t=this.getOverriddenVariant(e);if(void 0!==t)return t;const s=e;if(this.qMeasure.getTest(s)){return this.qMeasure.getVariationAndEnroll(s)}return null}overrideVariant(e,t){this.variantOverrides.set(e,t)}getOverriddenVariant(e){return this.variantOverrides.get(e)}}},"./app/j/kmp/index.ts":(e,t,s)=>{"use strict";s.d(t,{eN:()=>d});s("./node_modules/core-js/modules/es.string.replace.js"),s("./node_modules/core-js/modules/es.json.stringify.js");var n=s("./node_modules/@status/codes/build/http.js"),o=s("./node_modules/abort-controller/browser.js"),a=s.n(o),r=s("./app/j/compatibility/fetch/browserFetch.ts"),i=s("./node_modules/invariant/browser.js"),l=s.n(i);class d{submit(e,t,s){let{url:o,queryParameters:i,body:d,method:u}=e;const c=new(a());let p=!0;return(0,r.t5)(function(e){const t="undefined"==typeof window?"https://quizlet.com":window.location.origin;return e.replace("https://api.quizlet.com/",t+"/webapi/")}(o),function(e){const t=e.toUpperCase();return l()("GET"===t||"DELETE"===t||"POST"===t,"Cannot make %s HTTP calls",t),t}(u),i,void 0,d||void 0,{signal:c.signal}).then((e=>{p=!1;const s={body:e.body?JSON.stringify(e.body):null,code:e.status,message:n.eV[e.status]};t(s)})).catch((e=>{p=!1,s(e)})),{cancel:()=>!!p&&(c.abort(),!0)}}}},"./app/j/lazy/LoginPromptModalContainerLazy.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");const n=(0,s("./app/j/hocs/lazilyLoadComponent.tsx").Z)((()=>Promise.all([s.e("react"),s.e("redux"),s.e("common"),s.e("login_signup_lazy")]).then(s.bind(s,"./app/j/containers/LoginPromptModalContainer.ts"))))},"./app/j/lazy/QuestionHintContainerLazy.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");const n=(0,s("./app/j/hocs/lazilyLoadComponent.tsx").Z)((()=>Promise.all([s.e("progress"),s.e("question_hint_container_lazy")]).then(s.bind(s,"./app/j/study-modes/learn/containers/QuestionHintContainer.ts"))))},"./app/j/lazy/SignupPromptModalNewLazy.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");const n=(0,s("./app/j/hocs/lazilyLoadComponent.tsx").Z)((()=>Promise.all([s.e("react"),s.e("redux"),s.e("common"),s.e("login_signup_lazy")]).then(s.bind(s,"./app/j/components/SignupPromptModalNew.tsx"))))},"./app/j/legacyAssistant/types/QAssistantModeTypes.ts":(e,t,s)=>{"use strict";s.d(t,{Q:()=>a});var n=s("./app/j/config/study-setting-metadata.ts");const{bitValues:o}=n.ZP.ASSISTANT_MODE_QUESTION_TYPES;function a(){return o}},"./app/j/login/constants.ts":(e,t,s)=>{"use strict";s.d(t,{MF:()=>l,VO:()=>r,Vv:()=>a,e:()=>i,g4:()=>o,vu:()=>n});const n="generic",o=250,a="login_multiple_accounts_found",r="login",i={PASSWORD:"password",USERNAME:"username"};let l;!function(e){e.CHANGE_INPUT="LOGIN.CHANGE_INPUT",e.RESET_SUBMISSION="LOGIN.RESET_SUBMISSION",e.SUBMIT_FORM="LOGIN.SUBMIT_FORM",e.SUBMIT_FORM_ASYNC_FAILURE="LOGIN.SUBMIT_FORM_ASYNC_FAILURE",e.OPEN_AUTH_MODAL="LOGIN.OPEN_AUTH_MODAL",e.CLOSE_AUTH_MODAL="LOGIN.CLOSE_AUTH_MODAL",e.REQUEST_USERNAME="LOGIN.REQUEST_USERNAME"}(l||(l={}))},"./app/j/login/index.ts":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,loginReducer:()=>d});var n=s("./app/j/core/default_store/DefaultStore.ts"),o=s("./app/j/login/constants.ts"),a=(s("./node_modules/core-js/modules/es.array.reduce.js"),s("./node_modules/immer/dist/immer.cjs.production.min.js"));const r={[o.MF.CHANGE_INPUT]:(e,t)=>{let{payload:s}=t;return(0,a.default)(e,(e=>{const{name:t,value:n,type:o}=s,a="checkbox"===o?s.checked:n;e.form[t]=a,e.validationErrorsByInputName[t]=null}))},[o.MF.RESET_SUBMISSION]:e=>(0,a.default)(e,(e=>{e.wasSubmitted=!1})),[o.MF.SUBMIT_FORM]:e=>(0,a.default)(e,(e=>{e.wasSubmitted=!0,e.validationErrorsByInputName={[o.vu]:[]}})),[o.MF.SUBMIT_FORM_ASYNC_FAILURE]:(e,t)=>{let{payload:s}=t;return(0,a.default)(e,(e=>{e.validationErrorsByInputName=s.reduce(((e,t)=>(-1!==t.type.indexOf(o.e.USERNAME)?e[o.e.USERNAME]=t.message:-1!==t.type.indexOf(o.e.PASSWORD)?e[o.e.PASSWORD]=t.message:e[o.vu].push(t),e)),e.validationErrorsByInputName),e.numFailedAttempts+=1}))},[o.MF.REQUEST_USERNAME]:e=>(0,a.default)(e,(e=>{e.hasMultipleAccounts=!0}))};var i=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js");const l={form:{[o.e.PASSWORD]:"",[o.e.USERNAME]:""},hasMultipleAccounts:!1,numFailedAttempts:0,openedAuthModal:null,validationErrorsByInputName:{[o.vu]:[]},wasSubmitted:!1},d=(0,i.createReducer)(l,r);function u(e){void 0===e&&(e=(0,n.bh)()),e.registerReducer(o.VO,d)}},"./app/j/models/QSession.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});s("./node_modules/core-js/modules/es.promise.js");var n=s("./app/j/core/superagent-with-csrf.ts"),o=s("./node_modules/invariant/browser.js"),a=s.n(o),r=s("./app/j/models/helpers/extractModelsAndIncludedAssociationsFromFirstResponse.ts"),i=s("./app/j/models/helpers/prepQueryParams.ts"),l=s("./app/j/models/QModel.ts");class d extends l.Z{static getHighscores(e,t,s,o,l){void 0===o&&(o=!1),void 0===l&&(l=!1);const d=(0,i.Z)({filters:{itemId:e,itemType:t,type:s}}),u=(0,i.Z)({include:{session:"user"}});return new Promise(((e,t)=>{const s=n.Z.get(this._getBaseUrl("highscores")).timeout(this.REQUEST_TIMEOUT_LIMIT_MS).credentials().query(d);return o&&s.query(u),l&&s.query((0,i.Z)({selectedOnly:!0})),s.end(((s,n)=>{if(s)return t(s);if(n.error)return t(n.error);const o=(0,r.Z)(this.MODEL_NAME,n,[{model:"user",isRelated:(e,t)=>e.personId===t.id}]);return a()(o,"Unable to extract model in getHighScores"),e({highscores:this.fromJson(o)})}))}))}}d.REQUEST_TIMEOUT_LIMIT_MS=6e4,d.URL_BASE="sessions",d.MODEL_NAME="session"},"./app/j/models/QStudiableAnswer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s("./app/j/models/QModel.ts");class o extends n.Z{}o.URL_BASE="studiable-answers",o.MODEL_NAME="studiableAnswer",o.ALLOW_SOFT_DELETE=!1,o.API_VERSION="3.4"},"./app/j/models/helpers/extractModelsAndIncludedAssociationsFromFirstResponse.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s("./node_modules/invariant/browser.js"),o=s.n(n);function a(e,t,s){o()(t.body&&Array.isArray(t.body.responses),"Invalid data param in extractModelsAndIncludedAssociationsFromFirstResponse");const{models:n}=t.body.responses[0];return s.forEach((t=>{const s=n[t.model],o=t.isRelated;!function(e,t,s,n){t.forEach((t=>{e.forEach((e=>{n(e,t)&&(e[s]=t)}))}))}(n[e],s,t.model,o)})),n[e]}},"./app/j/notifications/addNotification.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s("./app/j/global/Quizlet.ts"),o=s("./node_modules/invariant/browser.js"),a=s.n(o);function r(e){QWait("Quizlet.NotificationContainer",(()=>{a()(n.Z.NotificationContainer,"Missing Quizlet.NotificationContainer"),n.Z.NotificationContainer.addNotification(e)}))}},"./app/j/rich_text/EditorModelHelper.ts":(e,t,s)=>{"use strict";s.d(t,{Eg:()=>i,N_:()=>d,Xd:()=>m,ZL:()=>c,j3:()=>g,z1:()=>p});s("./node_modules/core-js/modules/web.url.to-json.js");var n=s("./node_modules/prosemirror-model/dist/index.js"),o=s("./app/j/rich_text/constants.ts"),a=s("./app/j/rich_text/marks.ts"),r=s("./app/j/rich_text/schema.ts");const i=e=>r.Z.text(e),l=(e,t)=>r.Z.node(e,void 0,t),d=e=>e.split("\n").map((e=>""!==e&&"string"==typeof e?l(o.Hq.PARAGRAPH,[i(e)]):l(o.Hq.PARAGRAPH))),u=e=>e?e.map((e=>{const t={...e};return e.marks&&(t.marks=e.marks.filter((e=>Object.keys(a.Z).includes(e.type)))),e.content&&(t.content=u(e.content)),t})):null,c=e=>{if(e.type!==o.Hq.DOCUMENT)throw new Error("Invalid document provided!");return{...e,content:u(e.content)}},p=e=>{return t=(e=>n.Node.fromJSON(r.Z,e))(c(e)),n.DOMSerializer.fromSchema(r.Z).serializeFragment(t,{},document.createElement("div"));var t},m=e=>{if(!e)return l(o.Hq.DOCUMENT,[l(o.Hq.PARAGRAPH)]).toJSON();const t=d(e);return l(o.Hq.DOCUMENT,t).toJSON()},g=e=>{const t=[];return e.textContent&&e.forEach((e=>{t.push(e.textContent)})),t.join("\n")}},"./app/j/rich_text/components/PMDocument.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var n=s("./node_modules/@linaria/core/lib/index.js"),o=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/config/languages.ts"),r=s("./app/j/rich_text/EditorModelHelper.ts"),i=s("./node_modules/react/jsx-runtime.js");const l=(0,o.z)("div")({name:"Document",class:"dxv8pid"});function d(e){let{allowRtl:t,pmJson:s,lang:o}=e;const d="string"==typeof s?JSON.parse(s):s,u={__html:(0,r.z1)(d).innerHTML},c=t&&a.cQ.includes(o);return(0,i.jsx)(l,{className:(0,n.cx)(c&&"r8aglf5"),dangerouslySetInnerHTML:u})}s("./.linaria-cache/app/j/rich_text/components/PMDocument.linaria.css")},"./app/j/rich_text/components/SpecialCharactersToolbar.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m,i:()=>u});var n=s("./node_modules/@linaria/react/lib/index.js"),o=s("./node_modules/react/index.js"),a=s("./app/j/study-modes/legacy-common/components/SpecialCharacterButtonGroup.tsx"),r=s("./app/j/utils/AccentHelper.ts"),i=s("./app/j/utils/EventListener.ts"),l=s("./node_modules/react/jsx-runtime.js");const d=(0,n.z)("div")({name:"Toolbar",class:"t19duczn"}),u="h187ohc0",c=(0,n.z)("div")({name:"AccentsBar",class:"aixuzoy"}),p=(0,n.z)("div")({name:"AccentsBarInner",class:"a1ifv3gl"});function m(e){let{editorView:t,languageCodes:s,specificAccents:n}=e;const m=(0,o.useRef)(null),g=(0,o.useRef)(null),h=e=>{e.preventDefault()};(0,o.useEffect)((()=>(m.current&&(g.current=i.Z.listen(m.current,"mousedown",h)),()=>{g.current&&(g.current.remove(),g.current=null)})));const _=r.Z.getCharactersByLangForLangs(s);if(n.length>0&&s.length>0){_[s[0]]=n}const S=_&&s&&s[0]&&_[s[0]].length>0;return(0,l.jsx)(d,{"data-testid":"SpecialCharactersToolbar",ref:m,children:S?(0,l.jsx)(c,{className:u,children:(0,l.jsx)(p,{children:(0,l.jsx)(a.Z,{buttonSize:"small",charactersByLang:_,compact:!0,onClickButton:e=>{const{view:s}=t,{state:n,dispatch:o}=s;(e=>(t,s)=>{s(t.tr.insertText(e))})(e)(n,o),s.focus()}})})}):null})}s("./.linaria-cache/app/j/rich_text/components/SpecialCharactersToolbar.linaria.css")},"./app/j/rich_text/constants.ts":(e,t,s)=>{"use strict";s.d(t,{Hq:()=>l,Kg:()=>r,P8:()=>o,QK:()=>u,dm:()=>p,fI:()=>d,oG:()=>a,oN:()=>i,wu:()=>c});var n=s("./app/j/assembly/foundations/Color.ts");const o={BLOCK:"block+",INLINE:"inline*",TEXT:"text*"},a={BLOCK:"block",INLINE:"inline"},r={BOLD:"b",EMPHASIS:"em",ITALIC:"i",PARAGRAPH:"p",SPAN:"span",STRONG:"strong",SUBSCRIPT:"sub",SUPERSCRIPT:"sup",UNDERLINE:"u"},i={BOLD:"b",BG_BLUE:"bgB",BG_PINK:"bgP",BG_YELLOW:"bgY",ITALIC:"i",UNDERLINE:"u"},l={DOCUMENT:"doc",PARAGRAPH:"paragraph",TEXT:"text"},d={[i.BOLD]:"bold",[i.ITALIC]:"italic",[i.UNDERLINE]:"underline"},u=(n.dl.$400,{[i.BG_PINK]:"m98tlmg",[i.BG_YELLOW]:"mscfyq7",[i.BG_BLUE]:"mkenrva"}),c={BLUE:"bgB",PINK:"bgP",YELLOW:"bgY"},p={INLINE:"inline",PLACEHOLDER:"placeholder"};s("./.linaria-cache/app/j/rich_text/constants.linaria.css")},"./app/j/rich_text/marks.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s("./app/j/rich_text/constants.ts");const o=(e,t)=>e&&e.classList&&e.classList.contains(t),a={parseDOM:[{tag:n.Kg.ITALIC},{tag:n.Kg.EMPHASIS},{style:"font-style=italic"}],toDOM:()=>[n.Kg.EMPHASIS,0]},r={parseDOM:[{tag:n.Kg.STRONG},{tag:n.Kg.BOLD,getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>[n.Kg.STRONG,0]},i={parseDOM:[{tag:n.Kg.UNDERLINE},{style:"text-decoration=underline"}],toDOM:()=>[n.Kg.SPAN,{style:"text-decoration:underline"}]},l={attrs:{class:{default:""+n.wu.YELLOW}},excludes:n.oN.BG_PINK+" "+n.oN.BG_BLUE,parseDOM:[{tag:n.Kg.SPAN,getAttrs:e=>!!o(e,n.wu.YELLOW)&&{class:n.wu.YELLOW}}],toDOM:()=>[n.Kg.SPAN,{class:""+n.wu.YELLOW},0]},d={attrs:{class:{default:""+n.wu.PINK}},excludes:n.oN.BG_YELLOW+" "+n.oN.BG_BLUE,parseDOM:[{tag:n.Kg.SPAN,getAttrs:e=>!!o(e,n.wu.PINK)&&{class:n.wu.PINK}}],toDOM:()=>[n.Kg.SPAN,{class:""+n.wu.PINK},0]},u={attrs:{class:{default:""+n.wu.BLUE}},excludes:n.oN.BG_PINK+" "+n.oN.BG_YELLOW,parseDOM:[{tag:n.Kg.SPAN,getAttrs:e=>!!o(e,n.wu.BLUE)&&{class:n.wu.BLUE}}],toDOM:()=>[n.Kg.SPAN,{class:""+n.wu.BLUE},0]},c={[n.oN.BOLD]:r,[n.oN.ITALIC]:a,[n.oN.UNDERLINE]:i,[n.oN.BG_YELLOW]:l,[n.oN.BG_PINK]:d,[n.oN.BG_BLUE]:u}},"./app/j/rich_text/schema.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l,c:()=>d});var n=s("./node_modules/prosemirror-model/dist/index.js"),o=s("./app/j/rich_text/marks.ts"),a=s("./app/j/rich_text/constants.ts");const r={content:a.P8.BLOCK,group:a.oG.BLOCK},i={paragraph:{content:a.P8.INLINE,group:a.oG.BLOCK,parseDOM:[{tag:a.Kg.PARAGRAPH}],toDOM:()=>[a.Kg.PARAGRAPH,0]},doc:r,text:{group:a.oG.INLINE}},l=new n.Schema({marks:o.Z,nodes:i}),d=new n.Schema({marks:{},nodes:i})},"./app/j/set/enums.ts":(e,t,s)=>{"use strict";let n,o,a,r;s.d(t,{Dl:()=>a,GO:()=>o,qu:()=>r}),function(e){e.RECENT_SAME_SUBJECT_SETS="recent_same_subject_sets",e.BEHAVIORAL_SETS="behavioral_sets",e.BY_MUTUAL_AUTHOR="by_mutual_author",e.BY_MUTUAL_FOLDERS="by_mutual_folders",e.EXPERT_VERIFIED_QUESTIONS="expert_verified_questions",e.LIKELY_TO_RANK_SETS="likely_to_rank_sets",e.RECOMMENDED_TEXTBOOKS="recommended_textbooks",e.SIMILAR_SETS="similar_sets"}(n||(n={})),function(e){e.HOUR="HOUR",e.DAY="DAY"}(o||(o={})),function(e){e.CLASSIC="classic",e.CHECKPOINT="checkpoint"}(a||(a={})),function(e){e.ALL_TOASTS="all_toasts",e.ONE_TOAST="one_toast"}(r||(r={}))},"./app/j/signup/components/AuthPromptModal.tsx":(e,t,s)=>{"use strict";s.d(t,{q:()=>M});var n=s("./node_modules/lodash/noop.js"),o=s.n(n),a=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/j/assembly/AssemblyLink.tsx")),r=s("./app/j/assembly/modals/index.ts"),i=s("./app/j/compatibility/logger/useLogger.ts"),l=s("./app/j/compatibility/router.ts"),d=s("./app/j/config/enums.ts"),u=s("./app/j/i18n/useTranslation.ts"),c=s("./node_modules/react/index.js"),p=s("./node_modules/@linaria/react/lib/index.js"),m=s("./app/j/assembly/AssemblyBreakpoint.tsx"),g=s("./app/j/assembly/buttons/index.ts"),h=s("./app/j/assembly/buttons/components/AssemblySocialButton.tsx"),_=s("./app/j/context/RouteContext.tsx"),S=s("./app/j/signup/components/TosLegend.tsx"),f=s("./app/j/signup/types/auth.ts"),y=s("./app/j/signup/utils.ts"),j=s("./app/j/utils/LoginHelper.ts"),E=s("./node_modules/react/jsx-runtime.js");const T=(0,p.z)("div")({name:"BodyWrapper",class:"b6nch9j"}),x=(0,p.z)("div")({name:"TosWrapper",class:"t1vzruvv"}),b=(0,p.z)("div")({name:"SignupOptions",class:"sfkrc64"});function A(e){let{authOrigin:t,escapeHatch:s,loggingData:n,onClickEmailSignup:o}=e;const[a,r]=(0,c.useState)(!0),{t:l}=(0,u.ZP)(),d=(0,j.GG)((0,c.useContext)(_.jj).actionString),{logPageAction:p}=(0,i.wL)(),{isFacebookSignupDisabled:A}=(0,y.t9)();function I(e){p(f.o.SOCIAL_AUTH_CLICKED,{...n,provider:e},{isTabClosing:!0})}function v(e){const s={customParams:{signupOrigin:t,screenName:d}};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.ZP,{lowerBound:"s",children:(0,E.jsx)(h.ZP,{onClick:()=>I(e),provider:e,size:"xlarge",urlParams:s,variant:h.h2.SMALL})}),(0,E.jsx)(m.ZP,{upperBound:"s",children:(0,E.jsx)(h.ZP,{onClick:()=>I(e),provider:e,size:"large",urlParams:s,variant:h.h2.DEFAULT})})]})}(0,c.useEffect)((()=>{A()?r(!1):r(!0)}),[]);const C=(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(m.ZP,{lowerBound:"s",children:(0,E.jsx)(g.B0,{isFullWidth:!0,onClick:o,size:"xlarge",text:l("global.sign_up_modal.email"),topIcon:"mail"})}),(0,E.jsx)(m.ZP,{upperBound:"s",children:(0,E.jsx)(g.B0,{isFullWidth:!0,leftIcon:"mail",onClick:o,size:"large",text:l("signup_wall_inline.cta")})})]});return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(x,{children:(0,E.jsx)(S.Z,{authType:"signup"})}),(0,E.jsxs)(T,{children:[(0,E.jsxs)(b,{children:[v(h.MC.GOOGLE),a&&v(h.MC.FACEBOOK),C]}),s]})]})}s("./.linaria-cache/app/j/signup/components/AuthPromptOptions.linaria.css");var I=s("./app/j/lazy/LoginPromptModalContainerLazy.ts"),v=s("./app/j/lazy/SignupPromptModalNewLazy.ts"),C=s("./app/j/site_nav/types.ts");function w(e){let{authOrigin:t,loggingData:s,onCloseAuthModal:n,onEmailLoginModalOpen:o,onEmailSignupModalOpen:a,openedAuthModal:r,redirectPath:d}=e;const u=(0,l.wK)(),{logPageAction:c}=(0,i.wL)();const p=(0,E.jsx)(v.Z,{actions:{onClose:function(){c(f.o.EMAIL_SIGNUP_MODAL_CLOSED,{...s}),n()},onOpenLogin:o},includeCloseButton:!0,isOpen:r===C.L.SIGN_UP,redir:d||u,signupOrigin:t}),m=(0,E.jsx)(I.Z,{isOpen:r===C.L.LOGIN,onClose:function(){c(f.o.EMAIL_LOGIN_MODAL_CLOSED,{...s}),n()},onOpenSignup:a,redir:d||u});return(0,E.jsxs)(E.Fragment,{children:[p,m]})}const N=(0,p.z)("div")({name:"LoginTextWrapper",class:"lefre96"}),O=(0,p.z)("div")({name:"SubtextWrapper",class:"s15jni46"});function M(e){let{additionalLogData:t={},barrierType:s,escapePath:n,includeSubtitle:p=!0,isOpen:m,onClose:g,onOpen:h=o(),placement:_,redirectPath:S,signupOrigin:y,titleOverride:j}=e;const[T,x]=(0,c.useState)(null),{t:b}=(0,u.ZP)(),I=(0,l.wK)(),{logPageAction:v,logAuthEvent:M}=(0,i.wL)(),L=y||function(e){switch(e){case f.V.STUDY_MODE_BACK_BUTTON:return"study-mode-back-button";case f.V.SET_PAGE_CURTAIN:return"study-mode-signup-curtain";case f.V.SET_PAGE_LEARN:return d.qkQ.LEARN_MODE_ENTER_BUTTON;case f.V.SET_PAGE_TEST:return d.qkQ.TEST_MODE_ENTER_BUTTON;case f.V.SET_PAGE_MINI_FLASHCARDS:return"set-page-signup-wall-mini-flashcards";case f.V.TEST:case f.V.LEARN:default:return"study-mode-signup-wall-modal"}}(_),D={barrierType:s,placement:_,...t};function R(){v(f.o.EMAIL_SIGNUP_MODAL_OPENED,{...D}),M(d.g4I.SIGNUP_FORM_OPENED,{auth_origin:L}),"curtain"===s&&g(),x(C.L.SIGN_UP)}const P="escapableWall"===s?(0,E.jsxs)(O,{children:[(0,E.jsx)(N,{children:b("global.sign_up_modal.wall.escape_hatch")}),(0,E.jsx)(a.ZP,{linkTo:n,onClick:function(){v(f.o.ESCAPE_HATCH_CLICKED,{...D})},size:"small",text:b("global.sign_up_modal.wall.escape_hatch_option"),variant:a.U_.Secondary})]}):void 0,k=(0,E.jsx)(A,{authOrigin:L,escapeHatch:P,loggingData:D,onClickEmailSignup:R}),U=j?{title:j,subtitle:b("global.sign_up_modal.wall.subtitle")}:{title:b("global.sign_up_modal.wall_default.title"),subtitle:b("global.sign_up_modal.wall_default.subtitle")};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(w,{authOrigin:L,loggingData:D,onCloseAuthModal:()=>x(null),onEmailLoginModalOpen:function(){v(f.o.EMAIL_LOGIN_MODAL_OPENED,{...D}),M(d.g4I.LOGIN_FORM_OPENED,{auth_origin:L}),"curtain"===s&&g(),x(C.L.LOGIN)},onEmailSignupModalOpen:R,openedAuthModal:T,redirectPath:S||I}),(0,E.jsx)(r.g,{body:k,includeCloseButton:"escapableWall"!==s,isOpen:m,justifyCenter:!0,mobileVariant:"bottomSheet",onClose:function(){"escapableWall"!==s&&(v(f.o.CLOSED,{...D}),g())},onOpen:function(){v(f.o.OPENED,{...D}),h()},shouldCloseOnOverlayClick:"escapableWall"!==s,subtitle:p?U.subtitle:void 0,title:U.title})]})}s("./.linaria-cache/app/j/signup/components/AuthPromptStyling.linaria.css")},"./app/j/signup/types/auth.ts":(e,t,s)=>{"use strict";let n,o;s.d(t,{V:()=>n,o:()=>o}),function(e){e.STUDY_MODE_BACK_BUTTON="study_mode_back_button",e.SET_PAGE_CURTAIN="set_page_curtain",e.SET_PAGE_LEARN="set_page_learn",e.SET_PAGE_MINI_FLASHCARDS="set_page_mini_flashcards",e.SET_PAGE_TEST="set_page_test",e.LEARN="learn",e.TEST="test",e.MATCH="match"}(n||(n={})),function(e){e.OPENED="auth_prompt_modal_opened",e.CLOSED="auth_prompt_modal_closed",e.SOCIAL_AUTH_CLICKED="auth_prompt_modal_social_auth_clicked",e.ESCAPE_HATCH_CLICKED="auth_prompt_modal_escape_hatch_clicked",e.EMAIL_LOGIN_MODAL_OPENED="auth_prompt_modal_email_login_modal_opened",e.EMAIL_SIGNUP_MODAL_OPENED="auth_prompt_modal_email_signup_modal_opened",e.EMAIL_LOGIN_MODAL_CLOSED="auth_prompt_modal_email_login_modal_closed",e.EMAIL_SIGNUP_MODAL_CLOSED="auth_prompt_modal_email_signup_modal_closed"}(o||(o={}))},"./app/j/studiable-data/types.ts":(e,t,s)=>{"use strict";let n;s.d(t,{N:()=>n}),function(e){e.N_SIDED_CARD_ANSWER="NSidedCardAnswer",e.MCQ_ANSWER="McqAnswer"}(n||(n={}))},"./app/j/studiable-data/utils.ts":(e,t,s)=>{"use strict";s.d(t,{Ai:()=>p,CC:()=>d,F_:()=>i,KN:()=>h,c4:()=>g,cD:()=>l,lt:()=>r,p:()=>u,rn:()=>m,vQ:()=>_,xy:()=>c});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/config/enums.ts"),o=s("./app/j/studiable-data/types.ts");function a(e){const t={correctness:e.correctness,round:e.round,studiableItemId:e.itemId,studyModeType:e.studyMode,timestamp:e.timestamp};return"selectedOptionIds"in e?{type:o.N.MCQ_ANSWER,selectedOptionIds:e.selectedOptionIds,...t}:{type:o.N.N_SIDED_CARD_ANSWER,promptSideIds:e.promptSideIds,answerSideIds:e.answerSideIds,...t}}function r(e){return a(e)}function i(e){return e.type===n.zqd.N_SIDED_CARD}function l(e){return e.type===n.zqd.MULTIPLE_CHOICE_QUESTION}function d(e){return 1===e.options.filter((e=>e.isCorrect)).length}function u(e){const t=e.media.find((e=>e.type===n.DDH.IMAGE));return void 0!==t&&"width"in t?t:null}function c(e){const t=e.media.find((e=>e.type===n.DDH.TEXT));return void 0!==t&&"plainText"in t?t:null}function p(e){const t=e.media.find((e=>e.type===n.DDH.AUDIO));return void 0===t||!("url"in t)||"width"in t?null:t}function m(e){const t=e.media.find((e=>e.type===n.DDH.DIAGRAM_SHAPE));return void 0!==t&&"shape"in t?t.shape:null}function*g(e,t){for(const s of e)for(const e of s.cardSides)e.label===t&&(yield e)}function h(e,t){const s=e.cardSides.find((e=>e.label===t));return void 0===s?null:s}function _(e,t,s){if(!e)return null;if(t===n.dU_.WORD&&!s.wordEnabled||t===n.dU_.DEFINITION&&!s.definitionEnabled)return null;const{slowUrl:o,url:a}=e;let r;switch(t){case n.dU_.WORD:r=s.slowWordEnabled?o:a;break;case n.dU_.DEFINITION:r=s.slowDefinitionEnabled?o:a;break;default:throw new Error("Audio items can only be generated for words and definitions")}return{audioId:r,url:r}}},"./app/j/study-engine/factory.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s("./node_modules/@quizlet/assistant-generator/quizlet-shared-kotlin-assistant-generator.js"),o=s("./node_modules/@quizlet/http-client/quizlet-shared-kotlin-http-client.js"),a=s("./app/j/ab_tests/QMeasure.ts"),r=s("./app/j/kmp/index.ts"),i=s("./app/j/kmp/ExperimentManager.ts");const l=new r.eN;o.com.quizlet.shared.httpclient.HttpClientProvider.setPlatformHttpClient(l);const d=new i._(a.Z);d.overrideVariant("GranularStudyDirectionV2[default,subscriptions,ads]","v2");const u=n.StudyEngineFactoryJs;u.loadKmpKoinModules(l,d);const c=u},"./app/j/study-engine/utils.ts":(e,t,s)=>{"use strict";s.d(t,{KX:()=>a,Vq:()=>c,Vr:()=>d,bJ:()=>u,hB:()=>i,jk:()=>r,zn:()=>o,zo:()=>l});s("./app/j/config/enums.ts");var n=s("./app/j/study-engine/types.ts");const o=e=>e,a=e=>Object.values(n.mw).includes(e.type),r=e=>Object.values(n.ju).includes(e.type),i=e=>Object.values(n.F9).includes(e.type),l=e=>({type:n.xh.STRING_ANSWER,value:e}),d=e=>({type:n.xh.BOOLEAN_ANSWER,value:e}),u=e=>({type:n.xh.OPTION_INDEX_ANSWER,value:e}),c=e=>({type:n.xh.REVEAL_SELF_ASSESSMENT_ANSWER,value:e})},"./app/j/study-modes/cards/constants.ts":(e,t,s)=>{"use strict";let n;s.d(t,{S:()=>n}),function(e){e[e.AD_MODAL=0]="AD_MODAL",e[e.CARDS_VIEW=1]="CARDS_VIEW",e[e.FINISHED_VIEW=2]="FINISHED_VIEW",e[e.LEARN_UPSELL_VIEW=3]="LEARN_UPSELL_VIEW",e[e.SIGNUP_WALL=4]="SIGNUP_WALL"}(n||(n={}))},"./app/j/study-modes/cards/utils/index.ts":(e,t,s)=>{"use strict";s.d(t,{$A:()=>r,X_:()=>a,tN:()=>o});var n=s("./app/j/config/enums.ts");function o(e,t){if(t&&e.location)return n.dU_.LOCATION;if(e.term)return n.dU_.WORD;if(e.definition)return n.dU_.DEFINITION;throw new Error("Unsupported settings configuration for cards")}function a(e,t){return{...t,answerWith:{definition:!1,term:!1,location:!1,...e}}}function r(e,t){return{...t,promptWith:{definition:!1,term:!1,location:!1,...e}}}},"./app/j/study-modes/data/constants.ts":(e,t,s)=>{"use strict";s.d(t,{Dg:()=>o,JS:()=>a,Oj:()=>i,_$:()=>n,jY:()=>d,rl:()=>l,t9:()=>r});const n="studyModesCommon",o=n+"/gradings",a=n+"/gradings",r=n+"/logging",i=n+"/settings",l=n+"/studiable-data",d=n+"/sessions"},"./app/j/study-modes/data/engine/selectors/index.ts":(e,t,s)=>{"use strict";s.d(t,{C1:()=>g,C9:()=>j,WJ:()=>T,zt:()=>y});var n=s("./app/j/config/enums.ts"),o=s("./app/j/core/default_store/DefaultStore.ts"),a=s("./node_modules/nullthrows/nullthrows.js"),r=s.n(a),i=s("./node_modules/reselect/lib/index.js"),l=s("./app/j/study-engine/types.ts"),d=s("./app/j/study-engine/utils.ts"),u=s("./app/j/study-modes/data/constants.ts"),c=s("./app/j/study-modes/data/settings/types.ts"),p=s("./app/j/study-modes/legacy-common/grading/utils/isAnswerGradedAsCorrectWithLevenshteinPlus.ts");const m=(0,i.createSelector)((0,o.iu)(u._$),(e=>e.engine)),g=((0,i.createSelector)(m,(e=>e.instance)),(0,i.createSelector)(m,(e=>r()(e.instance,"You must initialize the study engine before selecting it.")))),h=(0,i.createSelector)(m,(e=>r()(e.studyStep,"You must generate the study step before selecting it."))),_=(0,i.createSelector)(m,(e=>r()(e.answerHistory,"You must set the answer history before selecting it."))),S=(0,i.createSelector)(h,(e=>(0,d.KX)(e)?e:null)),f=((0,i.createSelector)(h,(e=>{if(!(0,d.KX)(e))throw new Error("You cannot select a question if the current study step is not a question. The current study step type is: "+e.type+".");return e})),(0,i.createSelector)(h,(e=>{if((0,d.hB)(e)&&e.checkpoint)return e.checkpoint;if(!(0,d.jk)(e))throw new Error("You cannot select a checkpoint if the current study step is not a checkpoint.");return e})),(0,i.createSelector)([S,_],((e,t)=>{if(null===e)return!1;for(let s=t.length-1;s>=0;s--){const o=t[s];if(o.studiableItemId===e.metadata.studiableItemId&&(o.round===(0,c.Q)().multipleChoice&&e.type===l.mw.MULTIPLE_CHOICE_QUESTION||o.round===(0,c.Q)().written&&e.type===l.mw.WRITTEN_QUESTION))return o.correctness===n.p7P.INCORRECT||o.correctness===n.p7P.INCORRECT_WITH_HINT}return!1})),(0,i.createSelector)(h,(e=>{if(!(0,d.hB)(e))throw new Error("You cannot select a paywall if the current study step is not a paywall.");return e}))),y=((0,i.createSelector)(h,(e=>{var t;if(!(0,d.hB)(e)&&!(0,d.jk)(e))throw new Error("You cannot select study step metering data when the step is not a checkpoint or paywall, this is to prevent too many calls to the metering endpoint");return null!=(t=e.metadata.meteringData)?t:null})),(0,i.createSelector)(f,(e=>{var t;const{checkpoint:s}=e;return(null!=(t=null==s?void 0:s.roundResults)?t:[]).length>0})),(0,i.createSelector)(h,(e=>{if((0,d.hB)(e)){var t,s;return null!=(t=null==(s=e.checkpoint)?void 0:s.roundResults)?t:[]}return(0,d.jk)(e)?e.roundResults:[]})),(0,i.createSelector)(m,(e=>r()(e.totalProgress,"You must compute the total progress before selecting it.")))),j=((0,i.createSelector)(m,(e=>r()(e.roundProgress,"You must compute the round progress before selecting it."))),(0,i.createSelector)(h,(e=>!!(0,d.jk)(e)&&e.progressState===n.kg$.PERCENT_100)),(0,i.createSelector)(m,(e=>r()(e.tasksWithProgress,"You must compute tasks with progress before selecting it."))),(0,i.createSelector)(m,(e=>{const t=r()(e.tasksWithProgress,"You must compute tasks with progress before selecting it."),s=e.currentTaskIndex;return t.length&&null!==s?t[s].totalProgress:null})),(0,i.createSelector)(m,(e=>{const t=e.tasksWithProgress;if(t){const e=[];return t.forEach((t=>{const s=t.task.questionSource;t.task.questionTypes.forEach((t=>{e.push([t,s])}))})),e}return[]})),(0,i.createSelector)(m,(e=>r()(e.taskRoundProgress,"You must compute task round progress before selecting it."))),(0,i.createSelector)(m,(e=>r()(e.taskSequenceProgress,"You must compute task sequence progress before selecting it.")))),E=((0,i.createSelector)(m,(e=>r()(e.currentTaskIndex,"You must set current task index before selecting it."))),(0,i.createSelector)(m,(e=>e.gradedAnswer))),T=((0,i.createSelector)(E,(e=>r()(e,"You must compute the graded answer before selecting it."))),(0,i.createSelector)(E,(e=>{var t;return(0,p.q)(null!=(t=null==e?void 0:e.gradingSettingsSuggestion)?t:null)})))},"./app/j/study-modes/data/gradings/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{lc:()=>d});var n=s("./app/j/core/default_store/DefaultStore.ts"),o=s("./node_modules/reselect/lib/index.js"),a=s("./app/j/study-modes/data/constants.ts"),r=s("./app/j/study-modes/data/engine/selectors/index.ts");const i=(0,o.createSelector)((0,n.iu)(a._$),(e=>e.gradings)),l=(0,o.createSelector)(i,(e=>e.answerGradedByLongtextGradingService)),d=((0,o.createSelector)([l,r.WJ],((e,t)=>e||t)),(0,o.createSelector)(i,(e=>e.isEligibleForSmartGrading)));(0,o.createSelector)(i,(e=>e.overrideCorrectnessCounter)),(0,o.createSelector)(i,(e=>e.shouldShowSmartGradingUpsell)),(0,o.createSelector)(i,(e=>e.isGrading))},"./app/j/study-modes/data/settings/selectors/index.ts":(e,t,s)=>{"use strict";s.d(t,{G:()=>r});var n=s("./app/j/core/default_store/DefaultStore.ts"),o=s("./node_modules/reselect/lib/index.js"),a=s("./app/j/study-modes/data/constants.ts");const r=(0,o.createSelector)((0,n.iu)(a._$),(e=>e.settings))},"./app/j/study-modes/data/settings/selectors/preference.ts":(e,t,s)=>{"use strict";s.d(t,{Oz:()=>r,R9:()=>i,e:()=>p,mm:()=>c,o3:()=>l,pE:()=>d,qg:()=>m,rE:()=>g,zK:()=>u,zg:()=>h});var n=s("./node_modules/reselect/lib/index.js"),o=s("./app/j/study-modes/data/gradings/selectors.ts"),a=s("./app/j/study-modes/data/settings/selectors/index.ts");const r=(0,n.createSelector)([a.G],(e=>e.preference)),i=(0,n.createSelector)(r,(e=>e.acceptsPartialAnswer)),l=(0,n.createSelector)(r,(e=>e.advancedAudioSettings)),d=(0,n.createSelector)(r,(e=>{const{answerWith:t}=e;if(!t)throw new Error("You must setup settings with recommended answerWith setting");return e.answerWith})),u=((0,n.createSelector)(i,(e=>null!==e)),(0,n.createSelector)(r,(e=>e.isAudioOn))),c=(0,n.createSelector)(r,(e=>e.cardsShuffleSeed)),p=((0,n.createSelector)(r,(e=>e.guidanceDisabled)),(0,n.createSelector)([r,o.lc],((e,t)=>e.smartGrading&&t||e.typoHelpGradingSetting)),(0,n.createSelector)(r,(e=>e.locationQuestionTypes)),(0,n.createSelector)(r,(e=>{const{promptWith:t}=e;if(!t)throw new Error("You must setup settings with recommended promptWith setting");return e.promptWith}))),m=((0,n.createSelector)(r,(e=>{const{questionTypes:t}=e;if(!t)throw new Error("You must setup settings with recommended questionTypes setting");return e.questionTypes})),(0,n.createSelector)([r,o.lc],((e,t)=>e.smartGrading&&t))),g=(0,n.createSelector)(r,(e=>e.sortingOn)),h=(0,n.createSelector)(r,(e=>e.studyStarredOnly)),_=((0,n.createSelector)(r,(e=>e.studyPath)),(0,n.createSelector)(r,(e=>e.studyPathGoal)),(0,n.createSelector)(r,(e=>e.studyPathKnowledgeLevel)),(0,n.createSelector)(r,(e=>e.typoHelpGradingSetting)));(0,n.createSelector)(r,(e=>{const{writtenTypes:t}=e;if(!t)throw new Error("You must setup settings with recommended writtenTypes setting");return e.writtenTypes})),(0,n.createSelector)([i,_,m],((e,t,s)=>({acceptsPartialAnswer:null!=e&&e,acceptsAnswersWithTypos:t,acceptsSmartGrading:null!=s&&s})))},"./app/j/study-modes/data/settings/types.ts":(e,t,s)=>{"use strict";s.d(t,{Q:()=>a});var n=s("./app/j/config/study-setting-metadata.ts");const{bitValues:o}=n.ZP.ASSISTANT_MODE_QUESTION_TYPES;function a(){return o}},"./app/j/study-modes/data/studiable-data/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{Uv:()=>b,hy:()=>C,UR:()=>M,aW:()=>O,KH:()=>A,XQ:()=>x,kx:()=>L,bs:()=>D,VZ:()=>_,ke:()=>m,Jh:()=>S,kI:()=>P,Cv:()=>h,uf:()=>y,ZM:()=>E,Sd:()=>j,r9:()=>I,TQ:()=>c,UC:()=>v,h1:()=>g,f3:()=>T,lb:()=>R});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.array.reduce.js");var n=s("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.cjs.production.min.js"),o=s("./app/j/config/enums.ts"),a=s("./app/j/core/default_store/DefaultStore.ts"),r=s("./app/j/studiable-data/utils.ts"),i=s("./app/j/study-modes/data/constants.ts"),l=s("./app/j/study-modes/data/settings/selectors/preference.ts");function d(e,t){for(const s of(0,r.c4)(e.filter(r.F_),t)){const e=(0,r.xy)(s);if(e)return e.languageCode}return null}function u(e){return e.reduce(((e,t)=>(e[t.id]=t,e)),{})}const c=(0,n.createSelector)((0,a.iu)(i._$),(e=>e.studiableData)),p=(0,n.createSelector)(c,(e=>e.studiableItems)),m=((0,n.createSelector)(c,(e=>e.studiableItems.map((e=>e.id)))),(0,n.createSelector)(p,(e=>e.length))),g=(0,n.createSelector)(p,u),h=(0,n.createSelector)(c,g,((e,t)=>{let s=e.starredStudiableItemIds;return s.length>0&&(s=s.filter((e=>e in t))),new Set(s)})),_=(0,n.createSelector)(h,(e=>e.size)),S=(0,n.createSelector)(c,(e=>e.selectedTerms)),f=(0,n.createSelector)(c,(e=>e.studiableContainer)),y=(0,n.createSelector)(f,(e=>e.id)),j=(0,n.createSelector)(c,(e=>e.studiableContainerType)),E=(0,n.createSelector)(f,(e=>"title"in e?e.title:e.name)),T=(0,n.createSelector)(f,(e=>e._webUrl)),x=(0,n.createSelector)(c,(e=>{var t;return Object.keys(null!=(t=e.setIdToDiagramImage)?t:{}).length>0})),b=(0,n.createSelector)(c,(e=>e.accents)),A=(0,n.createSelector)(c,(e=>new Set(e.editableStudiableItemIds))),I=(0,n.createSelector)([c,l.zg,h],((e,t,s)=>{const{studiableItems:n,studiableMetadataByType:o,setIdToDiagramImage:a,exampleSentenceByStudiableItemId:r}=e,i={studiableItems:n,setIdToDiagramImage:a,exampleSentenceByStudiableItemId:r,studiableMetadataByType:o},l=t?s:new Set;return 0===l.size?i:function(e,t){const{studiableItems:s}=e,n=s.filter((e=>t.has(e.id)));return{...e,studiableItems:n}}(i,l)})),v=(0,n.createSelector)(I,(e=>{let{studiableItems:t}=e;return u(t)})),C=(0,n.createSelector)(c,(e=>{const t=e.studiableItems.filter(r.F_);for(const s of(0,r.c4)(t,o.dU_.DEFINITION)){if(!s.media.some((e=>{if(e.type!==o.DDH.TEXT)return!1;const t=e,s=""===t.plainText&&!t.richText;return t.languageCode!==o.spR.PHOTOS&&!s})))return!1}return!0})),w=(0,n.createSelector)(c,(e=>!1===(0,r.c4)(e.studiableItems.filter(r.F_),o.dU_.WORD).next().done)),N=(0,n.createSelector)(c,(e=>!1===(0,r.c4)(e.studiableItems.filter(r.F_),o.dU_.DEFINITION).next().done)),O=(0,n.createSelector)(c,(e=>d(e.studiableItems,o.dU_.DEFINITION))),M=(0,n.createSelector)(w,N,x,((e,t,s)=>({definition:t,location:s,term:e}))),L=(0,n.createSelector)(I,(e=>{var t;return(null==e?void 0:e.studiableMetadataByType)&&!(null==(t=e.studiableMetadataByType[o._KG.FILL_IN_THE_BLANK_KEYPHRASES])||!t.length)})),D=(0,n.createSelector)(I,(e=>e.studiableItems.some((e=>!!(0,r.F_)(e)&&e.cardSides.some(r.p))))),R=(0,n.createSelector)(c,(e=>d(e.studiableItems,o.dU_.WORD))),P=(0,n.createSelector)(h,(e=>e.size>0));(0,n.createSelector)(h,(e=>e.size>5)),(0,n.createSelector)(c,(e=>e.diagramImages?e.diagramImages[0]:null)),(0,n.createSelector)(p,(e=>e.some((e=>e.type===o.zqd.MULTIPLE_CHOICE_QUESTION)))),(0,n.createSelector)(c,(e=>e.exampleSentenceByStudiableItemId))},"./app/j/study-modes/learn/constants.ts":(e,t,s)=>{"use strict";s.d(t,{Af:()=>l,G4:()=>a,Lm:()=>d,TX:()=>i,s$:()=>r,wk:()=>o});var n=s("./app/j/config/enums.ts");const o=125,a="HasSeenAlternativeQuestionCoachmark";let r;!function(e){e.CLOSE_OPTIONS_MODAL_FROM_LEARN="closing_setting_screen_back_to_learn"}(r||(r={}));const i=n.JbB.STANDARD,l=n.sA9.CHALLENGE,d=n.GMu.LOW},"./app/j/study-modes/learn/selectors/base.ts":(e,t,s)=>{"use strict";s.d(t,{r:()=>n});const n=e=>e.get("learnMode")},"./app/j/study-modes/learn/selectors/view.ts":(e,t,s)=>{"use strict";s.d(t,{KL:()=>u,O8:()=>d,R5:()=>l});var n=s("./node_modules/reselect/lib/index.js"),o=s("./app/j/study-modes/learn/selectors/base.ts"),a=s("./app/j/study-modes/learn/types.ts"),r=s("./app/j/study-modes/spell/types.ts"),i=s("./app/j/study-modes/write/types.ts");const l=(0,n.createSelector)(o.r,(e=>null==e?void 0:e.view)),d=(0,n.createSelector)([l],(e=>{const{TASK_ROUND_CHECKPOINT:t,TASK_COMPLETION_CHECKPOINT:s}=a.py;return[t,s].includes(e)})),u=(0,n.createSelector)((e=>e),(e=>{var t,s,n;return(null==(t=e.get("learnMode"))?void 0:t.view)===a.py.AD_MODAL||(null==(s=e.get("write"))?void 0:s.currentView)===i.i9.AD_MODAL||(null==(n=e.get("spellMode"))?void 0:n.currentView)===r.f.AD_MODAL}))},"./app/j/study-modes/learn/types.ts":(e,t,s)=>{"use strict";s.d(t,{MF:()=>d,Qr:()=>l,py:()=>o,qk:()=>r});var n=s("./app/j/study-engine/types.ts");let o,a,r,i;!function(e){e[e.AD_MODAL=0]="AD_MODAL",e[e.LOADING=1]="LOADING",e[e.VIDEO_AD=2]="VIDEO_AD",e[e.QUESTION=3]="QUESTION",e[e.ACHIEVEMENTS_ANIMATION_ACTIVE_LEARNER=4]="ACHIEVEMENTS_ANIMATION_ACTIVE_LEARNER",e[e.ACHIEVEMENTS_ANIMATION_END_OF_LEARN=5]="ACHIEVEMENTS_ANIMATION_END_OF_LEARN",e[e.TASK_ROUND_CHECKPOINT=6]="TASK_ROUND_CHECKPOINT",e[e.TASK_COMPLETION_CHECKPOINT=7]="TASK_COMPLETION_CHECKPOINT",e[e.TASK_SEQUENCE_COMPLETION_CHECKPOINT=8]="TASK_SEQUENCE_COMPLETION_CHECKPOINT",e[e.PAYWALL=9]="PAYWALL"}(o||(o={})),function(e){e.UNFAMILIAR="unfamiliar",e.FAMILIAR="familiar",e.KNOWN_WELL="knownWell"}(a||(a={})),function(e){e[e.FILL_IN_THE_BLANK_QUESTION=n.mw.FILL_IN_THE_BLANK_QUESTION]="FILL_IN_THE_BLANK_QUESTION",e[e.MULTIPLE_CHOICE_QUESTION=n.mw.MULTIPLE_CHOICE_QUESTION]="MULTIPLE_CHOICE_QUESTION",e[e.REVEAL_SELF_ASSESSMENT_QUESTION=n.mw.REVEAL_SELF_ASSESSMENT_QUESTION]="REVEAL_SELF_ASSESSMENT_QUESTION",e[e.WRITTEN_QUESTION=n.mw.WRITTEN_QUESTION]="WRITTEN_QUESTION"}(r||(r={})),function(e){e.PROMPT="promptSide",e.ANSWER="answerSide"}(i||(i={}));const l=800;let d;!function(e){e.ACHIEVEMENTS_ANIMATION_COMPLETE="ACHIEVEMENTS_ANIMATION_COMPLETE",e.END_OF_LEARN_ANIMATION_COMPLETE="END_OF_LEARN_ANIMATION_COMPLETE",e.HIDE_FLASHCARD_SHORTCUTS="LEARN_MODE.HIDE_FLASHCARD_SHORTCUTS",e.INCREMENT_CHECKPOINT_COUNTER="INCREMENT_CHECKPOINT_COUNTER",e.SET_SEEN_CONFIDENCE_CHECK_IN_SETS="SET_SEEN_CONFIDENCE_CHECK_IN_SETS",e.SET_SEEN_CONFIDENCE_CHECK_IN_MODAL_SETS="SET_SEEN_CONFIDENCE_CHECK_IN_MODAL_SETS",e.SET_LEARN_VIEW="LEARN_MODE.SET_LEARN_VIEW",e.SET_IS_SETTINGS_MERGED="LEARN_MODE.IS_SETTINGS_MERGED",e.SET_IS_ADVANCING="LEARN_MODE.IS_ADVANCING",e.SET_SHOULD_SEE_SPELL_WRITE_COACHMARK="SET_SHOULD_SEE_SPELL_WRITE_COACHMARK",e.UPDATE_STUDY_MODE_AD_TIMESTAMP="UPDATE_STUDY_MODE_AD_TIMESTAMP.IS_SKIPPING_FEEDBACK",e.UPDATE_SHOULD_SHOW_ALTERNATIVE_QUESTION_COACHMARK="UPDATE_SHOULD_SHOW_ALTERNATIVE_QUESTION_COACHMARK",e.SET_INCORRECTLY_ANSWERED_STUDIABLE_ITEMS="SET_INCORRECTLY_ANSWERED_STUDIABLE_ITEMS",e.SET_SEEN_INTERVENTION_POINTS="SET_SEEN_INTERVENTION_POINTS",e.VIDEO_AD_COUNTDOWN_SECONDS="VIDEO_AD_COUNTDOWN_SECONDS"}(d||(d={}))},"./app/j/study-modes/legacy-common/components/FeedbackItem.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/classnames/index.js"),o=s.n(n),a=s("./app/j/components/UIHeading.tsx"),r=s("./app/j/i18n/$t.ts"),i=s("./node_modules/react/index.js"),l=s("./node_modules/react/jsx-runtime.js");class d extends i.PureComponent{constructor(){super(...arguments),this.getLabel=e=>{if(void 0!==e&&"string"==typeof e)return e;const{id:t,labelText:s}=e.props;return void 0!==t?(0,r.Z)(t):void 0!==s?s:""},this.getTermLabel=()=>(0,r.Z)("assistant.aria.feedback_item",{label:this.getLabel(this.props.label),term:this.props.text})}render(){const e=o()("FeedbackItem",{"FeedbackItem--success":"success"===this.props.variant,"FeedbackItem--error":"error"===this.props.variant});return(0,l.jsxs)("div",{className:e,"data-testid":"feedback-item",children:[(0,l.jsx)("div",{"aria-hidden":!0,className:"FeedbackItem-label",children:(0,l.jsx)(a.Z,{deprecatedStyle:!0,size:6,children:this.props.label})}),(0,l.jsx)("div",{"aria-label":this.getTermLabel(),className:"FeedbackItem-content","data-testid":"feedback-term",children:this.props.children})]})}}},"./app/j/study-modes/legacy-common/components/SpecialCharacterButtonGroup.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.array.sort.js");var n=s("./node_modules/@linaria/core/lib/index.js"),o=s("./node_modules/@linaria/react/lib/index.js"),a=s("./app/j/assembly/buttons/index.ts"),r=s("./app/j/assembly/buttons/types.ts"),i=s("./app/j/compatibility/localeCompare.ts"),l=s("./app/j/i18n/useTranslation.ts"),d=s("./node_modules/react/index.js"),u=s("./node_modules/react/jsx-runtime.js");const c=(0,o.z)("div")({name:"UppercaseSwitch",class:"u16ubbx1"}),p=(0,o.z)("div")({name:"ButtonBar",class:"b1frzbz9"}),m=(0,o.z)("span")({name:"Button",class:"bmm43df"});function g(e){let{buttonSize:t="medium",charactersByLang:s,compact:o=!1,onClickButton:g}=e;const{t:h,i18n:_}=(0,l.ZP)(),[S,f]=(0,d.useState)(!1);function y(e,t){return(0,i.Z)(e.character,t.character,_.language)}const j=()=>{f(!S)};return(0,u.jsxs)(p,{className:(0,n.cx)(!o&&"bo0tljo"),children:[(()=>{const e=[],t=[];return Object.keys(s).forEach((n=>{s[n].forEach((s=>{const o=S?s.toUpperCase():s;-1!==e.indexOf(o)||(e.push(o),t.push({character:o,lang:n}))}))})),t.sort(y)})().map((e=>{let{character:s,lang:n}=e;return(0,u.jsx)(m,{children:(0,u.jsx)(a.B0,{lang:n,onClick:()=>g(s),size:t,text:s})},s)})),Object.keys(s).some((e=>s[e].some((e=>e!==e.toUpperCase()))))?(0,u.jsx)(c,{children:(0,u.jsx)(a.JZ,{alt:h("global.icon.uppercase"),icon:"caps-lock",onClick:j,variant:S?r.IQ.SECONDARY:r.IQ.TERTIARY})}):null]})}s("./.linaria-cache/app/j/study-modes/legacy-common/components/SpecialCharacterButtonGroup.linaria.css")},"./app/j/study-modes/legacy-common/components/options_modal/OptionsModal.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>Se});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/@linaria/react/lib/index.js"),o=s("./app/j/assembly/buttons/index.ts"),a=s("./app/j/assembly/modals/index.ts"),r=s("./app/j/compatibility/getLocalizedLanguage.ts"),i=s("./app/j/compatibility/logger/useLogger.ts"),l=s("./app/j/compatibility/userAgentHelper.ts"),d=s("./app/j/components/UIDelimiter.tsx"),u=s("./app/j/components/UIModalBodySeparator.tsx"),c=s("./app/j/components/UIRow.tsx"),p=s("./app/j/config/enums.ts"),m=s("./app/j/context/UserContext.ts"),g=s("./app/j/global/Rollbar.ts"),h=s("./app/j/i18n/useTranslation.ts"),_=s("./node_modules/immer/dist/immer.cjs.production.min.js"),S=s("./node_modules/react/index.js"),f=s("./app/j/study-modes/learn/constants.ts"),y=s("./app/j/assembly/AssemblyLink.tsx"),j=s("./app/j/assembly/AssemblyToggleSwitch.tsx"),E=s("./app/j/assembly/menus/index.ts"),T=s("./app/j/study-modes/legacy-common/components/options_modal/hooks/useAnimatedMenu.tsx"),x=s("./app/j/study-modes/legacy-common/components/options_modal/OptionsModalStyling.tsx"),b=s("./node_modules/react/jsx-runtime.js");const A=(0,n.z)("div")({name:"AdvancedAudioOptions",class:"afyfesy"});function I(e){let{advancedAudioSettings:t,definitionLabel:s,shouldShowSlowDefinitionAudio:n,shouldShowSlowWordAudio:a,updateAdvancedAudio:r,wordLabel:i}=e;const{t:l}=(0,h.ZP)(),{onToggle:d,isExpanded:u,menuClasses:c}=(0,T.Z)(),p=()=>{r((0,_.default)(t,(e=>{e.wordEnabled=!t.wordEnabled})))},m=()=>{r((0,_.default)(t,(e=>{e.definitionEnabled=!t.definitionEnabled})))},g=e=>{const n="word"===e,o=n?t.wordEnabled:t.definitionEnabled;return(0,b.jsxs)(x.Y7,{children:[(0,b.jsx)(x.zp,{label:l("study_modes.options.advanced_audio.audio_side_toggle_label",{side:n?i:s})}),(0,b.jsx)(j.Z,{checked:o,label:l(o?"study_modes.options.enable_audio":"study_modes.options.disable_audio"),name:n?"termAudio":"definitionAudio",onChange:n?p:m})]})},S=e=>{const n="word"===e,a=n?t.slowWordEnabled:t.slowDefinitionEnabled,d=n?"slowWordEnabled":"slowDefinitionEnabled",u=l("study_modes.options.advanced_audio.audio_speed_toggle_label",{side:n?i:s}),c=e=>{r((0,_.default)(t,(t=>{t[d]=e})))};return(0,b.jsxs)(x.Y7,{children:[(0,b.jsx)(x.zp,{label:u}),(0,b.jsx)(o.PP,{menu:(0,b.jsxs)(E.sD,{"aria-label":u,children:[(0,b.jsx)(E.jJ,{elementType:"button",onAction:()=>c(!0),text:l("study_modes.options.advanced_audio.slow_audio_speed")},"slow"),(0,b.jsx)(E.jJ,{elementType:"button",onAction:()=>c(!1),text:l("study_modes.options.advanced_audio.normal_audio_speed")},"normal")]}),menuPlacement:"bottom right",text:l(a?"study_modes.options.advanced_audio.slow_audio_speed":"study_modes.options.advanced_audio.normal_audio_speed")})]})},f=g("word"),I=g("definition"),v=S("word"),C=S("definition"),w=l(u?"study_modes.options.hide":"study_modes.options.view");return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(x.Y7,{className:"fcm63ie","data-testid":"advancedAudio",children:[(0,b.jsx)(x.zp,{label:l("study_modes.options.advanced_audio.label")}),(0,b.jsx)(y.ZP,{ariaLabel:w,onClick:d,rightIcon:u?"caret-up":"caret-down",text:w})]}),(0,b.jsxs)(A,{className:c,"data-testid":"advancedAudioOptions",children:[f,a?v:null,I,n?C:null]})]})}function v(e){let{isAudioOn:t,onToggleAudio:s}=e;const{t:n}=(0,h.ZP)();return(0,b.jsxs)(x.Y7,{children:[(0,b.jsx)(x.zp,{label:n("study_modes.options.audio")}),(0,b.jsx)(j.Z,{checked:t,label:n(t?"study_modes.options.enable_audio":"study_modes.options.disable_audio"),name:"audio",onChange:s})]})}s("./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalAdvancedAudio.linaria.css");var C=s("./app/j/study-modes/legacy-common/components/options_modal/OptionsModalGradingOptions.tsx");const w=(0,n.z)("div")({name:"KeyboardShortcuts",class:"k1s89uud"});function N(e){let{keyboardShortcuts:t}=e;const{t:s}=(0,h.ZP)(),n=(0,i.qL)(),{onToggle:o,isExpanded:a,menuClasses:r}=(0,T.Z)();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(x.Y7,{children:[(0,b.jsx)(x.zp,{label:s("modes.cards.card_controls.keyboard_shortcuts_title")}),(0,b.jsx)(y.ZP,{ariaLabel:s(a?"modes.cards.card_controls.keyboard_shortcuts_hide":"modes.cards.card_controls.keyboard_shortcuts_show"),onClick:()=>{o(),n(a?"user_hid_keyboard_shortcuts":"user_showed_keyboard_shortcuts")},rightIcon:a?"caret-up":"caret-down",text:s(a?"study_modes.options.hide":"study_modes.options.view")})]}),(0,b.jsx)(w,{className:r,children:t})]})}s("./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalKeyboardShortcuts.linaria.css");var O=s("./app/j/assembly/AssemblyIcon.tsx"),M=s("./app/j/compatibility/router.ts");const L=(0,n.z)("div")({name:"StudyModeButtonsLayout",class:"s1w60fbg"}),D=(0,n.z)("div")({name:"StudyMode",class:"s1vh5qjl"}),R=(0,n.z)("div")({name:"StudyModeLabel",class:"s1fiwhbi"});function P(e){let{linkToSpell:t,linkToWrite:s}=e;const{t:n}=(0,h.ZP)(),o=(0,S.useContext)(m.Z),a=(0,M.E3)(),r=(0,i.qL)(),l=[{icon:"study-write-twilight",label:n("study_modes.options.write_mode"),onClick:()=>{s&&(r("study_mode_button_clicked",{study_mode_type:p.aKJ.WRITE,country_code:null==o?void 0:o.countryCode,screen_name:"learn_options_modal"}),a(s))}},{icon:"study-spell-twilight",label:n("study_modes.options.spell_mode"),onClick:()=>{t&&(r("study_mode_button_clicked",{study_mode_type:p.aKJ.SPELLER,country_code:null==o?void 0:o.countryCode,screen_name:"learn_options_modal"}),a(t))}}];return(0,b.jsx)(x.Y7,{children:(0,b.jsx)(L,{children:l.map((e=>{const{icon:t,label:s,onClick:o}=e;return(0,b.jsxs)(D,{children:[(0,b.jsx)(x.zp,{label:(0,b.jsxs)(R,{children:[(0,b.jsx)(O.ZP,{icon:t,size:O.i.Medium}),s]})}),(0,b.jsx)(y.ZP,{ariaLabel:s,onClick:o,rightIcon:"caret-right",text:n("study_modes.options.start")})]},s)}))})})}s("./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalOtherStudyModes.linaria.css");var k=s("./app/j/study-modes/legacy-common/components/options_modal/OptionsModalPrivacyPolicy.tsx"),U=s("./app/j/study-modes/legacy-common/components/options_modal/OptionsModalQuestionFormat.tsx"),W=s("./app/j/study-modes/legacy-common/components/options_modal/OptionsModalQuestionTypeToggles.tsx");const Z=(0,n.z)("div")({name:"ResetProgress",class:"ruk5yo8"});function F(e){let{resetProgress:t,studyMode:s}=e;const{t:n}=(0,h.ZP)(),o=(()=>{switch(s){case p.aKJ.FLASHCARDS:return n("study_modes.options.restart.flashcards");case p.aKJ.LEARNING_ASSISTANT:return n("study_modes.options.restart.learn");case p.aKJ.SPELLER:return n("study_modes.options.restart.spell");case p.aKJ.WRITE:return n("study_modes.options.restart.write");default:throw new Error("Study mode: "+s+" does not support progress reset.")}})();return(0,b.jsx)(x.Y7,{children:(0,b.jsx)(Z,{children:(0,b.jsx)(y.ZP,{ariaLabel:o,onClick:t,size:"medium",text:o})})},"resetProgress")}function B(e){let{shuffle:t,toggleShuffle:s}=e;const{t:n}=(0,h.ZP)();return(0,b.jsxs)(x.Y7,{children:[(0,b.jsx)(x.zp,{label:n("study_modes.options.shuffle_terms")}),(0,b.jsx)(j.Z,{checked:t,label:n(t?"study_modes.options.sorting.on":"study_modes.options.sorting.off"),name:"shuffle",onChange:s})]})}s("./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalResetProgress.linaria.css");var G=s("./app/j/study-modes/legacy-common/options/types.ts");function H(e){let{sortingOn:t,handleSortingToggle:s}=e;const{t:n}=(0,h.ZP)();return(0,b.jsx)(x.Y7,{children:(0,b.jsx)(x.zp,{description:n("study_modes.options.sorting.description"),label:(0,b.jsxs)(b.Fragment,{children:[n("study_modes.options.sorting.label"),(0,b.jsx)(j.Z,{checked:t,label:n(t?"study_modes.options.sorting.on":"study_modes.options.sorting.off"),name:G.$.SORTING_ON,onChange:s})]})})})}var V,z=s("./app/j/study-modes/legacy-common/components/options_modal/OptionsModalStarredOnly.tsx"),K=s("./app/j/study-modes/legacy-common/components/options_modal/OptionsModalTwoSides.tsx"),Q=s("./node_modules/lodash/isEqual.js"),q=s.n(Q),Y=s("./app/j/components/T.tsx"),$=s("./app/j/components/UIDropdown.tsx"),J=s("./app/j/components/UIFieldset.tsx"),X=s("./node_modules/classnames/index.js"),ee=s.n(X),te=s("./app/j/components/UIDiv.tsx");function se(e){let{error:t,...s}=e;const n=ee()("OptionsModal-settingMeta OptionsModal-col",{"OptionsModal-errorMessage":!!t});return(0,b.jsx)(te.Z,{...s,className:n})}function ne(e){return Object.values(e).filter(Boolean).length<=1}function oe(e){return e.definition?V.DEFINITION:e.term?V.WORD:e.location?V.LOCATION:void 0}!function(e){e.WORD="term",e.DEFINITION="definition",e.LOCATION="location"}(V||(V={}));const ae={definition:!1,term:!1,location:!1};function re(e){const{t}=(0,h.ZP)();return(0,b.jsx)(J.Z,{legend:e.label,children:(0,b.jsxs)($.Z,{disabled:e.disabled,name:e.name,onChange:e.onChange,value:e.value,children:[(0,b.jsx)(ie,{isAvailable:e.options.term,label:e.wordLabel,side:V.WORD}),(0,b.jsx)(ie,{isAvailable:e.options.definition,label:e.definitionLabel,side:V.DEFINITION}),(0,b.jsx)(ie,{isAvailable:e.options.location,label:t("study_modes.options.study_with_label_location"),side:V.LOCATION})]})})}function ie(e){return e.isAvailable?(0,b.jsx)("option",{value:e.side,children:e.label}):null}function le(){return(0,b.jsx)(se,{error:!0,children:(0,b.jsx)(Y.Z,{id:"study_modes.options.errors.same_selected_sides_error"})})}const de=function(e){const[t,s]=(0,S.useState)(e.initAnswerWith),[n,o]=(0,S.useState)(e.initPromptWith),a=(r=e.allDefinitionsHaveText,{definition:!0,location:e.hasDiagram,term:r});var r;const i=function(e){return{definition:e,location:!1,term:!0}}(e.allDefinitionsHaveText);return S.useEffect((()=>{q()(t,n)?(e.updateAnswerWith(e.initAnswerWith),e.updatePromptWith(e.initPromptWith)):(e.updateAnswerWith(t),e.updatePromptWith(n))}),[t,n]),(0,b.jsxs)("div",{className:"OptionsModal-optionsRow",children:[(0,b.jsxs)("div",{className:"OptionsModal-cols",children:[(0,b.jsx)("div",{className:"OptionsModal-col",children:(0,b.jsx)(re,{...e,disabled:ne(i),label:(0,b.jsx)(Y.Z,{id:"study_modes.options.answer_with_legacy"}),name:"writeOptionsAnswerDropdown",onChange:e=>{s({...ae,[e.target.value]:!0})},options:i,value:oe(t)})}),(0,b.jsx)("div",{className:"OptionsModal-col",children:(0,b.jsx)(re,{...e,disabled:ne(a),label:(0,b.jsx)(Y.Z,{id:"study_modes.options.prompt_with"}),name:"writeOptionsPromptDropdown",onChange:e=>{o({...ae,[e.target.value]:!0})},options:a,value:oe(n)})})]}),q()(t,n)?(0,b.jsx)(le,{}):null]})};var ue=s("./app/j/study-modes/legacy-common/grading/constants.ts"),ce=s("./app/j/study-modes/legacy-common/grading/utils/longtextGradingUtils.ts"),pe=s("./app/j/study-modes/legacy-common/settings/utils/syncPreferenceSettings.ts"),me=s("./app/j/study-modes/redesigned_cards/constants.ts");const ge=(0,n.z)("div")({name:"AudioSection",class:"agxsuq0"}),he=(0,n.z)("div")({name:"DisableGuidance",class:"d1df0fun"}),_e=(0,n.z)("div")({name:"DisableGuidanceLink",class:"d6q2c3a"});function Se(e){let{actions:{updateLevenshteinPlusGradingSetting:t,updateSettings:s},allDefinitionsHaveText:n,availableSides:y,cardsOrigin:j,definitionLang:E,hasCompleteDefinitionCustomAudio:T,hasCompleteWordCustomAudio:x,hasDefinitionAudio:A,hasDiagram:w,hasFillInTheBlankQuestions:O=!1,hasWordAudio:M,hiddenSettings:L,isEligibleForSmartGrading:D,isModalOpen:R,isStudyingViaProgressBuckets:Z=!1,keyboardShortcuts:G,linkToSpell:V,linkToWrite:Q,onCloseModal:q,onDisableGuidance:Y,onResetProgress:$,settings:J,shouldAllowStudyingStarredOnly:X,shouldShowLanguageLabel:ee,shouldShowLearnPlusExperience:te=!1,studyModeType:se,wordLang:ne}=e;const[oe,ae]=(0,S.useState)(J),re=(0,l.p3)(),ie=(0,S.useContext)(m.Z),{t:le}=(0,h.ZP)(),{logPageAction:Se}=(0,i.wL)();(0,S.useEffect)((()=>{ae(J)}),[J]);const fe=ee&&ne!==E?le("study_modes.options.study_with_label_language",{language:(0,r.Z)(le,E)}):le("study_modes.options.study_with_label_definition"),ye=ee&&ne!==E?le("study_modes.options.study_with_label_language",{language:(0,r.Z)(le,ne)}):le("study_modes.options.study_with_label_term"),je=()=>{const e={acceptsPartialAnswer:oe.acceptsPartialAnswer,advancedAudioSettings:oe.advancedAudioSettings,answerWith:oe.answerWith,cardsShuffleSeed:oe.cardsShuffleSeed,guidanceDisabled:oe.guidanceDisabled,isAudioOn:oe.isAudioOn,promptWith:oe.promptWith,questionTypes:oe.questionTypes,shuffle:oe.shuffle,smartGrading:oe.smartGrading,sortingOn:oe.sortingOn,studyStarredOnly:oe.studyStarredOnly,studyPath:oe.studyPath,studyPathGoal:oe.studyPathGoal,studyPathKnowledgeLevel:oe.studyPathKnowledgeLevel,typoHelpGradingSetting:oe.typoHelpGradingSetting,writtenTypes:oe.writtenTypes},n=(e=>new Set(Object.keys((0,pe.Ex)(J,e))))(e);if(n.has("smartGrading")){const e=oe.smartGrading?ue.rs:ue.w$;Se(e),se===p.aKJ.LEARNING_ASSISTANT&&t(oe.smartGrading)}s(e),q(n)},Ee=()=>{ae((e=>({...e,sortingOn:!e.sortingOn})))},Te=e=>{ae((t=>({...t,answerWith:e})))},xe=e=>{ae((t=>({...t,promptWith:e})))},be=()=>{ae((e=>({...e,acceptsPartialAnswer:!e.acceptsPartialAnswer})))},Ae=()=>{ae((e=>({...e,typoHelpGradingSetting:!e.typoHelpGradingSetting})))},Ie=()=>{ae((e=>({...e,smartGrading:!e.smartGrading})))},ve=()=>{ae((e=>({...e,isAudioOn:!e.isAudioOn})))},Ce=e=>{ae((t=>({...t,advancedAudioSettings:e})))},we=Z?null:(0,b.jsx)("div",{className:"OptionsModal-optionsRow",children:(0,b.jsx)(c.Z,{children:(0,b.jsx)(z.Z,{shouldAllowStudyingStarredOnly:X,studyStarredOnly:oe.studyStarredOnly,toggleStudyStarredOnly:()=>{ae((e=>({...e,studyStarredOnly:!e.studyStarredOnly})))}})})},"starredOnly"),Ne=(0,b.jsx)(B,{shuffle:oe.shuffle,toggleShuffle:()=>{ae((e=>({...e,shuffle:!e.shuffle})))}}),Oe=(0,b.jsx)(k.Z,{}),Me=e=>e.some((e=>!L.includes(e))),Le=e=>Me([e]),De=se===p.aKJ.LEARNING_ASSISTANT,Re=se===p.aKJ.LEARNING_ASSISTANT||se===p.aKJ.FLASHCARDS&&w,Pe=se===p.aKJ.SPELLER||se===p.aKJ.WRITE&&!w||se===p.aKJ.FLASHCARDS&&!w,ke=se===p.aKJ.WRITE&&w,Ue=se===p.aKJ.FLASHCARDS,We=se===p.aKJ.LEARNING_ASSISTANT&&!oe.guidanceDisabled&&te,Ze=()=>O&&!oe.guidanceDisabled&&E===p.spR.ENGLISH&&ne===p.spR.ENGLISH&&te&&!(null!=ie&&ie._isUnderAge)&&se===p.aKJ.LEARNING_ASSISTANT,Fe=Le(p.Std.ASSISTANT_MODE_QUESTION_TYPES),Be=oe.answerWith.definition&&(0,ce.k)(E)||oe.answerWith.term&&(0,ce.k)(ne),Ge=Le(p.Std.SMART_GRADING)&&D&&Be,He=Le(p.Std.FLEXIBLE_GRADING_ACCEPT_PARTIAL_ANSWERS)&&!Ge,Ve=Le(p.Std.SMART_GRADING)&&D&&oe.smartGrading,ze=se===p.aKJ.LEARNING_ASSISTANT&&!Ve,Ke=Ge||He||ze,Qe=Le(p.Std.TAP_TO_PLAY_AUDIO),qe=se!==p.aKJ.WRITE&&Me([p.Std.ASSISTANT_MODE_WORD_AUDIO_ENABLED,p.Std.ASSISTANT_MODE_DEFINITION_AUDIO_ENABLED])&&(M||A),Ye=M&&!x,$e=A&&!T,Je=se===p.aKJ.LEARNING_ASSISTANT&&Q&&V,Xe=(0,b.jsxs)(he,{children:[le("assistant.tasks.disable_guidance.description"),(0,b.jsx)(_e,{children:(0,b.jsx)(o.B0,{onClick:()=>{Y?(ae((e=>(0,_.default)(e,(e=>{e.guidanceDisabled=!0,e.studyPath=f.TX,e.studyPathGoal=f.Af,e.studyPathKnowledgeLevel=f.Lm,e.questionTypes.fillInTheBlank=!1})))),Y()):g.Z.error("User is trying to use escape hatch for non-Learn study mode")},size:"medium",text:le("assistant.tasks.disable_guidance.link_cta")})})]}),et=Z?null:(0,b.jsx)(F,{resetProgress:()=>{je(),$()},studyMode:se}),tt=(0,b.jsx)(P,{linkToSpell:V,linkToWrite:Q}),st=[[(0,b.jsxs)("div",{className:"OptionsModal-optionsRow",children:[Ue?(0,b.jsx)(H,{handleSortingToggle:Ee,sortingOn:oe.sortingOn}):null,we,De?Ne:null,Pe?(0,b.jsx)(K.Z,{definitionLabel:fe,initAnswerWith:J.answerWith,shouldDisableDropdown:se===p.aKJ.WRITE&&!n,shouldShowBothSidesOption:se===p.aKJ.FLASHCARDS&&j!==me.ou.SET_PAGE,updateAnswerWith:Te,updatePromptWith:xe,wordLabel:ye},"twoSides"):null]})],[Fe?We?Xe:(0,b.jsx)(W.ZP,{availableQuestionTypes:W.FF.filter((e=>e!==W.ce.FILL_IN_THE_BLANK||Ze())),enabledQuestionTypes:(0,W.N_)(oe.questionTypes),handleToggleQuestionType:e=>{const t=(0,W.mT)(oe.questionTypes,e);ae((e=>({...e,questionTypes:t})))}}):null,Je?tt:null],[Re?(0,b.jsx)(U.Z,{availableSides:y,definitionLabel:fe,definitionLang:E,initAnswerWith:J.answerWith,initPromptWith:J.promptWith,questionTypes:oe.questionTypes,studyModeType:se,updateAnswerWith:Te,updatePromptWith:xe,wordLabel:ye},"multipleSides"):null,ke?(0,b.jsx)(de,{allDefinitionsHaveText:n,definitionLabel:fe,hasDiagram:w,initAnswerWith:J.answerWith,initPromptWith:J.promptWith,studyModeType:se,updateAnswerWith:Te,updatePromptWith:xe,wordLabel:ye},"writeOptions"):null],[Ke?(0,b.jsx)(C.Z,{acceptsPartialAnswer:null!=(nt=oe.acceptsPartialAnswer)&&nt,isSmartGradingOn:oe.smartGrading,shouldShowPartialAnswers:He,shouldShowSmartGrading:Ge,shouldShowTypoHelp:ze,toggleAcceptsPartialAnswer:be,toggleSmartGrading:Ie,toggleTypoHelp:Ae,typoHelpGradingSetting:null!=(ot=oe.typoHelpGradingSetting)&&ot}):null],[G?(0,b.jsx)(N,{keyboardShortcuts:G}):null],[(0,b.jsxs)(ge,{children:[Qe?(0,b.jsx)(v,{isAudioOn:oe.isAudioOn,onToggleAudio:ve}):null,Qe&&qe&&oe.isAudioOn?(0,b.jsx)(I,{advancedAudioSettings:oe.advancedAudioSettings,definitionLabel:fe,shouldShowSlowDefinitionAudio:$e,shouldShowSlowWordAudio:Ye,updateAdvancedAudio:Ce,wordLabel:ye}):null]},"audio")],[et],[Oe]];var nt,ot;return(0,b.jsx)(a.g,{body:(0,b.jsx)(d.Z,{separator:(0,b.jsx)("div",{className:"OptionsModal-optionsRow",children:(0,b.jsx)(u.Z,{})},"separator"),children:st}),disableScrolling:!re,isOpen:R,limitHeight:!1,onClose:je,title:le("study_modes.modal.title")})}s("./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModal.linaria.css")},"./app/j/study-modes/legacy-common/components/options_modal/OptionsModalGradingOptions.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s("./node_modules/@linaria/react/lib/index.js"),o=s("./app/j/assembly/AssemblyLink.tsx"),a=s("./app/j/assembly/AssemblyToggleSwitch.tsx"),r=s("./app/j/i18n/useTranslation.ts"),i=s("./app/j/study-modes/legacy-common/components/options_modal/hooks/useAnimatedMenu.tsx"),l=s("./app/j/study-modes/legacy-common/components/options_modal/OptionsModalStyling.tsx"),d=s("./node_modules/react/jsx-runtime.js");const u=(0,n.z)("div")({name:"GradingOptions",class:"gt6ckhc"});function c(e){let{shouldShowPartialAnswers:t,shouldShowSmartGrading:s,shouldShowTypoHelp:n,isSmartGradingOn:c,toggleSmartGrading:p,acceptsPartialAnswer:m,toggleAcceptsPartialAnswer:g,typoHelpGradingSetting:h,toggleTypoHelp:_}=e;const{t:S}=(0,r.ZP)(),{onToggle:f,isExpanded:y,menuClasses:j}=(0,i.Z)(),E=s&&(0,d.jsx)(l.Y7,{children:(0,d.jsx)(l.zp,{description:S(c?"study_modes.options.smart_grading.smart_description":"study_modes.options.smart_grading.standard_description"),label:(0,d.jsxs)(d.Fragment,{children:[S("study_modes.options.smart_grading.smart"),(0,d.jsx)(a.Z,{checked:c,label:S("study_modes.options.smart_grading.smart"),name:"smartGrading",onChange:p})]})})}),T=t&&(0,d.jsx)(l.Y7,{children:(0,d.jsx)(l.zp,{description:S("study_modes.options.multiple_answers.description"),label:(0,d.jsxs)(d.Fragment,{children:[S("study_modes.options.multiple_answers.one_answer"),(0,d.jsx)(a.Z,{checked:m,label:S("study_modes.options.multiple_answers.one_answer"),name:"partialAnswer",onChange:g})]})})}),x=n&&(0,d.jsx)(l.Y7,{className:l.BX,children:(0,d.jsx)(l.zp,{description:S("study_modes.options.typo_help.description"),label:(0,d.jsxs)(d.Fragment,{children:[S("study_modes.options.typo_help.title"),(0,d.jsx)(a.Z,{checked:h,label:S("study_modes.options.typo_help.title"),name:"typoHelp",onChange:_})]})})});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(l.Y7,{"data-testid":"gradingOptions",children:[(0,d.jsx)(l.zp,{label:S("study_modes.options.grading_options.label")}),(0,d.jsx)(o.ZP,{ariaLabel:S(y?"study_modes.options.grading_options.hide":"study_modes.options.grading_options.show"),onClick:f,rightIcon:y?"caret-up":"caret-down",text:S(y?"study_modes.options.hide":"study_modes.options.view")})]}),(0,d.jsxs)(u,{className:j,children:[E,T,x]})]})}s("./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalGradingOptions.linaria.css")},"./app/j/study-modes/legacy-common/components/options_modal/OptionsModalPrivacyPolicy.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s("./app/j/assembly/AssemblyLink.tsx"),o=s("./app/j/i18n/useTranslation.ts"),a=s("./app/j/study-modes/legacy-common/components/options_modal/OptionsModalStyling.tsx"),r=s("./node_modules/react/jsx-runtime.js");function i(){const{t:e}=(0,o.ZP)();return(0,r.jsx)(a.Y7,{children:(0,r.jsx)(n.ZP,{ariaLabel:e("about.legal.tabs.privacy_policy"),linkTo:"/privacy",size:"medium",text:e("about.legal.tabs.privacy_policy")})},"privacyPolicy")}},"./app/j/study-modes/legacy-common/components/options_modal/OptionsModalQuestionFormat.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/@linaria/react/lib/index.js"),o=s("./app/j/assembly/AssemblyLink.tsx"),a=s("./app/j/assembly/AssemblyToggleSwitch.tsx"),r=s("./app/j/i18n/useTranslation.ts"),i=s("./node_modules/react/index.js"),l=s("./app/j/study-modes/legacy-common/components/options_modal/hooks/useAnimatedMenu.tsx"),d=s("./app/j/study-modes/legacy-common/components/options_modal/OptionsModalStyling.tsx");function u(e){return Object.values(e).filter(Boolean).length}function c(e,t){return e.definition===t.definition&&e.term===t.term&&e.location===t.location}var p=s("./app/j/config/enums.ts"),m=s("./app/j/study-modes/legacy-common/utils/createCardSideSettings.ts");const g=["term","definition","location"];function h(e,t){return e===p.aKJ.WRITE&&"location"===t}var _=s("./node_modules/react/jsx-runtime.js");const S=(0,n.z)("div")({name:"QuestionFormatContainer",class:"q18hhb8y"}),f=(0,n.z)("div")({name:"QuestionFormat",class:"qt825bd"});function y(e){let{availableSides:t,definitionLabel:s,definitionLang:n,initAnswerWith:p,initPromptWith:y,questionTypes:j,studyModeType:E,updateAnswerWith:T,updatePromptWith:x,wordLabel:b}=e;const{t:A}=(0,r.ZP)(),{onToggle:I,isExpanded:v,menuClasses:C}=(0,l.Z)(),[w,N]=(0,i.useState)(p),[O,M]=(0,i.useState)(y),L=e=>function(e){let{answerWithState:t,availableSides:s,studyModeType:n}=e;return(0,m.Z)((e=>t[e]&&s[e]&&!h(n,e)))}({answerWithState:e,availableSides:t,studyModeType:E}),D=e=>function(e){let{promptWithState:t,availableSides:s}=e;return(0,m.Z)((e=>t[e]&&s[e]))}({promptWithState:e,availableSides:t}),R=function(e){let{availableSides:t,studyModeType:s}=e;return g.filter((e=>!!t[e]&&!h(s,e)))}({availableSides:t,studyModeType:E}),P=function(e){let{availableSides:t}=e;return g.filter((e=>!!t[e]))}({availableSides:t}),k=P.length>2,U=(0,_.jsxs)(d.Y7,{"data-testid":"OptionsModal-QuestionFormat-tray",children:[(0,_.jsx)(d.zp,{label:A("study_modes.options.question_format.label")}),(0,_.jsx)(o.ZP,{ariaLabel:A(v?"study_modes.options.question_format.hide":"study_modes.options.question_format.view"),onClick:I,rightIcon:v?"caret-up":"caret-down",text:A(v?"study_modes.options.hide":"study_modes.options.view")})]}),W=(e,t,o)=>o.map((o=>{const r="prompt"===e,i=function(e,t,s,n){switch(e){case"term":return t;case"definition":return s;case"location":return n("study_modes.options.study_with_label_location");default:throw new Error("Unrecognized side")}}(o,b,s,A),l=A(r?"study_modes.options.prompt_with_side":"study_modes.options.answer_with_side",{side:i}),p=r?O:w,m=r?function(e,t,s,n,o,a){const r=o(s);if(1===u(r)&&r[e])return"lastEnabled";const i={...s,[e]:!s[e]},l=1===u(o(i)),d=1===u(n(t));return a&&l&&d&&c(i,t)?"sameSide":null}(o,w,O,L,D,k):function(e,t,s,n,o,a,r,i){const l=n(t);if(1===u(l)&&l[e])return"lastEnabled";const d={...t,[e]:!t[e]},p=1===u(n(d));if(a.written&&d.location&&1===u(a)&&p)return"locationSideForWritten";const m=1===u(o(s));if(r&&p&&m&&c(d,s))return"sameSide";const{term:g,definition:h}=n(d);if(g||!h||"photo"!==i)return null;const _=new Set(["copyAnswer","written"]);return Object.keys(a).filter((e=>a[e])).every((e=>_.has(e)))?"photoSideForWritten":null}(o,w,O,L,D,j,k,n);return(0,_.jsxs)(d.Y7,{children:[(0,_.jsx)(d.zp,{label:l}),(0,_.jsx)(a.Z,{checked:!!p[o],disabled:null!==m,label:i,name:o,onChange:t})]},e+"-"+o)})),Z=(0,_.jsxs)(S,{className:C,"data-testid":"OptionsModal-QuestionFormat",children:[(0,_.jsx)(f,{"data-testid":"OptionsModal-QuestionFormat-answerWith",children:W("answer",(e=>{const t=e.currentTarget.name,s=w[t],n={...w,[t]:!s},o=n;N(n),T(o)}),R)}),k?(0,_.jsx)(f,{"data-testid":"OptionsModal-QuestionFormat-promptWith",children:W("prompt",(e=>{const t=e.currentTarget.name,s=O[t],n={...O,[t]:!s},o=n;M(n),x(o)}),P)}):null]});return(0,_.jsxs)(_.Fragment,{children:[U,Z]})}s("./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalQuestionFormat.linaria.css")},"./app/j/study-modes/legacy-common/components/options_modal/OptionsModalQuestionTypeToggles.tsx":(e,t,s)=>{"use strict";s.d(t,{FF:()=>h,N_:()=>p,ZP:()=>_,ce:()=>d,hT:()=>g,mT:()=>m});var n=s("./node_modules/@linaria/react/lib/index.js"),o=s("./app/j/assembly/AssemblyToggleSwitch.tsx"),a=s("./app/j/i18n/useTranslation.ts"),r=(s("./node_modules/react/index.js"),s("./app/j/study-modes/legacy-common/components/options_modal/OptionsModalStyling.tsx")),i=s("./node_modules/react/jsx-runtime.js");const l=(0,n.z)("div")({name:"QuestionTypes",class:"q5cdun2"});let d;!function(e){e[e.WRITTEN=1]="WRITTEN",e[e.MATCHING=2]="MATCHING",e[e.MULTIPLE_CHOICE=4]="MULTIPLE_CHOICE",e[e.TRUE_FALSE=8]="TRUE_FALSE",e[e.REVEAL_SELF_ASSESSMENT=16]="REVEAL_SELF_ASSESSMENT",e[e.MULTIPLE_CHOICE_WITH_NONE_OPTION=32]="MULTIPLE_CHOICE_WITH_NONE_OPTION",e[e.COPY_ANSWER=64]="COPY_ANSWER",e[e.SPELLING=128]="SPELLING",e[e.FLASHCARD_WITHOUT_RESPONSE=256]="FLASHCARD_WITHOUT_RESPONSE",e[e.MIXED_OPTION_MATCHING=512]="MIXED_OPTION_MATCHING",e[e.FILL_IN_THE_BLANK=1024]="FILL_IN_THE_BLANK"}(d||(d={}));const u=[d.WRITTEN,d.MATCHING,d.MULTIPLE_CHOICE,d.TRUE_FALSE,d.REVEAL_SELF_ASSESSMENT,d.MULTIPLE_CHOICE_WITH_NONE_OPTION,d.COPY_ANSWER,d.SPELLING,d.FLASHCARD_WITHOUT_RESPONSE,d.MIXED_OPTION_MATCHING,d.FILL_IN_THE_BLANK],c=e=>{switch(e){case d.WRITTEN:return"written";case d.MATCHING:return"matching";case d.COPY_ANSWER:return"copyAnswer";case d.FILL_IN_THE_BLANK:return"fillInTheBlank";case d.MULTIPLE_CHOICE:return"multipleChoice";case d.MULTIPLE_CHOICE_WITH_NONE_OPTION:return"multipleChoiceWithNoneOption";case d.REVEAL_SELF_ASSESSMENT:return"revealSelfAssessment";case d.SPELLING:return"spelling";default:return null}},p=e=>{const t=Object.keys(e).filter((t=>!!e[t]));return u.filter((e=>{const s=c(e);return s&&t.includes(s)}))},m=(e,t)=>{const s=c(t);if(null===s)throw new Error("Failed to toggle unsupported question type: "+s);const n=e[s];return{...e,[s]:!n}},g=[d.TRUE_FALSE,d.MULTIPLE_CHOICE,d.MATCHING,d.WRITTEN],h=[d.REVEAL_SELF_ASSESSMENT,d.MULTIPLE_CHOICE,d.WRITTEN,d.FILL_IN_THE_BLANK];function _(e){let{availableQuestionTypes:t,enabledQuestionTypes:s,handleToggleQuestionType:n}=e;const{t:u}=(0,a.ZP)(),c=e=>{const t=Number(e.currentTarget.name);n(t)},p=s.filter((e=>t.includes(e))),m=e=>1===p.length&&p.includes(e);return(0,i.jsx)(r.Y7,{"data-testid":"Question Types",children:(0,i.jsx)(l,{children:t.map((e=>{const t=(e=>{switch(e){case d.FILL_IN_THE_BLANK:return u("study_modes.options.question_type.fill_in_the_blank");case d.REVEAL_SELF_ASSESSMENT:return u("study_modes.options.question_type.flashcards");case d.WRITTEN:return u("study_modes.options.question_type.written");case d.MATCHING:return u("study_modes.options.question_type.matching");case d.MULTIPLE_CHOICE:return u("study_modes.options.question_type.multiple_choice");case d.TRUE_FALSE:return u("study_modes.options.question_type.true_false");default:throw new Error(e+" is not a supported Test mode question type.")}})(e);return(0,i.jsxs)(r.Y7,{children:[(0,i.jsx)(r.zp,{label:t}),(0,i.jsx)(o.Z,{checked:s.includes(e),disabled:m(e),label:t,name:""+e,onChange:c})]},e)}))})})}s("./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalQuestionTypeToggles.linaria.css")},"./app/j/study-modes/legacy-common/components/options_modal/OptionsModalStarredOnly.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s("./app/j/assembly/AssemblyToggleSwitch.tsx"),o=s("./app/j/assembly/AssemblyTooltip.tsx"),a=s("./app/j/i18n/useTranslation.ts"),r=s("./app/j/study-modes/legacy-common/components/options_modal/OptionsModalStyling.tsx"),i=s("./node_modules/react/jsx-runtime.js");function l(e){let{toggleStudyStarredOnly:t,shouldAllowStudyingStarredOnly:s,studyStarredOnly:l}=e;const{t:d}=(0,a.ZP)(),u=(0,i.jsx)(n.Z,{checked:l,disabled:!s,label:d(l?"study_modes.options.starred":"study_modes.options.all"),name:"starredOnly",onChange:t});return(0,i.jsxs)(r.Y7,{children:[(0,i.jsx)(r.zp,{label:d("study_modes.options.study_starred")}),s?u:(c=u,(0,i.jsx)(o.Z,{offset:8,placement:"left",shouldFitContent:!1,text:d("study_modes.options.study_starred_tooltip"),children:c}))]});var c}},"./app/j/study-modes/legacy-common/components/options_modal/OptionsModalStyling.tsx":(e,t,s)=>{"use strict";s.d(t,{BX:()=>a,Y7:()=>r,zp:()=>u});s("./node_modules/core-js/modules/es.symbol.description.js");var n=s("./node_modules/@linaria/react/lib/index.js"),o=s("./node_modules/react/jsx-runtime.js");const a="f16mwdf4",r=(0,n.z)("div")({name:"OptionContainer",class:"ojn81eb"}),i=(0,n.z)("div")({name:"OptionTextContainer",class:"o5jd1da"}),l=(0,n.z)("div")({name:"OptionDescription",class:"o2xn8ew"}),d=(0,n.z)("div")({name:"OptionLabel",class:"op79p1u"});function u(e){let{label:t,description:s}=e;return(0,o.jsxs)(i,{children:[(0,o.jsx)(d,{children:t}),s&&(0,o.jsxs)(l,{children:[s," "]})]})}s("./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalStyling.linaria.css")},"./app/j/study-modes/legacy-common/components/options_modal/OptionsModalTwoSides.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n,o=s("./app/j/assembly/buttons/index.ts"),a=s("./app/j/assembly/menus/index.ts"),r=s("./app/j/i18n/useTranslation.ts"),i=s("./node_modules/nullthrows/nullthrows.js"),l=s.n(i),d=s("./node_modules/react/index.js"),u=s("./app/j/study-modes/legacy-common/components/options_modal/OptionsModalStyling.tsx"),c=s("./app/j/study-modes/legacy-common/utils/createCardSideSettings.ts"),p=s("./node_modules/react/jsx-runtime.js");function m(e){let{definitionLabel:t,includeTermInBothSidesSelection:s=!1,initAnswerWith:i,shouldDisableDropdown:m,shouldShowBothSidesOption:g,updateAnswerWith:h,updatePromptWith:_,wordLabel:S}=e;const{t:f}=(0,r.ZP)(),[y,j]=(0,d.useState)(i),E=[{option:n.WORD,label:S},{option:n.DEFINITION,label:t},g?{option:n.BOTH,label:f("study_modes.options.both_card_sides")}:void 0].filter((e=>void 0!==e));const T=f("study_modes.options.answer_with"),x=()=>{const e=E.find((e=>e.option===function(e){return e.term&&e.definition?n.BOTH:e.definition?n.DEFINITION:n.WORD}(y)));return l()(e,"Unable to match answerWith options config with current value "+y).label},b=(0,p.jsx)(a.sD,{"aria-label":T,children:E.map((e=>{const{option:t,label:o}=e;return(0,p.jsx)(a.jJ,{elementType:"button",onAction:()=>function(e){let t,o;e===n.BOTH?(t={term:!0,definition:!0,location:!1},o={term:s,definition:!0,location:!1}):(t=(0,c.Z)((t=>e===t)),o=(0,c.Z)((e=>!t[e]&&"location"!==e))),j(t),h(t),_(o)}(t),text:o},"label-"+t)}))}),A=(0,p.jsx)(o.B0,{disabled:m,text:x()});return(0,p.jsxs)(u.Y7,{children:[(0,p.jsx)(u.zp,{label:f("study_modes.options.answer_with")}),m?A:(0,p.jsx)(o.PP,{ariaLabel:T,disabled:m,menu:b,menuPlacement:"bottom right",text:x()})]})}!function(e){e.WORD="term",e.DEFINITION="definition",e.BOTH="both"}(n||(n={}))},"./app/j/study-modes/legacy-common/components/options_modal/hooks/useAnimatedMenu.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./node_modules/@linaria/core/lib/index.js"),o=s("./node_modules/polished/dist/polished.cjs.js"),a=s("./node_modules/react/index.js");(0,o.hO)(500);function r(){const[e,t]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1);return{onToggle:()=>{t((e=>!e)),o(!0)},isExpanded:e,menuClasses:(0,n.cx)("dligeoa",e&&"ej5q6i6",s&&!e&&"c12rt4bv")}}s("./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/hooks/useAnimatedMenu.linaria.css")},"./app/j/study-modes/legacy-common/containers/OptionsModalContainer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>A});var n=s("./app/j/core/legacy_store/LegacyStoreProvider.tsx"),o=s("./node_modules/react-redux/lib/index.js"),a=s("./node_modules/redux/lib/redux.js"),r=s("./node_modules/reselect/lib/index.js"),i=s("./app/j/study-modes/legacy-common/components/options_modal/OptionsModal.tsx"),l=s("./app/j/study-modes/legacy-common/grading/selectors.ts"),d=s("./app/j/study-modes/legacy-common/settings/actions.ts"),u=s("./app/j/study-modes/legacy-common/settings/selectors/index.ts"),c=s("./app/j/config/enums.ts"),p=s("./app/j/studiable-data/utils.ts"),m=s("./app/j/study-modes/legacy-common/studiable-data/selectors.ts");s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");function g(e,t){for(const s of(0,p.c4)(e,t)){const e=(0,p.xy)(s);if(e&&e.ttsUrl)return!0}return!1}function h(e,t){for(const s of(0,p.c4)(e,t))if(!(0,p.Ai)(s))return!1;return!0}function _(e,t){let s;for(const n of(0,p.c4)(e,t)){const e=(0,p.xy)(n);if(!e)return!1;s||(s=e.languageCode);if(!(s===e.languageCode))return!1}return!0}const S=(0,r.createSelector)(m.TQ,(e=>g(e.studiableItems.filter(p.F_),c.dU_.WORD))),f=(0,r.createSelector)(m.TQ,(e=>g(e.studiableItems.filter(p.F_),c.dU_.DEFINITION))),y=(0,r.createSelector)(m.TQ,(e=>h(e.studiableItems.filter(p.F_),c.dU_.WORD))),j=(0,r.createSelector)(m.TQ,(e=>h(e.studiableItems.filter(p.F_),c.dU_.DEFINITION))),E=(0,r.createSelector)(m.TQ,(e=>_(e.studiableItems.filter(p.F_),c.dU_.WORD))),T=(0,r.createSelector)(m.TQ,(e=>_(e.studiableItems.filter(p.F_),c.dU_.DEFINITION))),x=(0,r.createSelector)([E,T],((e,t)=>e&&t)),b=(0,r.createStructuredSelector)({allDefinitionsHaveText:m.hy,availableSides:m.UR,definitionLang:m.aW,hasCompleteDefinitionCustomAudio:j,hasCompleteWordCustomAudio:y,hasDefinitionAudio:f,hasDiagram:m.XQ,hasFillInTheBlankQuestions:m.kx,hasImage:m.bs,hasNonImageOnlyDefinitions:u.BG,hasWordAudio:S,hiddenSettings:u.ZB,isEligibleForSmartGrading:l.lc,settings:u.Iz,shouldAllowStudyingStarredOnly:m.kI,shouldShowLanguageLabel:x,studyModeType:u.ez,wordLang:m.lb}),A=(0,o.connect)(b,(e=>({actions:(0,a.bindActionCreators)({updateSettings:d.ex,updateLevenshteinPlusGradingSetting:d.j$},e)})),null,{context:n.tC})(i.Z)},"./app/j/study-modes/legacy-common/engine/actions.ts":(e,t,s)=>{"use strict";s.d(t,{DQ:()=>S,MF:()=>i,YC:()=>d,h5:()=>c,ig:()=>g,on:()=>_,ox:()=>l,vE:()=>u,xS:()=>h});s("./node_modules/core-js/modules/es.promise.js");var n=s("./app/j/config/enums.ts"),o=s("./app/j/study-modes/legacy-common/engine/selectors.ts"),a=s("./app/j/study-modes/legacy-common/settings/selectors/index.ts"),r=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js");let i;!function(e){e.SET_STUDY_ENGINE_INSTANCE="STUDY_MODES_COMMON.STUDY_ENGINE.SET_STUDY_ENGINE_INSTANCE",e.SET_GRADED_ANSWER="STUDY_MODES_COMMON.STUDY_ENGINE.SET_GRADED_ANSWER",e.SET_STUDY_STEP_AND_PROGRESS="STUDY_MODES_COMMON.STUDY_ENGINE.SET_STUDY_STEP_AND_PROGRESS",e.ADD_TO_ANSWER_HISTORY="STUDY_MODES_COMMON.STUDY_ENGINE.ADD_TO_ANSWER_HISTORY",e.SET_ANSWER_HISTORY="STUDY_MODES_COMMON.STUDY_ENGINE.SET_ANSWER_HISTORY",e.SET_STUDY_STEP_AND_PROGRESS_FOR_TASKS="STUDY_MODES_COMMON.STUDY_ENGINE.SET_STUDY_STEP_AND_PROGRESS_FOR_TASKS"}(i||(i={}));const l=e=>(0,r.action)(i.SET_STUDY_ENGINE_INSTANCE,e),d=e=>(0,r.action)(i.SET_GRADED_ANSWER,e),u=e=>(0,r.action)(i.ADD_TO_ANSWER_HISTORY,e),c=e=>(0,r.action)(i.SET_ANSWER_HISTORY,e),p=(e,t,s)=>{const n=t.getTasksWithProgress(),o=t.getTaskRoundProgress(),a=t.getTaskSequenceProgress(),l=t.getCurrentTaskIndex();var d;e((d={studyStep:s,tasksWithProgress:n,taskRoundProgress:o,taskSequenceProgress:a,currentTaskIndex:l},(0,r.action)(i.SET_STUDY_STEP_AND_PROGRESS_FOR_TASKS,d)))},m=(e,t,s)=>{const n=t.getTotalProgress(),o=t.getRoundProgress();var a;e((a={studyStep:s,totalProgress:n,roundProgress:o},(0,r.action)(i.SET_STUDY_STEP_AND_PROGRESS,a)))},g=e=>(t,s)=>{const r=s(),i=(0,o.C1)(r),l=i.generateStudyStep(e);(0,a.ez)(r)===n.aKJ.LEARNING_ASSISTANT?p(t,i,l):m(t,i,l)},h=e=>async(t,s)=>{const n=(0,o.C1)(s()),a=await n.gradeAnswer(e);t(d(a))},_=(e,t)=>async(s,n)=>{const a=(0,o.C1)(n()),r=await a.gradeAnswer(e);t(r.isCorrect)},S=e=>(t,s)=>{(0,o.C1)(s()).setGradingSettings(e)}},"./app/j/study-modes/legacy-common/engine/question/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{$f:()=>g,Ae:()=>A,Gi:()=>C,Ko:()=>_,P:()=>E,RU:()=>y,Rf:()=>m,VG:()=>b,Yt:()=>I,Zf:()=>f,bl:()=>j,fR:()=>S,fT:()=>T,fg:()=>p,g3:()=>h,xP:()=>x,xb:()=>w,yy:()=>c});var n=s("./app/j/config/enums.ts"),o=s("./node_modules/nullthrows/nullthrows.js"),a=s.n(o),r=s("./node_modules/reselect/lib/index.js"),i=s("./app/j/studiable-data/utils.ts"),l=s("./app/j/study-modes/legacy-common/engine/selectors.ts"),d=s("./app/j/study-modes/legacy-common/engine/utils/question-element-utils.ts"),u=s("./app/j/study-modes/legacy-common/studiable-data/selectors.ts");const c=(0,r.createSelector)(l.wG,(e=>{if(!e.metadata.answerSide)throw new Error("No answerSide for question type: "+e.type+".");return e.metadata.answerSide})),p=(0,r.createSelector)(l.wG,(e=>{if(!e.metadata.promptSide)throw new Error("No promptSide for question type: "+e.type+".");return e.metadata.promptSide})),m=(0,r.createSelector)(l.wG,(e=>e.type)),g=(0,r.createSelector)(l.wG,(e=>e.metadata.questionSource)),h=(0,r.createSelector)(l.wG,(e=>{var t;return null==(t=e.metadata.questionScoringInferenceMetadata)?void 0:t.currentScore})),_=(0,r.createSelector)(l.wG,(e=>{var t;return null==(t=e.metadata.questionScoringInferenceMetadata)?void 0:t.modelName})),S=(0,r.createSelector)(l.wG,(e=>{var t;return null==(t=e.metadata.questionScoringInferenceMetadata)?void 0:t.modelVersion})),f=(0,r.createSelector)(l.wG,(e=>{var t;return null==(t=e.metadata.questionScoringInferenceMetadata)?void 0:t.priorityScore})),y=(0,r.createSelector)(l.wG,(e=>{var t;return null==(t=e.metadata.questionScoringInferenceMetadata)?void 0:t.priorityMethod})),j=(0,r.createSelector)([l.wG,u.mb],((e,t)=>a()(t.find((t=>t.id===e.metadata.studiableItemId))))),E=(0,r.createSelector)(j,(e=>e.id)),T=(0,r.createSelector)([p,j],((e,t)=>{if(!(0,i.F_)(t))throw new Error("studiableItem must be a Card");return a()((0,i.KN)(t,e))})),x=(0,r.createSelector)([c,j],((e,t)=>{if(!(0,i.F_)(t))throw new Error("studiableItem must be a Card");return a()((0,i.KN)(t,e))})),b=(0,r.createSelector)([T],(e=>e.sideId)),A=(0,r.createSelector)([x],(e=>e.sideId)),I=e=>!v(e)||(0,u.lb)(e)===(0,u.aW)(e),v=(0,r.createSelector)([l.wG],(e=>{if(!("prompt"in e))throw new Error("No prompt for question type: "+e.type+".");return Boolean((0,d.dC)(e.prompt))})),C=(0,r.createSelector)(u.Uv,c,((e,t)=>{switch(t){case n.dU_.WORD:return e.word;case n.dU_.DEFINITION:return e.definition;default:return[]}})),w=(0,r.createSelector)(l.wG,(e=>{if(!("answerLanguageCode"in e))throw new Error("No answerLanguageCode for question type: "+e.type+".");return e.answerLanguageCode}))},"./app/j/study-modes/legacy-common/engine/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{C1:()=>m,C9:()=>O,EY:()=>g,IQ:()=>N,J7:()=>x,K9:()=>v,Qw:()=>E,Rk:()=>w,Rw:()=>y,T$:()=>I,TI:()=>M,Uy:()=>f,WJ:()=>R,XM:()=>C,ZZ:()=>D,tq:()=>L,ut:()=>p,uv:()=>T,wG:()=>S,wT:()=>A,xP:()=>_,z5:()=>h,zt:()=>b});var n=s("./app/j/config/enums.ts"),o=s("./app/j/legacyAssistant/types/QAssistantModeTypes.ts"),a=s("./node_modules/nullthrows/nullthrows.js"),r=s.n(a),i=s("./node_modules/reselect/lib/index.js"),l=s("./app/j/study-engine/types.ts"),d=s("./app/j/study-engine/utils.ts"),u=s("./app/j/study-modes/legacy-common/grading/utils/isAnswerGradedAsCorrectWithLevenshteinPlus.ts"),c=s("./app/j/study-modes/legacy-common/selectors.ts");const p=(0,i.createSelector)(c.p,(e=>e.studyEngine)),m=((0,i.createSelector)(p,(e=>e.instance)),(0,i.createSelector)(p,(e=>r()(e.instance,"You must initialize the study engine before selecting it.")))),g=(0,i.createSelector)(p,(e=>r()(e.studyStep,"You must generate the study step before selecting it."))),h=(0,i.createSelector)(p,(e=>r()(e.answerHistory,"You must set the answer history before selecting it."))),_=(0,i.createSelector)(g,(e=>(0,d.KX)(e)?e:null)),S=(0,i.createSelector)(g,(e=>{if(!(0,d.KX)(e))throw new Error("You cannot select a question if the current study step is not a question. The current study step type is: "+e.type+".");return e})),f=(0,i.createSelector)(g,(e=>{if((0,d.hB)(e)&&e.checkpoint)return e.checkpoint;if(!(0,d.jk)(e))throw new Error("You cannot select a checkpoint if the current study step is not a checkpoint.");return e})),y=(0,i.createSelector)([_,h],((e,t)=>{if(null===e)return!1;for(let s=t.length-1;s>=0;s--){const a=t[s];if(a.studiableItemId===e.metadata.studiableItemId&&(a.round===(0,o.Q)().multipleChoice&&e.type===l.mw.MULTIPLE_CHOICE_QUESTION||a.round===(0,o.Q)().written&&e.type===l.mw.WRITTEN_QUESTION))return a.correctness===n.p7P.INCORRECT||a.correctness===n.p7P.INCORRECT_WITH_HINT}return!1})),j=(0,i.createSelector)(g,(e=>{if(!(0,d.hB)(e))throw new Error("You cannot select a paywall if the current study step is not a paywall.");return e})),E=(0,i.createSelector)(g,(e=>{var t;const s=(0,d.hB)(e),n=(0,d.jk)(e);if(!s&&!n)throw new Error("You cannot select study step metering data when the step is not a checkpoint or paywall, this is to prevent too many calls to the metering endpoint");return null!=(t=e.metadata.meteringData)?t:null})),T=(0,i.createSelector)(j,(e=>{var t;const{checkpoint:s}=e;return(null!=(t=null==s?void 0:s.roundResults)?t:[]).length>0})),x=(0,i.createSelector)(g,(e=>{if((0,d.hB)(e)){var t,s;return null!=(t=null==(s=e.checkpoint)?void 0:s.roundResults)?t:[]}return(0,d.jk)(e)?e.roundResults:[]})),b=(0,i.createSelector)(p,(e=>r()(e.totalProgress,"You must compute the total progress before selecting it."))),A=(0,i.createSelector)(p,(e=>r()(e.roundProgress,"You must compute the round progress before selecting it."))),I=(0,i.createSelector)(g,(e=>!!(0,d.jk)(e)&&e.progressState===n.kg$.PERCENT_100)),v=(0,i.createSelector)(p,(e=>r()(e.tasksWithProgress,"You must compute tasks with progress before selecting it."))),C=(0,i.createSelector)(p,(e=>{const t=r()(e.tasksWithProgress,"You must compute tasks with progress before selecting it."),s=e.currentTaskIndex;return t.length&&null!==s?t[s].totalProgress:null})),w=(0,i.createSelector)(p,(e=>{const t=e.tasksWithProgress;if(t){const e=[];return t.forEach((t=>{const s=t.task.questionSource;t.task.questionTypes.forEach((t=>{e.push([t,s])}))})),e}return[]})),N=(0,i.createSelector)(p,(e=>r()(e.taskRoundProgress,"You must compute task round progress before selecting it."))),O=(0,i.createSelector)(p,(e=>r()(e.taskSequenceProgress,"You must compute task sequence progress before selecting it."))),M=(0,i.createSelector)(p,(e=>r()(e.currentTaskIndex,"You must set current task index before selecting it."))),L=(0,i.createSelector)(p,(e=>e.gradedAnswer)),D=(0,i.createSelector)(L,(e=>r()(e,"You must compute the graded answer before selecting it."))),R=(0,i.createSelector)(L,(e=>{var t;return(0,u.q)(null!=(t=null==e?void 0:e.gradingSettingsSuggestion)?t:null)}))},"./app/j/study-modes/legacy-common/engine/utils/graded-answer-utils.ts":(e,t,s)=>{"use strict";s.d(t,{Ap:()=>r,ED:()=>u,EE:()=>l,Rj:()=>c,T1:()=>h,ZP:()=>i,bt:()=>g,e0:()=>p,jn:()=>m,uL:()=>d});var n=s("./node_modules/memoize-one/dist/memoize-one.cjs.js"),o=s.n(n),a=s("./app/j/study-engine/types.ts");const r=o()((e=>{const{feedback:{submittedAnswer:t,expectedAnswer:s}}=e;return[t,s].forEach((e=>{if((null==e?void 0:e.type)!==a.xh.STRING_ANSWER)throw new Error("The Graded Answer passed in does not contain String Answers.")})),{submittedAnswerValue:t.value,expectedAnswerValue:s.value}}));function i(e){return!!e}function l(e,t){return t.feedback.expectedAnswer.value===e}function d(e){return!1===(null==e?void 0:e.isCorrect)}function u(e,t){var s;return(null==t||null==(s=t.feedback.submittedAnswer)?void 0:s.value)===e}function c(e,t){const{submittedAnswer:s}=t.feedback;return d(t)&&(null==s?void 0:s.value)===e}function p(e){return!0===(null==e?void 0:e.isCorrect)}function m(e){return null===(null==e?void 0:e.feedback.submittedAnswer)}function g(e){var t;return null!==e&&void 0===(null==(t=e.feedback.submittedAnswer)?void 0:t.value)&&!0===e.isCorrect}function h(e,t){var s;return void 0===(null==t||null==(s=t.feedback.submittedAnswer)?void 0:s.value)&&(null==t?void 0:t.feedback.expectedAnswer.value)===e}},"./app/j/study-modes/legacy-common/grading/actions.ts":(e,t,s)=>{"use strict";s.d(t,{Iu:()=>p,MF:()=>l,cd:()=>c,sy:()=>d,yd:()=>u});var n=s("./app/j/config/enums.ts"),o=s("./app/j/study-modes/legacy-common/engine/utils/question-element-utils.ts"),a=s("./app/j/study-modes/legacy-common/logging/actions.ts"),r=s("./app/j/study-modes/legacy-common/utils/studiablesToTermUtils.ts"),i=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js");let l;!function(e){e.OVERRIDE_CORRECTNESS_CLICK="GRADING.OVERRIDE_CORRECTNESS_CLICK",e.SET_ANSWER_GRADED_BY_LONGTEXT_GRADING_SERVICE="GRADING.SET_ANSWER_GRADED_BY_LONGTEXT_GRADING_SERVICE",e.SET_IS_GRADING="GRADING.SET_IS_GRADING"}(l||(l={}));const d=e=>(0,i.action)(l.SET_ANSWER_GRADED_BY_LONGTEXT_GRADING_SERVICE,e),u=e=>(0,i.action)(l.SET_IS_GRADING,e),c=()=>(0,i.action)(l.OVERRIDE_CORRECTNESS_CLICK),p=e=>{let{currentQuestion:t,submittedAnswerValue:s,expectedAnswerValue:i,gradingResult:l,timestampSeconds:d}=e;return e=>{e((0,a.$N)(n.AuQ.GRADE_TEXT,{cnn_score:l.cnn_score,displayed_grade:l.grade===n.lcN.CORRECT?n.lcN.CORRECT:n.lcN.WRONG,expected_answer_side:(0,r.Q)(t.metadata.answerSide),expected_answer_text:i,grade:l.grade,missing_text:l.missing,model_name:l.model,prompt_text:(0,o.dC)(t.prompt),request_successful:!0,score:l.score,submitted_answer_text:s},d))}}},"./app/j/study-modes/legacy-common/grading/constants.ts":(e,t,s)=>{"use strict";s.d(t,{Un:()=>a,rs:()=>n,w$:()=>o});const n="user_enabled_smart_grading",o="user_disabled_smart_grading",a=1e3},"./app/j/study-modes/legacy-common/grading/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{Em:()=>u,YI:()=>i,lc:()=>l,uO:()=>d});var n=s("./node_modules/reselect/lib/index.js"),o=s("./app/j/study-modes/legacy-common/engine/selectors.ts"),a=s("./app/j/study-modes/legacy-common/selectors.ts");const r=(0,n.createSelector)(a.p,(e=>e.grading)),i=(0,n.createSelector)(r,(e=>e.answerGradedByLongtextGradingService)),l=((0,n.createSelector)([i,o.WJ],((e,t)=>e||t)),(0,n.createSelector)(r,(e=>e.isEligibleForSmartGrading))),d=((0,n.createSelector)(r,(e=>e.overrideCorrectnessCounter)),(0,n.createSelector)(r,(e=>e.shouldShowSmartGradingUpsell))),u=(0,n.createSelector)(r,(e=>e.isGrading))},"./app/j/study-modes/legacy-common/grading/utils/isAnswerGradedAsCorrectWithLevenshteinPlus.ts":(e,t,s)=>{"use strict";s.d(t,{q:()=>n});const n=e=>!1===(null==e?void 0:e.acceptsAnswersWithTypos)},"./app/j/study-modes/legacy-common/grading/utils/longtextGradingUtils.ts":(e,t,s)=>{"use strict";s.d(t,{A:()=>r,k:()=>a});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/config/enums.ts");const o=new Set([n.spR.ENGLISH,n.spR.FRENCH,n.spR.GERMAN,n.spR.SPANISH]);function a(e){return o.has(e)}function r(e,t,s){return e.split(" ").length>=3&&t.split(" ").length>=3&&void 0!==s&&a(s)}},"./app/j/study-modes/legacy-common/hocs/connectQuestionStepForAutoPlayAudio.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>_});var n=s("./app/j/audio_playback/thunks.ts"),o=s("./app/j/audio_playback/utils.ts"),a=s("./app/j/core/default_store/DefaultStoreProvider.tsx"),r=s("./app/j/core/legacy_store/LegacyStoreProvider.tsx"),i=s("./node_modules/react/index.js"),l=s("./node_modules/react-redux/lib/index.js"),d=s("./node_modules/redux/lib/redux.js"),u=s("./node_modules/reselect/lib/index.js"),c=s("./app/j/study-modes/legacy-common/engine/utils/question-element-utils.ts"),p=s("./app/j/study-modes/legacy-common/settings/selectors/index.ts"),m=s("./node_modules/react/jsx-runtime.js");const g=(0,u.createStructuredSelector)({question:(e,t)=>{let{question:s}=t;return s},advancedAudioSettings:p.o3,isAudioOn:p.zK,passThroughProps:(e,t)=>t}),h=e=>({actions:(0,d.bindActionCreators)({replayAudio:n.fM,stopAndPlayAudio:n.DQ,stopPlayback:n.p0},e)});function _(e){let{playAnswer:t=!1,playPrompt:s=!0,delay:n=0}=e;return e=>{class u extends i.Component{componentDidMount(){if(!this.props.isAudioOn)return;const e=[];if(s){const t=this.getPromptAudioItem(this.props);t&&e.push(t)}if(t&&this.props.gradedAnswer){const t=this.getAnswerAudioItem(this.props);t&&e.push(t)}e.length>0&&setTimeout((()=>this.props.actions.stopAndPlayAudio({audioItems:e})),n)}componentDidUpdate(e){!e.isAudioOn&&this.props.isAudioOn?this.props.actions.replayAudio():e.isAudioOn&&!this.props.isAudioOn&&this.props.actions.stopPlayback()}getPromptAudioItem(e){var t;let{question:s,advancedAudioSettings:{definitionEnabled:n,slowDefinitionEnabled:a}}=e;if(n)return null==(t=(0,o.kW)({question:s,advancedAudioSettings:{slowDefinitionEnabled:a}}))?void 0:t.audioItems[0]}getAnswerAudioItem(e){var t,s;let{gradedAnswer:n,advancedAudioSettings:{wordEnabled:o,slowWordEnabled:a}}=e;if(!o)return;if(!n)return;if(!n.feedback.expectedAnswerDescription)return;const r=a?null==(t=(0,c.Sg)(n.feedback.expectedAnswerDescription).audio)?void 0:t.slowUrl:null==(s=(0,c.Sg)(n.feedback.expectedAnswerDescription).audio)?void 0:s.url;return r?{audioId:r,url:r}:void 0}render(){return(0,m.jsx)(e,{...this.props.passThroughProps})}}return(0,d.compose)((0,l.connect)(g,null,null,{context:r.tC}),(0,l.connect)(null,h,null,{context:a.jJ}))(u)}}},"./app/j/study-modes/legacy-common/hooks/useShouldSeeSignupWall.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s("./app/j/context/UserContext.ts"),o=s("./node_modules/react/index.js");function a(e,t,s){void 0===s&&(s=!1);return!(0,o.useContext)(n.Z)&&!s&&void 0!==e&&!t}},"./app/j/study-modes/legacy-common/index.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>Te,j:()=>Ee});var n=s("./app/j/config/enums.ts"),o=s("./app/j/core/getGenericErrorWithToastCallback.ts"),a=s("./app/j/core/legacy_store/LegacyStore.ts"),r=s("./node_modules/redux/lib/redux.js"),i=s("./node_modules/immer/dist/immer.cjs.production.min.js"),l=s("./app/j/study-modes/legacy-common/engine/actions.ts"),d=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js");const u=(e,t)=>(0,i.default)(e,(e=>{e.instance=t.payload})),c=(e,t)=>(0,i.default)(e,(e=>{e.gradedAnswer=t.payload})),p=(e,t)=>(0,i.default)(e,(e=>{if(null===e.answerHistory)throw new Error("You must set the answer history before adding to it.");e.answerHistory=e.answerHistory.concat(t.payload)})),m=(e,t)=>(0,i.default)(e,(e=>{e.answerHistory=t.payload})),g=(e,t)=>(0,i.default)(e,(e=>{const{roundProgress:s,studyStep:n,totalProgress:o}=t.payload;e.studyStep=n,e.totalProgress=o,e.roundProgress=s})),h=(e,t)=>(0,i.default)(e,(e=>{const{studyStep:s,tasksWithProgress:n,taskRoundProgress:o,taskSequenceProgress:a,currentTaskIndex:r}=t.payload;e.studyStep=s,e.tasksWithProgress=n,e.taskRoundProgress=o,e.taskSequenceProgress=a,e.currentTaskIndex=r}));function _(){const e={[l.MF.SET_STUDY_ENGINE_INSTANCE]:u,[l.MF.SET_GRADED_ANSWER]:c,[l.MF.SET_STUDY_STEP_AND_PROGRESS]:g,[l.MF.ADD_TO_ANSWER_HISTORY]:p,[l.MF.SET_ANSWER_HISTORY]:m,[l.MF.SET_STUDY_STEP_AND_PROGRESS_FOR_TASKS]:h};return(0,d.createReducer)({instance:null,gradedAnswer:null,studyStep:null,totalProgress:null,roundProgress:null,answerHistory:null,taskRoundProgress:null,tasksWithProgress:null,taskSequenceProgress:null,currentTaskIndex:null},e)}var S=s("./app/j/study-modes/legacy-common/engine/selectors.ts"),f=s("./app/j/study-modes/legacy-common/grading/actions.ts");const y=(e,t)=>(0,i.produce)(e,(e=>{e.answerGradedByLongtextGradingService=t.payload})),j=(e,t)=>(0,i.produce)(e,(e=>{e.isGrading=t.payload})),E=e=>(0,i.produce)(e,(t=>{t.overrideCorrectnessCounter=e.overrideCorrectnessCounter+1}));function T(e){const t={[f.MF.SET_ANSWER_GRADED_BY_LONGTEXT_GRADING_SERVICE]:y,[f.MF.SET_IS_GRADING]:j,[f.MF.OVERRIDE_CORRECTNESS_CLICK]:E};return(0,d.createReducer)(function(e){return{answerGradedByLongtextGradingService:!1,isEligibleForSmartGrading:e.isEligibleForSmartGrading,isGrading:!1,overrideCorrectnessCounter:0,shouldShowSmartGradingUpsell:e.shouldShowSmartGradingUpsell}}(e),t)}var x=s("./app/j/global/Quizlet.ts"),b=s("./app/j/study-modes/redesigned_cards/constants.ts"),A=s("./app/j/global/Rollbar.ts"),I=s("./app/j/utils/log-event.ts"),v=s("./app/j/utils/unix-timestamp.ts");class C{assemblePayload(e){return{person_id:x.Z.user?x.Z.user.id:x.Z.uid,client_id:"web",platform:n.t4T.WEB,client_timestamp:(0,v.vJ)(),...e}}logMLFeedbackEvent(e){let{studySessionId:t,questionSessionId:s,mlFeature:o,studiableContainerId:a,studiableItemId:r,feedbackQuestionType:i,feedbackQuestion:l,feedbackAnswer:d,metadata:u}=e;const c={study_session_id:t,question_session_id:s,ml_feature:o,ml_inference_id:null,studiable_container_id:a,studiable_item_id:r,feedback_question_type:i,feedback_question:l,flagging_answer:null,upvotes_answer:null,contribution_answer:null,metadata:u};switch(i){case n.ary.FLAGGING:"string"==typeof d&&(c.flagging_answer=String(d));break;case n.ary.UPVOTES:"boolean"==typeof d&&(c.upvotes_answer=Boolean(d));break;case n.ary.CONTRIBUTION:"string"==typeof d&&(c.contribution_answer=String(d));break;default:return void A.Z.error("Unexpected MLFeedbackType "+l)}const p=this.assemblePayload(c);(0,I.Z)("ml_feedback_events",p)}}var w=s("./app/j/utils/StudyEventLogger.ts");function N(e){return(0,d.createReducer)(function(e){var t;const s=new w.Z({modeType:e.studyModeType,selectedOnly:e.selectedOnly,studyableId:e.studyable.id,studyableType:e.studyableType,embedType:O(e.isEmbedding,e.cardsOrigin),funnelUUID:e.funnelUUID,userId:null==x.Z||null==(t=x.Z.user)?void 0:t.id,uid:null==x.Z?void 0:x.Z.uid});return{mlFeedbackLogger:new C,studyEventLogger:s,questionEventLogger:s.getQuestionEventLogger()}}(e),{})}function O(e,t){return e?n.b_7.EXTERNAL:t===b.ou.SET_PAGE?n.b_7.INTERNAL:null}var M=s("./app/j/study-modes/legacy-common/metering/actions.ts");const L=(e,t)=>(0,i.default)(e,(e=>{e.meteringData=t.payload}));function D(e){const t={[M.MF.SET_METERING_DATA]:L};return(0,d.createReducer)(e,t)}var R=s("./app/j/study-modes/legacy-common/metering/selectors.ts");function P(e){return(0,d.createReducer)(function(e){return{shouldShowStudyTopNav:e.shouldShowStudyTopNav,shouldShowUnderstandingTask:e.shouldShowUnderstandingTask,shouldShowTestToLearn:e.shouldShowTestToLearn}}(e),{})}var k=s("./app/j/study-modes/cards/constants.ts"),U=s("./app/j/study-modes/legacy-common/misc/ads/actions.ts"),W=s("./app/j/utils/tamperProofNow.ts");const Z=(e,t)=>(0,i.default)(e,(e=>{e.lastActionTimestamp=(0,W.Z)()})),F=(e,t)=>(0,i.default)(e,(e=>{e.shouldShowNewStudyBreak=t.payload}));function B(e){const t={[l.MF.SET_STUDY_STEP_AND_PROGRESS]:Z,[U.MF.SET_SHOW_NEW_STUDY_BREAK]:F,[U.MF.UPDATE_LAST_ACTION_TIMESTAMP]:Z};return(0,d.createReducer)(function(e){var t;return{adsIds:e.adsIds,cardsView:k.S.CARDS_VIEW,isBrandedContentSet:null!=(t=null==e?void 0:e.isBCSEnabled)&&t,lastActionTimestamp:null,shouldShowNewStudyBreak:!1,studyMode:e.studyMode}}(e),t)}function G(e){return(0,r.combineReducers)({ads:B(e),abTests:P(e)})}function H(e){return(0,d.createReducer)(function(e){return{daysSinceLastVisit:e.daysSinceLastVisit}}(e),{})}var V=s("./app/j/study-modes/legacy-common/sessions/actions.ts");const z=(e,t)=>(0,i.default)(e,(e=>{e.sessionLuid=t.payload})),K=(e,t)=>(0,i.default)(e,(e=>{t.payload.isStarredOnly?e.initialSessions.starred=t.payload.session:e.initialSessions.unstarred=t.payload.session}));function Q(e){const t={[V.MF.SET_SESSION_LUID]:z,[V.MF.SET_INITIAL_SESSIONS_LUID]:K};return(0,d.createReducer)(function(e){return{initialSessions:e.sessions,personId:e.personId,sessionLuid:null,serverTimestamp:e.serverTimestamp}}(e),t)}var q=s("./app/j/study-modes/legacy-common/settings/actions.ts"),Y=s("./app/j/utils/isCookieSupportEnabled.ts");function $(e){var t,s,n,o,a;return{acceptsPartialAnswer:e.acceptsPartialAnswer,advancedAudioSettings:e.advancedAudioSettings,answerWith:e.answerWithSetting,cardsShuffleSeed:null!=(t=e.cardsShuffleSeed)?t:null,guidanceDisabled:null!=(s=e.guidanceDisabled)&&s,isAudioOn:e.audioEnabledSetting,locationQuestionTypes:e.locationQuestionTypes,promptWith:e.promptWithSetting,questionTypes:e.questionTypesSetting,smartGrading:e.smartGradingSetting||null===e.smartGradingSetting,sortingOn:null!=(n=e.sortingOn)&&n,shuffle:null!=(o=e.shuffle)&&o,studyPath:void 0===e.studyPathSetting?null:e.studyPathSetting,studyPathGoal:void 0===e.studyPathGoalSetting?null:e.studyPathGoalSetting,studyPathKnowledgeLevel:void 0===e.studyPathKnowledgeLevelSetting?null:e.studyPathKnowledgeLevelSetting,studyStarredOnly:null!=(a=e.selectedOnly)&&a,typoHelpGradingSetting:e.typoHelpGradingSetting||null===e.typoHelpGradingSetting,writtenTypes:e.writtenTypesSetting}}function J(e){var t;return{adModalShownAt:(0,W.Z)(),adModalTimesShown:0,canEditRichText:e.canEditRichText,hasNonImageOnlyDefinitions:e.hasNonImageOnlyDefinitions,hiddenSettings:null!=(t=e.hiddenSettings)?t:[],isAdsInCardsPreviewEnabled:e.isAdsInCardsPreviewEnabled,isCookieSupportEnabled:(0,Y.Z)(),isEmbedding:e.isEmbedding,isOptionsModalOpen:!1,modePath:e.modePath,personId:e.personId,shouldShowAd:e.shouldShowAd,shouldHideEmbedControl:e.shouldHideEmbedControl,starredModePath:e.starredModePath,startTimestamp:e.userStudyable.startTimestamp,studyModeType:e.studyModeType,userStudyable:e.userStudyable}}const X=(e,t)=>(0,i.default)(e,(e=>{e.display=t.payload.display,e.preferences=t.payload.preferences})),ee=(e,t)=>(0,i.default)(e,(e=>{e.preferences=t.payload})),te=(e,t)=>(0,i.default)(e,(e=>{e.display.isOptionsModalOpen=t.payload})),se=(e,t)=>(0,i.default)(e,(e=>{e.preferences.acceptsPartialAnswer=t.payload})),ne=(e,t)=>(0,i.default)(e,(e=>{e.preferences.smartGrading=t.payload})),oe=(e,t)=>(0,i.default)(e,(e=>{e.preferences.typoHelpGradingSetting=t.payload})),ae=(e,t)=>(0,i.default)(e,(e=>{e.display.userStudyable.startTimestamp=t.payload,e.display.startTimestamp=t.payload})),re=(e,t)=>(0,i.default)(e,(e=>{e.display.adModalShownAt=t.payload.adModalShownAt,e.display.adModalTimesShown=t.payload.adModalTimesShown}));function ie(e){const t={[q.aI.CHANGE_PREFERENCE]:ee,[q.aI.RESTART_USER_STUDYABLE]:ae,[q.aI.SET_IS_OPTIONS_MODAL_OPEN]:te,[q.aI.SETUP_SETTINGS]:X,[q.aI.UPDATE_ACCEPTS_PARTIAL_ANSWER]:se,[q.aI.UPDATE_ACCEPTS_SMART_GRADING]:ne,[q.aI.UPDATE_TYPO_HELP_SETTING]:oe,[q.aI.UPDATE_AD_MODAL_STATE]:re};return(0,d.createReducer)(function(e){return{display:J(e),preferences:$(e)}}(e),t)}var le=s("./app/j/study-modes/legacy-common/settings/selectors/index.ts"),de=s("./node_modules/lodash/keyBy.js"),ue=s.n(de),ce=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/j/study-engine/utils.ts")),pe=s("./app/j/study-modes/legacy-common/studiable-data/actions.ts");const me=(e,t)=>{let{payload:s}=t;return(0,i.default)(e,(e=>{e.starredStudiableItemIds.add(s)}))},ge=(e,t)=>{let{payload:s}=t;return(0,i.default)(e,(e=>{e.selectedTerms[s.termId]=s}))},he=(e,t)=>{let{payload:s}=t;return(0,i.default)(e,(e=>{e.starredStudiableItemIds.delete(s)}))},_e=(e,t)=>{let{payload:s}=t;return(0,i.default)(e,(e=>{delete e.selectedTerms[s]}))},Se=(e,t)=>{let{payload:s}=t;return(0,i.default)(e,(t=>{const n=e.studiableItems.findIndex((e=>e.id===s.id));-1!==n&&(delete t.studiableItems[n],t.studiableItems[n]=s)}))};function fe(e){const t={[pe.MF.ADD_STARRED_STUDIABLE_ITEM_ID]:me,[pe.MF.ADD_STARRED_STUDIABLE_ITEM_ID_SUCCESS]:ge,[pe.MF.REMOVE_STARRED_STUDIABLE_ITEM_ID]:he,[pe.MF.REMOVE_STARRED_STUDIABLE_ITEM_ID_SUCCESS]:_e,[pe.MF.REPLACE_STUDIABLE_ITEM]:Se};return(0,d.createReducer)(function(e){return{...e.studiableDocumentData,accents:e.studiableAccents,diagramImages:e.images,diagramImageRefs:e.imageRefs,editableStudiableItemIds:new Set(e.editableStudiableItemIds),selectedTerms:ue()(e.selectedTerms,(e=>{let{termId:t}=e;return t})),starredStudiableItemIds:new Set(e.selectedTerms.map((e=>(0,ce.zn)(e.termId)))),studiableContainer:e.studyable,studiableContainerType:e.studyableType,crossModeResetTimestamp:e.crossModeResetTimestamp,progressBucketName:e.progressBucketName,studySummaries:e.studySummaries}}(e),t)}var ye=s("./app/j/study-modes/legacy-common/studiable-data/selectors.ts"),je=s("./app/j/tracking/BrazeHelper.ts");const Ee=(e,t)=>{var s;const a=(0,ye.Sd)(t),r=(0,le.ez)(t),i=(0,S.EY)(t),l=(0,ye.uf)(t),d=null!=(s=(0,R.VO)(t))?s:0,u={studiable_id:l,studiable_name:(0,ye.ZM)(t),studiable_type:je.Sd(a),study_step:i.type,study_mode:je.EN(r),...r===n.aKJ.LEARNING_ASSISTANT&&{rounds_until_paywall:d>0?d-1:d}};try{je.BX(je.iv,e,u)}catch(c){(0,o.Z)("Error logging to Braze after the following studyMode: "+r,!1)(c)}};function Te(e){a.Z.registerReducer("studyModesCommon",(0,r.combineReducers)({logging:N(e),sessions:Q(e),settings:ie(e),studiableData:fe(e),studyEngine:_(),misc:G(e),grading:T(e),metering:D(e.metering),onboarding:H(e)}))}},"./app/j/study-modes/legacy-common/logging/actions.ts":(e,t,s)=>{"use strict";s.d(t,{$N:()=>h,D5:()=>g,F:()=>m,d9:()=>_,dc:()=>u,pJ:()=>p,zD:()=>c});var n=s("./app/j/compatibility/logger/getLoggerConfig.ts"),o=s("./app/j/config/enums.ts"),a=s("./app/j/study-modes/legacy-common/logging/selectors.ts"),r=s("./app/j/study-modes/legacy-common/settings/selectors/index.ts"),i=s("./app/j/study-modes/legacy-common/studiable-data/selectors.ts"),l=s("./app/j/utils/logNavigationEvent.ts"),d=s("./app/j/utils/StudyPageVisibilityTracker.ts");const u=e=>{let{mlFeature:t,feedbackQuestion:s,feedbackQuestionType:n,feedbackAnswer:o,metadata:r,studiableItemId:l}=e;return(e,d)=>{const u=d(),c=(0,i.uf)(u),p=(0,a.q0)(u),m=(0,a.Fy)(u).getQuestionSessionId(),g=(0,a.Hx)(u),h={studySessionId:p,questionSessionId:m,mlFeature:t,studiableContainerId:c,studiableItemId:l,feedbackQuestionType:n,feedbackQuestion:s,feedbackAnswer:o,metadata:r};g.logMLFeedbackEvent(h)}},c=(e,t)=>(s,n)=>{const o=n();(0,a.Fy)(o).logQuestionEvent(e,{...(0,a.cs)(o),...t})},p=(e,t,s)=>(n,o)=>{const i=o(),l=(0,a.Lx)(i),d=(0,r.zg)(i);l.logStudyEvent(e,t,{...s,selectedOnly:d})},m=e=>{let{action:t=o.$w5.CLICK,additionalInfo:s,clickCategory:n=o.Qje.BROWSE,clickName:a,screenName:r}=e;return e=>{(0,l.Z)(r,n,a,s,t)}},g=(e,t)=>(s,n)=>{const o=n();(0,a.o2)(o).logMultipleChoiceOptionEvent(e,t)},h=(e,t,s)=>(n,o)=>{const r=o();(0,a.Uw)(r).logTextGradingEvent(e,t,s)},_=()=>(e,t)=>{const s=t(),o=(0,a.Lx)(s);new d.Z((function(e,t){void 0===t&&(t={}),o.logStudyEvent(e,{loggerConfig:(0,n.c)()},t)}))}},"./app/j/study-modes/legacy-common/logging/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{Fy:()=>g,Hx:()=>S,Lx:()=>_,Qp:()=>T,Uw:()=>E,XU:()=>h,YV:()=>y,cs:()=>A,o2:()=>j,q0:()=>f});s("./node_modules/core-js/modules/es.json.stringify.js");var n=s("./app/j/config/enums.ts"),o=s("./app/j/legacyAssistant/types/QAssistantModeTypes.ts"),a=s("./node_modules/nullthrows/nullthrows.js"),r=s.n(a),i=s("./node_modules/reselect/lib/index.js"),l=s("./app/j/study-engine/types.ts"),d=s("./app/j/study-modes/legacy-common/engine/question/selectors.ts"),u=s("./app/j/study-modes/legacy-common/engine/selectors.ts"),c=s("./app/j/study-modes/legacy-common/selectors.ts"),p=s("./app/j/study-modes/legacy-common/utils/studiablesToTermUtils.ts");const m=(0,i.createSelector)(c.p,(e=>e.logging)),g=(0,i.createSelector)(m,(e=>e.questionEventLogger)),h=(0,i.createSelector)(g,(e=>e.getQuestionSessionId())),_=(0,i.createSelector)(m,(e=>e.studyEventLogger)),S=(0,i.createSelector)(m,(e=>e.mlFeedbackLogger)),f=(0,i.createSelector)(m,(e=>e.studyEventLogger.getStudySessionId())),y=(0,i.createSelector)(m,(e=>e.studyEventLogger.funnelUUID)),j=(0,i.createSelector)(g,(e=>e.getMultipleChoiceOptionLogger())),E=(0,i.createSelector)(g,(e=>e.getTextGradingEventLogger())),T=(0,i.createSelector)(_,(e=>e.logStudyEvent)),x=e=>{switch(e){case l.mw.WRITTEN_QUESTION:return n.oK4.TYPING;case l.mw.SEPARATED_OPTION_MATCHING_QUESTION:return n.oK4.MATCH;case l.mw.MULTIPLE_CHOICE_QUESTION:return n.oK4.MULTIPLE_CHOICE;case l.mw.REVEAL_SELF_ASSESSMENT_QUESTION:return n.oK4.SELF_ASSESSMENT;case l.mw.SPELLING_QUESTION:case l.mw.FILL_IN_THE_BLANK_QUESTION:return n.oK4.TYPING;default:return null}},b=e=>{switch(e){case l.mw.WRITTEN_QUESTION:return(0,o.Q)().written;case l.mw.SEPARATED_OPTION_MATCHING_QUESTION:return(0,o.Q)().matching;case l.mw.MULTIPLE_CHOICE_QUESTION:return(0,o.Q)().multipleChoice;case l.mw.TRUE_FALSE_QUESTION:return(0,o.Q)().trueFalse;case l.mw.REVEAL_SELF_ASSESSMENT_QUESTION:return(0,o.Q)().revealSelfAssessment;case l.mw.SPELLING_QUESTION:return(0,o.Q)().spelling;case l.mw.MIXED_OPTION_MATCHING_QUESTION:return(0,o.Q)().mixedOptionMatching;case l.mw.FILL_IN_THE_BLANK_QUESTION:return(0,o.Q)().fillInTheBlank;default:return null}},A=(0,i.createSelector)([d.yy,d.fg,d.P,d.Rf,d.$f,d.g3,d.Ko,d.fR,d.Zf,d.RU,u.wG],((e,t,s,o,a,i,l,d,u,c,m)=>({promptTermId:(0,p.K)(s),prompt_side:(0,p.Q)(r()(t)),answer_side:(0,p.Q)(r()(e)),answer_type:r()(x(o)),participation:n.qhD.INDIVIDUAL,question_type:b(o),question_score:i,question_scoring_model:l,question_scoring_model_version:d,priority_score:u,priority_method:c,questionContent:JSON.stringify(m),...null!==a&&{question_source:JSON.stringify(a)}})))},"./app/j/study-modes/legacy-common/metering/actions.ts":(e,t,s)=>{"use strict";s.d(t,{MF:()=>u,EF:()=>m,zo:()=>p});s("./node_modules/core-js/modules/es.promise.js");var n=s("./app/j/config/enums.ts"),o=s("./app/j/study-modes/legacy-common/metering/selectors.ts"),a=s("./app/j/study-modes/legacy-common/metering/utils.ts"),r=s("./app/j/study-modes/legacy-common/studiable-data/selectors.ts"),i=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),l=s("./node_modules/immer/dist/immer.cjs.production.min.js");const d=async e=>{let t,{dispatchSetMeteringData:s,getStoreMeteringData:o,meteredEventType:a,meteringData:r,saveMeteredEvent:i,shouldMergeMeteringDataForRVA:d,skipSaveMeteredEvent:u,skipUpdateMeteringMetaFromResponse:c,studiableContainerId:p}=e;if(t=d?(e=>{let{meteringData:t,storeMeteringData:s}=e;return(0,l.default)(t,(e=>{const t=e[n.jrE.LEARN_CHECKPOINT],o=s[n.jrE.LEARN_CHECKPOINT];t&&o&&null!==(null==o?void 0:o.canShowRewardAd)&&(t.canShowRewardAd=o.canShowRewardAd)}))})({meteringData:r,storeMeteringData:o()}):r,s(t),u)return;const m=(e=>e===n.jrE.LEARN_CHECKPOINT_REWARD?n.jrE.LEARN_CHECKPOINT:e)(a),g=t[m];if(!g)return;const h=a===m,_=await i({eventType:a,studiableContainerId:p,...h&&{eventCount:g.numEvents}});if(c)return;const S=null==_?void 0:_.data;S&&(t={...t,[m]:S},s(t))};let u;!function(e){e.SET_METERING_DATA="METERING.SET_METERING_DATA"}(u||(u={}));const c=e=>(0,i.action)(u.SET_METERING_DATA,e),p=e=>{let{meteringData:t,meteredEventType:s=n.jrE.TEST_SUBMISSION,shouldMergeMeteringDataForRVA:i=!1}=e;return async(e,n)=>{const l=n(),u=(0,r.uf)(l);await d({dispatchSetMeteringData:t=>{e(c(t))},getStoreMeteringData:()=>(0,o.aN)(l),meteredEventType:s,meteringData:t,saveMeteredEvent:a.$A,shouldMergeMeteringDataForRVA:i,skipSaveMeteredEvent:!1,skipUpdateMeteringMetaFromResponse:!0,studiableContainerId:u})}},m=e=>{let{meteringData:t,meteredEventType:s=n.jrE.LEARN_CHECKPOINT,shouldMergeMeteringDataForRVA:i=!1,skipLearnSaveMeteredEvent:l=!1}=e;return async(e,n)=>{const u=n(),p=(0,r.uf)(u);await d({dispatchSetMeteringData:t=>{e(c(t))},getStoreMeteringData:()=>(0,o.aN)(u),meteredEventType:s,meteringData:t,saveMeteredEvent:a.$A,shouldMergeMeteringDataForRVA:i,skipSaveMeteredEvent:l,skipUpdateMeteringMetaFromResponse:!1,studiableContainerId:p})}}},"./app/j/study-modes/legacy-common/metering/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{Ai:()=>y,Br:()=>m,E7:()=>c,Mb:()=>S,Pi:()=>f,VO:()=>g,Vh:()=>E,ZD:()=>u,aN:()=>d,iU:()=>_,jM:()=>p,kn:()=>j,qR:()=>h});var n=s("./app/j/config/enums.ts"),o=s("./node_modules/reselect/lib/index.js"),a=s("./app/j/set/enums.ts"),r=s("./app/j/study-modes/legacy-common/metering/utils.ts"),i=s("./app/j/study-modes/legacy-common/selectors.ts");const l=(0,o.createSelector)(i.p,(e=>e.metering)),d=(0,o.createSelector)(l,(e=>{var t;return null!=(t=e.meteringData)?t:{}})),u=(0,o.createSelector)(d,(e=>{var t;return null!=(t=e[n.jrE.LEARN_CHECKPOINT])?t:null})),c=(0,o.createSelector)(d,(e=>{var t;return null!=(t=e[n.jrE.TEST_SUBMISSION])?t:null})),p=(0,o.createSelector)(u,(e=>(0,r.XJ)(e))),m=(0,o.createSelector)(c,(e=>(0,r.XJ)(e))),g=(0,o.createSelector)(u,(e=>{if(!e)return null;const{numEvents:t,threshold:s}=e;return s-t})),h=(0,o.createSelector)(g,(e=>null===e?null:e>0)),_=(0,o.createSelector)(u,(e=>{if(!e)return null;const{threshold:t}=e;return t})),S=(0,o.createSelector)(c,(e=>{if(!e)return null;const{numEvents:t,threshold:s}=e;return s-t})),f=(0,o.createSelector)(u,(e=>{if(!e)return null;const{numEvents:t}=e;return t})),y=(0,o.createSelector)(u,(e=>{if(!e)return null;const{canShowRewardAd:t}=e;return null!=t&&t})),j=(0,o.createSelector)(l,(e=>{var t;return null!=(t=e.isSignupWallUnlocked)&&t})),E=(0,o.createSelector)(l,(e=>{var t;return null!=(t=e.dynamicPaywallToastExperience)?t:a.qu.ALL_TOASTS}))},"./app/j/study-modes/legacy-common/metering/utils.ts":(e,t,s)=>{"use strict";s.d(t,{$A:()=>r,XJ:()=>a});s("./node_modules/core-js/modules/es.promise.js");var n=s("./app/j/compatibility/fetch/browserFetch.ts"),o=s("./app/j/global/Rollbar.ts");const a=e=>!!e&&e.numEvents>=e.threshold,r=async e=>{let{eventType:t,studiableContainerId:s,eventCount:a}=e;const r={eventType:t,resourceId:s};void 0!==a&&(r.eventCount=a);try{var i,l;const e=await(0,n.cZ)("/webapi/3.4/metering/event",{body:r});return null==e||null==(i=e.body)||null==(l=i.responses)?void 0:l[0]}catch(d){return void o.Z.error("Failed to update metering event",d)}}},"./app/j/study-modes/legacy-common/misc/ab_tests/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{Vv:()=>i,rU:()=>r});var n=s("./node_modules/reselect/lib/index.js"),o=s("./app/j/study-modes/legacy-common/misc/selectors.ts");const a=(0,n.createSelector)(o.n,(e=>e.abTests)),r=(0,n.createSelector)(a,(e=>e.shouldShowStudyTopNav)),i=((0,n.createSelector)(a,(e=>{var t;return null!=(t=e.shouldShowUnderstandingTask)&&t})),(0,n.createSelector)(a,(e=>{var t;return null!=(t=e.shouldShowTestToLearn)&&t})))},"./app/j/study-modes/legacy-common/misc/ads/actions.ts":(e,t,s)=>{"use strict";s.d(t,{MF:()=>o,lM:()=>a,yf:()=>r});var n=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js");let o;!function(e){e.SET_SHOW_NEW_STUDY_BREAK="SET_SHOW_NEW_STUDY_BREAK",e.SET_BIDS_ARE_RETURNED="SET_BIDS_ARE_RETURNED",e.UPDATE_LAST_ACTION_TIMESTAMP="UPDATE_LAST_ACTION_TIMESTAMP"}(o||(o={}));const a=e=>(0,n.action)(o.SET_SHOW_NEW_STUDY_BREAK,e),r=()=>(0,n.action)(o.SET_SHOW_NEW_STUDY_BREAK,!1)},"./app/j/study-modes/legacy-common/misc/ads/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{SV:()=>d,Xb:()=>l,cS:()=>c,nm:()=>u});var n=s("./node_modules/nullthrows/nullthrows.js"),o=s.n(n),a=s("./node_modules/reselect/lib/index.js"),r=s("./app/j/study-modes/legacy-common/misc/selectors.ts");const i=(0,a.createSelector)(r.n,(e=>e.ads)),l=(0,a.createSelector)(i,(e=>e.lastActionTimestamp)),d=(0,a.createSelector)(i,(e=>o()(e.adsIds,"Please include ad units for your study modes in entry.ts file"))),u=(0,a.createSelector)(i,(e=>e.isBrandedContentSet)),c=(0,a.createSelector)(i,(e=>e.shouldShowNewStudyBreak))},"./app/j/study-modes/legacy-common/misc/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{n:()=>a});var n=s("./node_modules/reselect/lib/index.js"),o=s("./app/j/study-modes/legacy-common/selectors.ts");const a=(0,n.createSelector)(o.p,(e=>e.misc))},"./app/j/study-modes/legacy-common/options/types.ts":(e,t,s)=>{"use strict";let n;s.d(t,{$:()=>n}),function(e){e.AUDIO="audio",e.MULTIPLE_ANSWERS="multipleAnswers",e.SORTING_ON="sortingOn",e.STARRED_ONLY="starredOnly",e.TYPO_HELP="typoHelp"}(n||(n={}))},"./app/j/study-modes/legacy-common/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{p:()=>n});const n=e=>e.get("studyModesCommon")},"./app/j/study-modes/legacy-common/sessions/actions.ts":(e,t,s)=>{"use strict";s.d(t,{Ch:()=>S,KN:()=>y,K_:()=>h,MF:()=>g,TS:()=>E,T_:()=>j,ZN:()=>T,kf:()=>f,mc:()=>x});s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/config/enums.ts"),o=s("./app/j/core/getGenericErrorWithToastCallback.ts"),a=s("./app/j/global/Quizlet.ts"),r=s("./app/j/study-modes/legacy-common/engine/selectors.ts"),i=s("./app/j/study-modes/legacy-common/sessions/selectors.ts"),l=s("./app/j/study-modes/legacy-common/settings/selectors/index.ts"),d=s("./app/j/study-modes/legacy-common/studiable-data/selectors.ts"),u=s("./app/j/syncers/SessionSyncer.ts"),c=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),p=s("./app/j/utils/tamperProofNow.ts"),m=s("./app/j/utils/unix-timestamp.ts");let g;!function(e){e.SET_SESSION_LUID="STUDY_MODES_COMMON.SESSIONS.SET_SESSION_LUID",e.SET_INITIAL_SESSIONS_LUID="STUDY_MODES_COMMON.SESSIONS.SET_INITIAL_SESSIONS_LUID"}(g||(g={}));const h=(e,t)=>{let s;const o=(0,l.ez)(e);if(void 0!==t&&o===n.aKJ.FLASHCARDS){const n=(0,i.b7)(e);s=(0,p.Z)()/1e3-n+t.get("score")}else s=o===n.aKJ.LEARNING_ASSISTANT?(0,r.C9)(e):(0,r.zt)(e).studyProgress;return Math.round(s)},_=(e,t,s)=>{const n=h(s,t);if(0===n||t.get("score")===n)return;!(0,l.Gw)(s).display.isCookieSupportEnabled||!a.Z.user&&(0,l.QE)(s)||((e,t,s,n)=>{const o=(0,i.b7)(n);t.set("score",s),t.set("lastModified",o),u.Z.save(e,t.properties)})(e,t,n,s)},S=e=>(0,c.action)(g.SET_SESSION_LUID,e),f=e=>(t,s)=>{var n;t((n={session:e,isStarredOnly:(0,l.zg)(s())},(0,c.action)(g.SET_INITIAL_SESSIONS_LUID,n)))},y=e=>{let{session:t}=e;return async(e,s)=>{const n=s();let o;o=t||{personId:Number((0,i.gP)(n)),selectedOnly:(0,l.zg)(n),type:(0,l.ez)(n),itemType:(0,d.Sd)(n),itemId:(0,d.uf)(n),timestamp:(0,m.S0)()};if(!(0,l.Gw)(n).display.isCookieSupportEnabled||!a.Z.user&&(0,l.QE)(n))return;const r=u.Z.add(o);e(S(r)),await u.Z.save(r,o).then((s=>{let[n,a]=s;if(!t&&a){const t={...o,id:a.getProperties().id};e(f(t))}}))}},j=()=>async(e,t)=>{const s=t();(0,i.a5)(s)||await e(y({session:(0,i.sl)(s)}))},E=function(e){return void 0===e&&(e={}),(t,s)=>{const n=s(),r=(0,i.Ug)(n);!(0,l.Gw)(n).display.isCookieSupportEnabled||!a.Z.user&&(0,l.QE)(n)||u.Z.save(r,{endedTimestamp:(0,m.S0)(),...e}).catch((0,o.Z)("Error updating session",!1))}},T=()=>(e,t)=>{const s=t(),n=h(s),o=(0,l.Gw)(s);let r;if((0,i.Ug)(s))r=(0,i.Ug)(s);else{if(!(0,i.sl)(s))return;r=u.Z.add((0,i.sl)(s))}!o.display.isCookieSupportEnabled||!a.Z.user&&(0,l.QE)(s)||u.Z.save(r,{score:n,endedTimestamp:(0,p.Z)()})},x=()=>(e,t)=>{const s=t(),n=(0,i.Ug)(s);if(!n)return null;const o=u.Z.getModel(n);if(!o)return null;_(n,o,s)}},"./app/j/study-modes/legacy-common/sessions/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{Gg:()=>_,Ug:()=>g,a5:()=>h,b7:()=>m,gP:()=>p,sl:()=>c});var n=s("./node_modules/nullthrows/nullthrows.js"),o=s.n(n),a=s("./node_modules/reselect/lib/index.js"),r=s("./app/j/study-modes/legacy-common/selectors.ts"),i=s("./app/j/study-modes/legacy-common/settings/selectors/index.ts"),l=s("./app/j/syncers/SessionSyncer.ts");const d=(0,a.createSelector)(r.p,(e=>e.sessions)),u=(0,a.createSelector)(d,(e=>e.initialSessions)),c=(0,a.createSelector)([u,i.zg],((e,t)=>t?e.starred:e.unstarred)),p=(0,a.createSelector)(d,(e=>e.personId)),m=(0,a.createSelector)(d,(e=>e.serverTimestamp)),g=(0,a.createSelector)(d,(e=>e.sessionLuid)),h=e=>{const t=g(e);return t?l.Z.getModel(t).getProperties():null},_=e=>{const t=g(e),s=o()(t,"You must initialize a session before selecting it");return l.Z.getModel(s).getProperties()}},"./app/j/study-modes/legacy-common/settings/actions.ts":(e,t,s)=>{"use strict";s.d(t,{CZ:()=>y,D5:()=>j,Lh:()=>f,W6:()=>b,aI:()=>g,bL:()=>h,ex:()=>T,hv:()=>x,j$:()=>A,oE:()=>_,t0:()=>E,zS:()=>S});var n=s("./node_modules/lodash/merge.js"),o=s.n(n),a=s("./app/j/global/Quizlet.ts"),r=s("./node_modules/nullthrows/nullthrows.js"),i=s.n(r),l=s("./app/j/study-modes/legacy-common/engine/actions.ts"),d=s("./app/j/study-modes/legacy-common/settings/selectors/index.ts"),u=s("./app/j/study-modes/legacy-common/settings/utils/syncPreferenceSettings.ts"),c=s("./app/j/study-modes/legacy-common/studiable-data/selectors.ts"),p=s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"),m=s("./app/j/utils/tamperProofNow.ts");let g;!function(e){e.SET_IS_OPTIONS_MODAL_OPEN="STUDY_MODES_COMMON.SETTINGS.SET_IS_OPTIONS_MODAL_OPEN",e.CHANGE_PREFERENCE="STUDY_MODES_COMMON.SETTINGS.CHANGE_PREFERENCE",e.RESTART_USER_STUDYABLE="STUDY_MODES_COMMON.SETTINGS.RESTART_USER_STUDYABLE",e.SETUP_SETTINGS="STUDY_MODES_COMMON.SETTINGS.SETUP_SETTINGS",e.UPDATE_ACCEPTS_PARTIAL_ANSWER="STUDY_MODES_COMMON.SETTINGS.UPDATE_ACCEPTS_PARTIAL_ANSWER",e.UPDATE_ACCEPTS_SMART_GRADING="STUDY_MODES_COMMON.SETTINGS.UPDATE_ACCEPTS_SMART_GRADING",e.UPDATE_TYPO_HELP_SETTING="STUDY_MODES_COMMON.SETTINGS.UPDATE_TYPO_HELP_SETTING",e.UPDATE_AD_MODAL_STATE="STUDY_MODES_COMMON.SETTINGS.UPDATE_AD_MODAL_STATE"}(g||(g={}));const h=e=>(0,p.action)(g.SET_IS_OPTIONS_MODAL_OPEN,e),_=e=>(0,p.action)(g.RESTART_USER_STUDYABLE,e),S=e=>(0,p.action)(g.UPDATE_ACCEPTS_PARTIAL_ANSWER,e),f=e=>(0,p.action)(g.UPDATE_ACCEPTS_SMART_GRADING,e),y=e=>(0,p.action)(g.UPDATE_TYPO_HELP_SETTING,e),j=e=>(t,s)=>{const n=s(),a=(0,d.Gw)(n),r={...a,preferences:o()({},a.preferences,e)};var i;t((i=r,(0,p.action)(g.SETUP_SETTINGS,i)))},E=()=>(e,t)=>{const s=(0,d.nI)(t());var n;e((n={adModalShownAt:(0,m.Z)(),adModalTimesShown:s.adModalTimesShown+1},(0,p.action)(g.UPDATE_AD_MODAL_STATE,n)))};const T=e=>(t,s)=>{const n=s(),o=(0,d.Iz)(n),r=function(e){const t=i()(e.questionTypes),s={...t,matching:!1,multipleChoiceWithNoneOption:!1,copyAnswer:t.written};return{...e,questionTypes:s}}(e);var l;t((l=r,(0,p.action)(g.CHANGE_PREFERENCE,l))),function(e,t,s){if(e.studyStarredOnly!==t.studyStarredOnly){const e=(0,d.$2)(s),n=(0,d.LP)(s),o=t.studyStarredOnly?n:e;window.history.pushState({},"",o)}}(o,r,n);!(0,d.Gw)(s()).display.isCookieSupportEnabled||!a.Z.user&&(0,d.QE)(n)||(0,u.ZP)(o,r,{personId:(0,d.gP)(n),studyableId:(0,c.uf)(n),studyableType:(0,c.Sd)(n)},(0,d.ez)(n))},x=e=>(t,s)=>{const n=s(),o=(0,d.Iz)(n);t(T({...o,studyStarredOnly:e}))},b=e=>(t,s)=>{t((e=>(t,s)=>{t(S(e));const n=s(),o=(0,d.gP)(n),a=(0,c.uf)(n),r=(0,c.Sd)(n);(0,u.tA)(e,o,a,r)})(e));const n=(0,d.Id)(s()),o=(0,d.qg)(s());t((0,l.DQ)({acceptsPartialAnswer:e,acceptsAnswersWithTypos:n,acceptsSmartGrading:o}))},A=e=>(t,s)=>{var n,o;t((0,l.DQ)({acceptsPartialAnswer:null!=(n=(0,d.R9)(s()))&&n,acceptsAnswersWithTypos:e,acceptsSmartGrading:null!=(o=(0,d.qg)(s()))&&o}))}},"./app/j/study-modes/legacy-common/settings/selectors/index.ts":(e,t,s)=>{"use strict";s.d(t,{$2:()=>m,Aq:()=>R,BG:()=>g,Cr:()=>_,FE:()=>d,FZ:()=>D,G$:()=>E,Gw:()=>i,Id:()=>M,Iz:()=>T,J1:()=>U,LP:()=>y,Lf:()=>p,P_:()=>b,QE:()=>c,R9:()=>x,SN:()=>f,V2:()=>S,Xz:()=>L,Yo:()=>k,ZB:()=>u,b:()=>P,e:()=>C,ez:()=>j,gP:()=>h,iv:()=>w,nI:()=>l,o3:()=>A,pE:()=>I,qg:()=>O,zK:()=>v,zg:()=>N});var n=s("./app/j/config/enums.ts"),o=s("./node_modules/reselect/lib/index.js"),a=s("./app/j/study-modes/legacy-common/grading/selectors.ts"),r=s("./app/j/study-modes/legacy-common/selectors.ts");const i=(0,o.createSelector)(r.p,(e=>e.settings)),l=(0,o.createSelector)(i,(e=>e.display)),d=(0,o.createSelector)(l,(e=>e.studyModeType===n.aKJ.TEST)),u=(0,o.createSelector)(l,(e=>e.hiddenSettings)),c=((0,o.createSelector)(l,(e=>e.isCookieSupportEnabled)),(0,o.createSelector)(l,(e=>e.isEmbedding))),p=(0,o.createSelector)(l,(e=>e.isOptionsModalOpen)),m=(0,o.createSelector)(l,(e=>e.modePath)),g=((0,o.createSelector)(l,(e=>e.canEditRichText)),(0,o.createSelector)(l,(e=>e.hasNonImageOnlyDefinitions))),h=(0,o.createSelector)(l,(e=>e.personId)),_=(0,o.createSelector)(l,(e=>e.shouldShowAd)),S=(0,o.createSelector)(l,(e=>e.shouldHideEmbedControl)),f=(0,o.createSelector)(l,(e=>e.startTimestamp)),y=(0,o.createSelector)(l,(e=>e.starredModePath)),j=(0,o.createSelector)(l,(e=>e.studyModeType)),E=(0,o.createSelector)(l,(e=>e.userStudyable)),T=(0,o.createSelector)(i,(e=>e.preferences)),x=(0,o.createSelector)(T,(e=>e.acceptsPartialAnswer)),b=(0,o.createSelector)(x,(e=>null!==e)),A=(0,o.createSelector)(T,(e=>e.advancedAudioSettings)),I=(0,o.createSelector)(T,(e=>{const{answerWith:t}=e;if(!t)throw new Error("You must setup settings with recommended answerWith setting");return e.answerWith})),v=(0,o.createSelector)(T,(e=>e.isAudioOn)),C=((0,o.createSelector)(T,(e=>e.cardsShuffleSeed)),(0,o.createSelector)(l,(e=>{var t;return null!=(t=null==e?void 0:e.isAdsInCardsPreviewEnabled)&&t})),(0,o.createSelector)(T,(e=>e.sortingOn)),(0,o.createSelector)(T,(e=>e.locationQuestionTypes)),(0,o.createSelector)(T,(e=>{const{promptWith:t}=e;if(!t)throw new Error("You must setup settings with recommended promptWith setting");return e.promptWith}))),w=(0,o.createSelector)(T,(e=>{const{questionTypes:t}=e;if(!t)throw new Error("You must setup settings with recommended questionTypes setting");return e.questionTypes})),N=(0,o.createSelector)(T,(e=>e.studyStarredOnly)),O=((0,o.createSelector)(T,(e=>{const{writtenTypes:t}=e;if(!t)throw new Error("You must setup settings with recommended writtenTypes setting");return e.writtenTypes})),(0,o.createSelector)([T,a.lc],((e,t)=>e.smartGrading&&t))),M=(0,o.createSelector)([T,a.lc],((e,t)=>e.smartGrading&&t||e.typoHelpGradingSetting)),L=(0,o.createSelector)(T,(e=>e.typoHelpGradingSetting)),D=(0,o.createSelector)(T,(e=>e.studyPath)),R=(0,o.createSelector)(T,(e=>e.studyPathGoal)),P=(0,o.createSelector)(T,(e=>e.studyPathKnowledgeLevel)),k=(0,o.createSelector)(T,(e=>e.guidanceDisabled)),U=(0,o.createSelector)([x,L,O],((e,t,s)=>({acceptsPartialAnswer:null!=e&&e,acceptsAnswersWithTypos:t,acceptsSmartGrading:null!=s&&s})))},"./app/j/study-modes/legacy-common/settings/utils/index.ts":(e,t,s)=>{"use strict";s.d(t,{HU:()=>p,TR:()=>i,gQ:()=>m,jo:()=>c,ov:()=>l});s("./node_modules/core-js/modules/es.array.reduce.js");var n=s("./app/j/config/enums.ts"),o=s("./app/j/config/study-setting-metadata.ts"),a=s("./app/j/legacyAssistant/types/QAssistantModeTypes.ts");const r=(e,t)=>Object.keys(t).reduce(((s,n)=>(e[n]&&s.push(t[n]),s)),[]),i=e=>null===e?[]:r(e,{definition:n.dU_.DEFINITION,term:n.dU_.WORD,location:n.dU_.LOCATION}),l=(e,t,s,o,l)=>{return{enabledQuestionTypes:(u=e,null===u?[]:r(u,{copyAnswer:(0,a.Q)().copyAnswer,fillInTheBlank:(0,a.Q)().fillInTheBlank,matching:(0,a.Q)().matching,multipleChoice:(0,a.Q)().multipleChoice,multipleChoiceWithNoneOption:(0,a.Q)().multipleChoiceWithNoneOption,revealSelfAssessment:(0,a.Q)().revealSelfAssessment,written:(0,a.Q)().written,spelling:(0,a.Q)().spelling})),enabledPromptSides:i(t),enabledAnswerSides:i(s),enabledWrittenAnswerSides:(d=o,null===d?[]:r(d,{definition:n.dU_.DEFINITION,term:n.dU_.WORD})),enabledLocationQuestionTypes:l};var d,u},d=e=>{const{bitValues:t}=o.ZP.ASSISTANT_MODE_QUESTION_TYPES;return{copyAnswer:e.includes(t.copyAnswer),fillInTheBlank:e.includes(t.fillInTheBlank),matching:e.includes(t.matching),multipleChoice:e.includes(t.multipleChoice),multipleChoiceWithNoneOption:e.includes(t.multipleChoiceWithNoneOption),revealSelfAssessment:e.includes(t.revealSelfAssessment),written:e.includes(t.written),spelling:e.includes(t.spelling)}},u=e=>({definition:e.includes(n.dU_.DEFINITION),term:e.includes(n.dU_.WORD),location:e.includes(n.dU_.LOCATION)}),c=e=>{return{answerWith:u(e.enabledAnswerSides),locationQuestionTypes:e.enabledLocationQuestionTypes,promptWith:u(e.enabledPromptSides),questionTypes:d(e.enabledQuestionTypes),writtenTypes:(t=e.enabledWrittenAnswerSides,{definition:t.includes(n.dU_.DEFINITION),term:t.includes(n.dU_.WORD)})};var t};function p(e,t){return s=e,n=t,Object.keys(n).reduce(((e,t)=>{if("locationQuestionTypes"===t)return e;const o=n[t];return null==o||o.length<1?e[t]=s[t]:e[t]=o,e}),{});var s,n}function m(e,t,s){return Object.keys(e).reduce(((n,o)=>{const a=t[o],r=s&&"questionTypes"===o;return null==a||a.length<1||r?n[o]=e[o]:n[o]=a,n}),{})}},"./app/j/study-modes/legacy-common/settings/utils/syncPreferenceSettings.ts":(e,t,s)=>{"use strict";s.d(t,{ZP:()=>y,Ex:()=>g,tA:()=>S});var n=s("./node_modules/lodash/isEqual.js"),o=s.n(n),a=s("./node_modules/lodash/flatten.js"),r=s.n(a),i=(s("./node_modules/core-js/modules/es.array.reduce.js"),s("./app/j/config/enums.ts")),l=s("./app/j/legacyAssistant/types/QAssistantModeTypes.ts");var d=s("./app/j/syncers/StudySettingSyncer.ts"),u=s("./app/j/utils/ensureArray.ts"),c=s("./app/j/utils/log-page-action.ts"),p=s("./app/j/utils/StudySettingEncodingHelper.ts");function m(e){switch(e){case"definition":return i.kH9.DEFINITION;case"term":case"word":return i.kH9.WORD;case"location":return i.kH9.LOCATION;default:return i.kH9.UNKNOWN}}function g(e,t){return Object.keys(t).filter((s=>!o()(t[s],e[s]))).reduce(((e,s)=>(e[s]=t[s],e)),{})}function h(e){if("boolean"==typeof e||"number"==typeof e)throw new Error("Cannot treat boolean as an immutable Map");return e}function _(e){return(0,p.S5)(Object.keys(e).filter((t=>!!e[t])).map(m).filter((e=>e!==i.kH9.UNKNOWN)))}function S(e,t,s,n){const o=i.Std.FLEXIBLE_GRADING_ACCEPT_PARTIAL_ANSWERS,a=e?1:0;d.Z.addAndSave({personId:t,settingType:o,settingValue:a,studyableId:s,studyableType:n})}function f(e,t,s,n){switch(void 0===n&&(n=!1),t){case"isAudioOn":return e===i.aKJ.SPELLER?{settingType:i.Std.ASSISTANT_SPELL_MODE_AUDIO_ENABLED,settingValue:!!s}:{settingType:i.Std.TAP_TO_PLAY_AUDIO,settingValue:!!s};case"promptWith":{const t=function(e){switch(e){case i.aKJ.LEARNING_ASSISTANT:return i.Std.PROMPT_TERM_SIDES;case i.aKJ.FLASHCARDS:return i.Std.CARDS_PROMPT_SIDES;case i.aKJ.WRITE:return i.Std.WRITE_PROMPT_SIDES;case i.aKJ.SPELLER:default:return null}}(e);return t?{settingType:t,settingValue:_(h(s))}:[]}case"answerWith":{const t=function(e){switch(e){case i.aKJ.LEARNING_ASSISTANT:return i.Std.ANSWER_TERM_SIDES;case i.aKJ.WRITE:return i.Std.WRITE_ANSWER_SIDES;case i.aKJ.FLASHCARDS:return i.Std.CARDS_ANSWER_SIDES;case i.aKJ.SPELLER:return i.Std.SPELL_ANSWER_SIDES;default:throw new Error("All study modes should contain answer with study setting type")}}(e);return t?{settingType:t,settingValue:_(h(s))}:[]}case"questionTypes":{if(e!==i.aKJ.LEARNING_ASSISTANT)return[];const t=Object.keys(h(s)).filter((e=>!!s[e])).map((e=>(0,l.Q)()[e]||0));return{settingType:i.Std.ASSISTANT_MODE_QUESTION_TYPES,settingValue:t.reduce(((e,t)=>e|t)),...n&&{settingValueRaw:t}}}case"writtenTypes":return[{settingType:i.Std.ASSISTANT_MODE_WRITTEN_DEFINITION_SIDE,settingValue:!!h(s).term},{settingType:i.Std.ASSISTANT_MODE_WRITTEN_WORD_SIDE,settingValue:!!h(s).definition}];case"advancedAudioSettings":return[{settingType:i.Std.ASSISTANT_MODE_WORD_AUDIO_ENABLED,settingValue:!!h(s).wordEnabled},{settingType:i.Std.ASSISTANT_MODE_DEFINITION_AUDIO_ENABLED,settingValue:!!h(s).definitionEnabled},{settingType:i.Std.ASSISTANT_MODE_SLOW_WORD_AUDIO,settingValue:!!h(s).slowWordEnabled},{settingType:i.Std.ASSISTANT_MODE_SLOW_DEFINITION_AUDIO,settingValue:!!h(s).slowDefinitionEnabled}];case"acceptsPartialAnswer":return{settingType:i.Std.FLEXIBLE_GRADING_ACCEPT_PARTIAL_ANSWERS,settingValue:!!s};case"typoHelpGradingSetting":return{settingType:i.Std.FLEXIBLE_GRADING_ACCEPT_ANSWERS_WITH_TYPOS,settingValue:!!s};case"smartGrading":return{settingType:i.Std.SMART_GRADING,settingValue:!!s};case"studyPath":return{settingType:i.Std.STUDY_PATH,settingValue:Number(s)};case"guidanceDisabled":return{settingType:i.Std.GUIDANCE_DISABLED,settingValue:!!s};case"sortingOn":return{settingType:i.Std.CARDS_SORTING_ON,settingValue:!!s};case"cardsShuffleSeed":return{settingType:i.Std.CARDS_SHUFFLE_RANDOM_SEED,settingValue:Number(s)};case"studyStarredOnly":return e===i.aKJ.FLASHCARDS?{settingType:i.Std.CARDS_SELECTED_ONLY,settingValue:!!s}:[];case"shuffle":return{settingType:i.Std.SHUFFLE,settingValue:!!s};default:return[]}}function y(e,t,s,n){const o=r()(Object.keys(g(e,t)).map((e=>{const o=f(n,e,t[e]),a=f(n,e,t[e],!0);return(0,c.Z)("study_options_setting_changed",a),(0,u.Z)(o).map((e=>({...s,...e})))})));o.length&&d.Z.bulkAddAndSave(o)}},"./app/j/study-modes/legacy-common/studiable-data/actions.ts":(e,t,s)=>{"use strict";s.d(t,{Dk:()=>u,MF:()=>d,lr:()=>c});s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/config/enums.ts"),o=s("./app/j/global/Rollbar.ts"),a=(s("./node_modules/nullthrows/nullthrows.js"),s("./app/j/studiable-data/utils.ts"),s("./app/j/study-modes/legacy-common/studiable-data/selectors.ts")),r=s("./app/j/study-modes/legacy-common/utils/studiablesToTermUtils.ts"),i=s("./app/j/syncers/SelectedTermSyncer.ts"),l=(s("./app/j/syncers/TermSyncer.ts"),s("./node_modules/typesafe-actions/dist/typesafe-actions.umd.production.js"));let d;!function(e){e.ADD_STARRED_STUDIABLE_ITEM_ID="STUDY_MODES.COMMON.ADD_STARRED_STUDIABLE_ITEM_ID",e.ADD_STARRED_STUDIABLE_ITEM_ID_SUCCESS="STUDY_MODES.COMMON.ADD_STARRED_STUDIABLE_ITEM_ID_SUCCESS",e.REMOVE_STARRED_STUDIABLE_ITEM_ID="STUDY_MODES.COMMON.REMOVE_STARRED_STUDIABLE_ITEM_ID",e.REMOVE_STARRED_STUDIABLE_ITEM_ID_SUCCESS="STUDY_MODES.COMMON.REMOVE_STARRED_STUDIABLE_ITEM_ID_SUCCESS",e.REPLACE_STUDIABLE_ITEM="STUDY_MODES.COMMON.REPLACE_STUDIABLE_ITEM"}(d||(d={}));const u=(e,t)=>async(s,u)=>{const c=u();let p=(0,a.uf)(c);if((0,a.Sd)(c)!==n.MG.SET){const t=(0,a.h1)(c)[e];if(t.studiableContainerType!==n.MG.SET)throw new Error("Unsupported studiable item with a studiable container != SET.");p=t.studiableContainerId}s((e=>(0,l.action)(d.ADD_STARRED_STUDIABLE_ITEM_ID,e))(e));try{const n=(0,r.K)(e),[o,a]=await i.Z.addAndSave({termId:n,setId:p,source:t});s((m=a.properties,(0,l.action)(d.ADD_STARRED_STUDIABLE_ITEM_ID_SUCCESS,m)))}catch(g){o.Z.warn("Failed API request on selected-terms.",g)}var m},c=e=>async(t,s)=>{const n=s(),u=(0,a.Jh)(n),c=(0,r.K)(e);t((e=>(0,l.action)(d.REMOVE_STARRED_STUDIABLE_ITEM_ID,e))(e));try{const s=u[c],n=i.Z.add(s);await i.Z.del(n),t((e=>(0,l.action)(d.REMOVE_STARRED_STUDIABLE_ITEM_ID_SUCCESS,e))(e))}catch(p){o.Z.warn("Failed API request on selected-terms.",p)}}},"./app/j/study-modes/legacy-common/studiable-data/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{Uv:()=>k,hy:()=>B,UR:()=>N,CF:()=>S,aW:()=>x,hJ:()=>D,Th:()=>U,XQ:()=>w,kx:()=>O,bs:()=>E,cg:()=>f,Nw:()=>L,Jh:()=>M,kI:()=>W,mW:()=>T,Cv:()=>_,uf:()=>R,ZM:()=>Z,Sd:()=>P,r9:()=>j,TQ:()=>p,hX:()=>h,mb:()=>m,h1:()=>g,f3:()=>F,lb:()=>A});var n=s("./node_modules/lodash/keyBy.js"),o=s.n(n),a=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/j/config/enums.ts")),r=s("./app/j/global/Rollbar.ts"),i=s("./node_modules/@quizlet/progress/quizlet-shared-kotlin-progress.js");var l=s("./node_modules/reselect/lib/index.js"),d=s("./app/j/studiable-data/utils.ts"),u=s("./app/j/study-modes/legacy-common/selectors.ts"),c=s("./app/j/study-modes/legacy-common/settings/selectors/index.ts");const p=(0,l.createSelector)(u.p,(e=>e.studiableData)),m=(0,l.createSelector)(p,(e=>e.studiableItems)),g=(0,l.createSelector)(m,(e=>o()(e,(e=>e.id)))),h=(0,l.createSelector)(p,(e=>e.studiableItems.map((e=>e.id)))),_=(0,l.createSelector)(p,(e=>e.starredStudiableItemIds)),S=(0,l.createSelector)(p,(e=>e.crossModeResetTimestamp)),f=(0,l.createSelector)(p,(e=>e.progressBucketName)),y=(0,l.createSelector)(p,(e=>e.studySummaries)),j=(0,l.createSelector)([p,c.zg,_,y,f,S],((e,t,s,n,o,a)=>{const{studiableItems:l,studiableContainer:d,studiableMetadataByType:u,setIdToDiagramImage:c,exampleSentenceByStudiableItemId:p}=e;let m=new Set;if(!t&&void 0!==n){const e=l.map((e=>e.id)),t=function(e,t){const s=e.map((e=>({containerId:e.id,itemIds:e.termIds,resetTime:null!==e.crossModeResetTimestamp?1e3*e.crossModeResetTimestamp:null}))),n=t.map((e=>({...e,date:1e3*e.date,answerHistory:e.answerHistory.map((e=>({...e,timestamp:1e3*e.timestamp})))})));return i.ProgressGeneratorJs.getProgress(s,n)}([{...d,termIds:e,crossModeResetTimestamp:a}],n||[]),s=t[d.id];null==s&&r.Z.error("Progress buckets for studiable container: "+d.id+" does not exist, got progress buckets by set id: "+t);const u=s[o];m=new Set(u.map(Number))}const g=t?s:m;return 0===g.size?{studiableItems:l,setIdToDiagramImage:c,exampleSentenceByStudiableItemId:p,studiableMetadataByType:u}:function(e,t){const{studiableItems:s}=e,n=s.filter((e=>t.has(e.id)));return{...e,studiableItems:n}}({studiableItems:l,setIdToDiagramImage:c,exampleSentenceByStudiableItemId:p,studiableMetadataByType:u},g)})),E=(0,l.createSelector)(j,(e=>e.studiableItems.some((e=>!!(0,d.F_)(e)&&e.cardSides.some(d.p))))),T=(0,l.createSelector)([p,E],((e,t)=>{if(!t)return!1;for(const n of(0,d.c4)(e.studiableItems.filter(d.F_),a.dU_.DEFINITION)){var s;const e=(0,d.p)(n),t=(0,d.xy)(n);if(e&&""===(null!=(s=null==t?void 0:t.plainText)?s:""))return!1}return!0})),x=(0,l.createSelector)(p,(e=>b(e.studiableItems,a.dU_.DEFINITION)));function b(e,t){for(const s of(0,d.c4)(e.filter(d.F_),t)){const e=(0,d.xy)(s);if(e)return e.languageCode}return null}const A=(0,l.createSelector)(p,(e=>b(e.studiableItems,a.dU_.WORD))),I=(0,l.createSelector)(p,(e=>!1===(0,d.c4)(e.studiableItems.filter(d.F_),a.dU_.WORD).next().done)),v=(0,l.createSelector)(p,(e=>!1===(0,d.c4)(e.studiableItems.filter(d.F_),a.dU_.DEFINITION).next().done)),C=(0,l.createSelector)(p,(e=>e.studiableContainer)),w=(0,l.createSelector)(p,(e=>{var t;return Object.keys(null!=(t=e.setIdToDiagramImage)?t:{}).length>0})),N=(0,l.createSelector)(I,v,w,((e,t,s)=>({definition:t,location:s,term:e}))),O=(0,l.createSelector)(j,(e=>{var t;return(null==e?void 0:e.studiableMetadataByType)&&!(null==(t=e.studiableMetadataByType[a._KG.FILL_IN_THE_BLANK_KEYPHRASES])||!t.length)})),M=(0,l.createSelector)(p,(e=>e.selectedTerms)),L=(0,l.createSelector)(_,(e=>{var t;return null!=(t=e.size)?t:0})),D=(0,l.createSelector)(p,(e=>e.diagramImages?e.diagramImages[0]:null)),R=(0,l.createSelector)(C,(e=>e.id)),P=(0,l.createSelector)(p,(e=>e.studiableContainerType)),k=(0,l.createSelector)(p,(e=>e.accents)),U=(0,l.createSelector)(m,(e=>e.some((e=>e.type===a.zqd.MULTIPLE_CHOICE_QUESTION)))),W=(0,l.createSelector)(_,(e=>e.size>0)),Z=(0,l.createSelector)(C,(e=>"title"in e?e.title:e.name)),F=(0,l.createSelector)(C,(e=>e._webUrl)),B=(0,l.createSelector)(p,(e=>{const t=e.studiableItems.filter(d.F_);for(const s of(0,d.c4)(t,a.dU_.DEFINITION)){if(!s.media.some((e=>{if(e.type!==a.DDH.TEXT)return!1;const t=e,s=""===t.plainText&&!t.richText;return t.languageCode!==a.spR.PHOTOS&&!s})))return!1}return!0}))},"./app/j/study-modes/legacy-common/utils/createCardSideSettings.ts":(e,t,s)=>{"use strict";function n(e){return{term:e("term"),definition:e("definition"),location:e("location")}}s.d(t,{Z:()=>n})},"./app/j/study-modes/legacy-common/utils/label-utils.ts":(e,t,s)=>{"use strict";s.d(t,{O$:()=>r,hC:()=>o,yW:()=>a});s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var n=s("./app/j/config/enums.ts");function o(e,t){switch(t){case n.dU_.WORD:return e("assistant.label.term");case n.dU_.DEFINITION:return e("assistant.label.definition");default:return e("assistant.label.term")}}function a(e,t){switch(t){case n.dU_.WORD:return e("assistant.label.term");case n.dU_.DEFINITION:return e("assistant.label.definition");case n.dU_.LOCATION:return e("assistant.label.location");default:return e("assistant.label.term")}}function r(e,t){const s=[t];0!==t&&s.push(0);for(const o of s){switch(e-3*o){case 0:return n.dU_.WORD;case 1:return n.dU_.DEFINITION;case 2:return n.dU_.LOCATION}}return null}},"./app/j/study-modes/legacy-common/utils/legacyRenderStudyMode.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>q});s("./node_modules/core-js/modules/es.promise.js");var n=s("./app/j/audio_playback/index.ts"),o=s("./app/j/config/enums.ts"),a=s("./app/j/core/default_store/DefaultStoreProvider.tsx"),r=s("./app/j/core/legacy_store/LegacyStoreProvider.tsx"),i=s("./node_modules/react/index.js"),l=s("./app/j/study-modes/legacy-common/index.ts"),d=s("./node_modules/react-redux/lib/index.js"),u=s("./node_modules/redux/lib/redux.js"),c=s("./node_modules/reselect/lib/index.js"),p=s("./app/j/study-modes/learn/selectors/view.ts"),m=s("./node_modules/lodash/noop.js"),g=s.n(m),h=(s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/@linaria/core/lib/index.js")),_=s("./app/j/ads/components/ActionBasedAutoRefreshAd.tsx"),S=s("./app/j/ads/components/Ad.tsx"),f=s("./app/j/context/UserContext.ts"),y=s("./app/j/study-modes/legacy-common/misc/ads/selectors.ts"),j=s("./app/j/study-modes/legacy-common/settings/selectors/index.ts"),E=s("./app/j/study-modes/redesigned_cards/data/engine/selectors.ts"),T=s("./app/j/utils/isAdBlockerEnabled.ts");var x=s("./app/j/ads/context/StudyModeAdsContext.tsx"),b=s("./app/j/components/DeprecatedModeLayout.tsx"),A=s("./app/j/components/ModeLayout.tsx"),I=s("./app/j/signup/components/AuthPromptModal.tsx"),v=s("./app/j/signup/types/auth.ts"),C=s("./app/j/study-modes/learn/types.ts"),w=s("./app/j/study-modes/legacy-common/hooks/useShouldSeeSignupWall.ts"),N=s("./app/j/utils/onPageHidden.ts"),O=s("./node_modules/react/jsx-runtime.js");const M=i.memo((function(e){return e.isBrandedContentSet?(0,O.jsx)(S.Z,{headingAlignment:"block",id:e.sidebarAdsId}):(0,O.jsx)(_.Z,{id:e.sidebarAdsId,lastActionTimestamp:e.lastActionTimestamp})})),L=i.memo((function(e){return(0,O.jsx)(S.Z,{headingAlignment:"centerAlign",id:e.footerAdsId})})),D={[o.aKJ.LEARNING_ASSISTANT]:v.V.LEARN,[o.aKJ.TEST]:v.V.TEST};s("./.linaria-cache/app/j/study-modes/legacy-common/components/StudyModesLayout.linaria.css");var R=s("./app/j/study-modes/legacy-common/metering/selectors.ts"),P=s("./app/j/study-modes/legacy-common/misc/ab_tests/selectors.ts"),k=s("./app/j/study-modes/legacy-common/sessions/actions.ts"),U=s("./app/j/study-modes/legacy-common/studiable-data/selectors.ts"),W=s("./app/j/study-modes/redesigned_cards/data/ads/selectors.ts"),Z=s("./app/j/study-modes/test/selectors/ads.ts");const F=(0,c.createStructuredSelector)({adsIds:y.SV,currentView:p.R5,isAdModalView:p.KL,isBrandedContentSet:y.nm,isEmbedding:j.QE,lastActionTimestamp:y.Xb,shouldBeFullHeight:j.FE,shouldShowAd:j.Cr,shouldHideEmbedControl:j.V2,shouldShowNewStudyBreak:y.cS,shouldShowStudyTopNav:P.rU,shouldShowTasksScreen:p.O8,studyModeType:j.ez,studyableId:U.uf,studyablePath:U.f3,isSignupWallUnlocked:R.kn}),B=(0,c.createStructuredSelector)({isCardsModeAdView:W.iJ,isTestModeAdView:Z.X}),G=(0,u.compose)((0,d.connect)(F,(e=>({actions:(0,u.bindActionCreators)({exitSession:k.mc},e)})),null,{context:r.tC}),(0,d.connect)(B,null,null,{context:a.jJ}))((function(e){const{actions:t,adsIds:s,currentView:n,isBrandedContentSet:l,isEmbedding:d,lastActionTimestamp:u,shouldShowStudyTopNav:c,studyModeType:p,studyableId:m,studyablePath:_,isSignupWallUnlocked:S}=e,v=(0,i.useContext)(f.Z),R=(null==v?void 0:v.type)===o.XsQ.NO_UPGRADE,P=(0,w.Z)(D[p],d,S),[k,U]=(0,i.useState)(P);(0,i.useEffect)((()=>{if([o.aKJ.TEST].includes(p))return g();const e=(0,N.Z)((()=>t.exitSession()),!0);return()=>e.remove()}),[p,t]);const W=function(){const e=(0,i.useContext)(f.Z),t=(null==e?void 0:e.type)===o.XsQ.PLUS,s=(0,r.v9)(j.Cr),n=(0,a.v9)(E.B5),l=(0,r.v9)(y.cS);return e=>!n&&!!e&&!t&&s&&!l&&!(0,T.ZP)()}(),Z=c?A.Z:b.Z;return P?(0,O.jsx)(I.q,{additionalLogData:{studiableContainerId:m},barrierType:"escapableWall",escapePath:_,isOpen:k,onClose:()=>{U(!1)},onOpen:()=>{U(!0)},placement:D[p]}):(0,O.jsx)(x.Uw,{children:(0,O.jsx)("div",{className:(0,h.cx)("StudyModesLayout",n===C.py.TASK_ROUND_CHECKPOINT&&R?"r1t8rjpq":null,e.isEmbedding?"exvi2fd":null),children:(0,O.jsx)(Z,{adUnit:(F=s.sidebarAdsId,W(F)?(0,O.jsx)(M,{isBrandedContentSet:l,lastActionTimestamp:u,sidebarAdsId:F}):null),controls:e.modeControls,isEmbedding:e.isEmbedding,isTaskCardScreen:n===C.py.TASK_COMPLETION_CHECKPOINT||n===C.py.TASK_SEQUENCE_COMPLETION_CHECKPOINT,isTaskRoundCheckpointScreen:n===C.py.TASK_ROUND_CHECKPOINT||n===C.py.TASK_COMPLETION_CHECKPOINT,mWebAdUnit:e.shouldShowAd&&s.footerAdsId?(e=>(0,O.jsx)(L,{footerAdsId:e}))(s.footerAdsId):null,onCloseAdModal:e.closeAdModalAndGoToTheNextStep,shouldBeFullHeight:e.shouldBeFullHeight,shouldHaveNoPadding:e.shouldShowNewStudyBreak||e.shouldShowTasksScreen||e.studyModeType===o.aKJ.FLASHCARDS,shouldHideEmbedControl:e.shouldHideEmbedControl,shouldShowNewStudyBreak:e.shouldShowNewStudyBreak,showAdModal:e.shouldShowAd&&(e.isAdModalView||e.isTestModeAdView||e.isCardsModeAdView),studyableId:e.studyableId,studyablePath:e.studyablePath,studyModeType:e.studyModeType,children:e.children})})});var F}));var H=s("./app/j/study-modes/subs/contexts/LearnTestPaywallContextProvider.tsx"),V=s("./app/j/study-modes/subs/contexts/UpgradeContextProvider.tsx"),z=s("./app/j/utils/metering/MeteringPlus.tsx"),K=s("./app/j/utils/readReactTarget.ts"),Q=s("./app/j/utils/renderReactAppToDOM.tsx");async function q(e,t,s,i,d){var u,c,p,m,g,h;const{target:_,data:S}=await(0,K.Z)("AssistantMode"),f={...S,...s};(0,l.Z)(f),(0,n.ZP)(),i&&d?await i(S):i&&i(S);const y=null!=(u=null==f||null==(c=f.metering)||null==(p=c.meteringData)?void 0:p[o.jrE.LEARN_CHECKPOINT])?u:null,j=null!=(m=null==f||null==(g=f.metering)||null==(h=g.meteringData)?void 0:h[o.jrE.TEST_SUBMISSION])?m:null;return(0,Q.Z)((0,O.jsx)(a.ZP,{children:(0,O.jsx)(r.ZP,{children:(0,O.jsx)(z.eW,{learnMeteringMeta:y,children:(0,O.jsx)(z.w_,{testMeteringMeta:j,children:(0,O.jsx)(V.r,{upgradeData:f,children:(0,O.jsx)(H.l,{children:(0,O.jsx)(G,{closeAdModalAndGoToTheNextStep:s.closeAdModalAndGoToTheNextStep,modeControls:(0,O.jsx)(t,{}),children:(0,O.jsx)(e,{})})})})})})})}),_),S}},"./app/j/study-modes/legacy-common/utils/studiablesToTermUtils.ts":(e,t,s)=>{"use strict";s.d(t,{K:()=>o,Q:()=>a});var n=s("./app/j/config/enums.ts");const o=e=>e,a=e=>{switch(e){case n.dU_.WORD:return n.kH9.WORD;case n.dU_.DEFINITION:return n.kH9.DEFINITION;case n.dU_.LOCATION:return n.kH9.LOCATION;default:throw new Error("Unrecognized card side label: "+e)}}},"./app/j/study-modes/legacy-common/utils/studyModeAdHelper.ts":(e,t,s)=>{"use strict";s.d(t,{$:()=>l,W:()=>d});var n=s("./app/j/ads/AdsHelper.ts"),o=s("./app/j/ads/utils/screenSizes.ts"),a=s("./app/j/study-modes/legacy-common/settings/selectors/index.ts"),r=s("./app/j/utils/isAdBlockerEnabled.ts"),i=s("./app/j/utils/viewport.ts");const l=e=>(0,i.getWidth)()>o.r.tiny[0]&&(0,i.getHeight)()>o.r.tiny[1]&&(0,a.Cr)(e())&&!(0,r.ZP)(),d=e=>e.shouldShowAd&&(0===e.adModalTimesShown||e.adModalTimesShown>0&&(0,n.Rk)(e.adModalShownAt,5))},"./app/j/study-modes/redesigned_cards/constants.ts":(e,t,s)=>{"use strict";s.d(t,{Cy:()=>d,M6:()=>l,X4:()=>c,ou:()=>p,u1:()=>m,wD:()=>u});var n=s("./app/j/ads/enums/AdsNames.ts"),o=s("./app/j/config/enums.ts"),a=s("./app/j/core/default_store/DefaultStore.ts"),r=s("./app/j/study-modes/redesigned_cards/data/ads/index.ts"),i=s("./app/j/study-modes/redesigned_cards/data/constants.ts");const l=500,d=4,u=100,c=28;let p;!function(e){e.MODE="mode",e.SET_PAGE="set_page",e.COMMUNITY="community_page"}(p||(p={}));o.Std.ASSISTANT_MODE_QUESTION_TYPES,o.Std.FLEXIBLE_GRADING_ACCEPT_PARTIAL_ANSWERS,o.Std.FLEXIBLE_GRADING_ACCEPT_ANSWERS_WITH_TYPOS,o.Std.SMART_GRADING,o.aKJ.FLASHCARDS,p.SET_PAGE;const m={hiddenSettings:[o.Std.ASSISTANT_MODE_QUESTION_TYPES,o.Std.FLEXIBLE_GRADING_ACCEPT_PARTIAL_ANSWERS,o.Std.FLEXIBLE_GRADING_ACCEPT_ANSWERS_WITH_TYPOS,o.Std.SMART_GRADING],questionTypesSetting:{copyAnswer:!1,fillInTheBlank:!1,matching:!1,multipleChoice:!1,multipleChoiceWithNoneOption:!1,revealSelfAssessment:!1,written:!1,spelling:!1},adsIds:{sidebarAdsId:n.h.FLASHCARDS_SIDEBAR,footerAdsId:null},studyModeType:o.aKJ.FLASHCARDS,closeAdModalAndGoToTheNextStep:()=>{(0,a.bh)().dispatch((0,r.HL)(i.S1.CARDS_VIEW))}}},"./app/j/study-modes/redesigned_cards/data/ads/index.ts":(e,t,s)=>{"use strict";s.d(t,{C9:()=>m,Cb:()=>p,HL:()=>u,N6:()=>g,S1:()=>l,S9:()=>h,ZP:()=>_,do:()=>c,kc:()=>d});var n=s("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.cjs.production.min.js"),o=s("./app/j/study-modes/redesigned_cards/data/constants.ts"),a=s("./app/j/study-modes/redesigned_cards/data/types.ts");const r=(0,n.createSlice)({name:a.Gq,initialState:{shouldShowCardIntervalAd:!1,cardsView:o.S1.CARDS_VIEW,rvaInMiniFCVariant:null,isRenderingRva:!1,isRewarded:!1,isMwebAdEnabled:!1,mwebAdsState:{areCardsMovingForward:!0,isRenderingMwebAd:!1,isShowingCardsMwebAd:!1,shouldLoadCardsMwebAd:!1,shouldPreloadMwebAd:!1,isAdNoFill:!1}},reducers:{init(e,t){var s,n,o;let{payload:a}=t;e.shouldShowCardIntervalAd=null!=(s=a.shouldShowCardIntervalAd)&&s,e.rvaInMiniFCVariant=null!=(n=a.rvaInMiniFCVariant)?n:null,e.isMwebAdEnabled=null!=(o=a.isMwebAdEnabled)&&o},setAreCardsMovingForward(e,t){let{payload:s}=t;e.mwebAdsState.areCardsMovingForward=s},setIsRenderingMwebAd(e,t){let{payload:s}=t;e.mwebAdsState.isRenderingMwebAd=s},setShouldPreloadMwebAd(e,t){let{payload:s}=t;e.mwebAdsState.shouldPreloadMwebAd=s},setCardsView(e,t){let{payload:s}=t;e.cardsView=s},setIsRenderingRva(e,t){let{payload:s}=t;e.isRenderingRva=s},setIsRewarded(e,t){let{payload:s}=t;e.isRewarded=s},setIsAdNoFill(e,t){let{payload:s}=t;e.mwebAdsState.isAdNoFill=s}}}),i=r.reducer,{init:l,setAreCardsMovingForward:d,setCardsView:u,setIsRenderingMwebAd:c,setIsRenderingRva:p,setIsRewarded:m,setShouldPreloadMwebAd:g,setIsAdNoFill:h}=r.actions,_=i},"./app/j/study-modes/redesigned_cards/data/ads/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{FR:()=>x,GG:()=>A,N1:()=>I,Ot:()=>j,SR:()=>c,Wi:()=>b,YL:()=>f,db:()=>T,eG:()=>E,iJ:()=>_,iy:()=>S,oJ:()=>u,v_:()=>p});var n=s("./app/j/core/default_store/DefaultStore.ts"),o=s("./node_modules/reselect/lib/index.js"),a=s("./app/j/study-modes/redesigned_cards/data/constants.ts"),r=s("./app/j/study-modes/redesigned_cards/data/engine/selectors.ts"),i=s("./app/j/study-modes/redesigned_cards/data/types.ts");const l={numCardsPriorToPreloadAds:2,numCardsToShowAds:7},d=(0,o.createSelector)((0,n.iu)(i.sF),(e=>e.ads)),u=(0,o.createSelector)(d,(e=>e.rvaInMiniFCVariant)),c=(0,o.createSelector)(d,(e=>e.isRenderingRva)),p=(0,o.createSelector)(d,(e=>e.isRewarded)),m=(0,o.createSelector)(d,(e=>e.shouldShowCardIntervalAd)),g=(0,o.createSelector)(d,(e=>e.cardsView)),h=(0,o.createSelector)(g,(e=>e===a.S1.AD_MODAL)),_=e=>i.sF in e&&h(e),S=(0,o.createSelector)(m,(e=>e?{...l,numCardsToShowAds:15}:null)),f=(0,o.createSelector)(d,(e=>e.isMwebAdEnabled)),y=(0,o.createSelector)(d,(e=>e.mwebAdsState)),j=(0,o.createSelector)(y,(e=>e.shouldPreloadMwebAd)),E=(0,o.createSelector)(y,(e=>e.areCardsMovingForward)),T=(0,o.createSelector)(y,(e=>e.isRenderingMwebAd)),x=(0,o.createSelector)(y,(e=>e.isAdNoFill)),b=((0,o.createSelector)(y,(e=>e.isShowingCardsMwebAd)),(0,o.createSelector)(y,(e=>e.shouldLoadCardsMwebAd))),A=(0,o.createSelector)(r.uF,(e=>null==e?void 0:e.shouldShowAds)),I=(0,o.createSelector)(r.uF,(e=>null==e?void 0:e.shouldPreloadAds))},"./app/j/study-modes/redesigned_cards/data/constants.ts":(e,t,s)=>{"use strict";let n;s.d(t,{S1:()=>n,_b:()=>a,cg:()=>o,ou:()=>r}),function(e){e[e.AD_MODAL=0]="AD_MODAL",e[e.CARDS_VIEW=1]="CARDS_VIEW",e[e.FINISHED_VIEW=2]="FINISHED_VIEW",e[e.LEARN_UPSELL_VIEW=3]="LEARN_UPSELL_VIEW",e[e.SIGNUP_WALL=4]="SIGNUP_WALL"}(n||(n={}));const o={acceptsPartialAnswer:!1,answerWith:{definition:!1,location:!1,term:!0},promptWith:{definition:!0,location:!0,term:!1}},a={acceptsPartialAnswer:!1,answerWith:{definition:!0,location:!1,term:!1},promptWith:{definition:!1,location:!1,term:!0}};let r;!function(e){e.MODE="mode",e.SET_PAGE="set_page",e.COMMUNITY="community_page"}(r||(r={}))},"./app/j/study-modes/redesigned_cards/data/engine/selectors.ts":(e,t,s)=>{"use strict";s.d(t,{AY:()=>j,B5:()=>D,E9:()=>A,Gu:()=>f,Gz:()=>T,P:()=>M,UO:()=>v,V9:()=>h,XT:()=>w,Xh:()=>R,bl:()=>P,oK:()=>E,oc:()=>k,rg:()=>x,sx:()=>N,tg:()=>C,uF:()=>L,wG:()=>O,yl:()=>I});var n=s("./app/j/config/enums.ts"),o=s("./app/j/core/default_store/DefaultStore.ts"),a=s("./node_modules/nullthrows/nullthrows.js"),r=s.n(a),i=s("./node_modules/reselect/lib/index.js"),l=s("./app/j/study-modes/cards/constants.ts"),d=s("./app/j/study-modes/cards/utils/index.ts"),u=s("./app/j/study-modes/data/settings/selectors/preference.ts"),c=s("./app/j/study-modes/data/studiable-data/selectors.ts"),p=s("./app/j/study-modes/redesigned_cards/data/types.ts");(0,i.createSelector)((0,o._k)(p.sF),(e=>e));const m=(0,i.createSelector)((0,o.iu)(p.sF),(e=>e.engine)),g=(0,i.createSelector)(m,(e=>e.modeState)),h=(0,i.createSelector)(m,(e=>r()(e.engine))),_=(0,i.createSelector)([u.e,c.XQ],((e,t)=>(0,d.tN)(e,t))),S=(0,i.createSelector)([u.pE,c.XQ],((e,t)=>(0,d.tN)(e,t))),f=(0,i.createSelector)([_,S,u.mm,u.rE],((e,t,s,o)=>({frontCardSide:e,rearCardSide:t,cardOrdering:s?n.Y2X.SHUFFLED:n.Y2X.IN_ORDER,isSortingEnabled:o}))),y=(0,i.createSelector)(g,(e=>{var t;return null!=(t=null==e?void 0:e.progress)?t:null})),j=(0,i.createSelector)(y,(e=>null==e?void 0:e.totalProgress.masteryBuckets.completed.length)),E=(0,i.createSelector)(y,(e=>null==e?void 0:e.totalProgress.masteryBuckets.remaining.length)),T=(0,i.createSelector)(g,(e=>{var t;return null!=(t=null==e?void 0:e.hasActionAvailableToUndo)&&t})),x=(0,i.createSelector)(y,(e=>{if(!e)return null;const{currentRound:t}=e,{isRoundComplete:s}=e.roundProgress;return s?t+1:t})),b=(0,i.createSelector)(y,(e=>{var t;return null!=(t=null==e?void 0:e.roundProgress)?t:null})),A=(0,i.createSelector)(b,(e=>null!==e?e.numCardsCompleted+e.numCardsMovedToNextCycle:null)),I=(0,i.createSelector)([b,A],((e,t)=>{if(null===e)return null;const{isRoundComplete:s,numCards:n}=e;return s?n-1:t})),v=(0,i.createSelector)(b,(e=>{var t;return null!=(t=null==e?void 0:e.numCards)?t:null})),C=(0,i.createSelector)(b,(e=>null==e?void 0:e.numCardsCompleted)),w=(0,i.createSelector)(b,(e=>null==e?void 0:e.numCardsMovedToNextCycle)),N=(0,i.createSelector)(b,(e=>{var t;return null!=(t=null==e?void 0:e.isRoundComplete)?t:null})),O=(0,i.createSelector)(g,(e=>{var t;return null!=(t=null==e?void 0:e.question)?t:null})),M=(0,i.createSelector)(O,(e=>null==e?void 0:e.metadata.studiableItemId)),L=(0,i.createSelector)(m,(e=>e.adsState)),D=e=>{var t;return p.sF in e&&!(null==(t=L(e))||!t.shouldShowAds)},R=(0,i.createSelector)([y,O],((e,t)=>null!=e&&e.roundProgress.isRoundComplete?l.S.FINISHED_VIEW:t?l.S.CARDS_VIEW:void 0)),P=(0,i.createSelector)([c.h1,M],((e,t)=>t?e[t]:null)),k=(0,i.createSelector)(m,(e=>e.isEngineInitialized))},"./app/j/study-modes/redesigned_cards/data/types.ts":(e,t,s)=>{"use strict";s.d(t,{AI:()=>a,Ap:()=>r,DI:()=>o,Gq:()=>i,sF:()=>n});const n="cards",o=n+"/engine",a=n+"/ui",r=n+"/onboarding",i=n+"/ads"},"./app/j/study-modes/spell/types.ts":(e,t,s)=>{"use strict";let n,o;s.d(t,{f:()=>n,k:()=>o}),function(e){e.AD_MODAL="ad_modal",e.EMPTY="empty",e.CHECKPOINT="checkpoint",e.END="end",e.CORRECTION="correction",e.ONBOARDING="onboarding",e.QUESTION="question"}(n||(n={})),function(e){e.CORRECT_ONE_TIME="correctOneTime",e.CORRECT_TWO_TIMES="correctTwoTimes",e.CORRECT_ZERO_TIMES="correctZeroTimes"}(o||(o={}))},"./app/j/study-modes/subs/contexts/LearnTestPaywallContextProvider.tsx":(e,t,s)=>{"use strict";s.d(t,{A:()=>p,l:()=>c});var n=s("./app/j/config/enums.ts"),o=s("./app/j/context/UserContext.ts"),a=s("./app/j/hooks/useQMeasure.ts"),r=s("./node_modules/react/index.js"),i=s("./app/j/study-modes/subs/contexts/UpgradeContextProvider.tsx"),l=s("./node_modules/react/jsx-runtime.js");const d=()=>{const e=(0,a.Z)(),t=(0,i.A)(),s=(0,r.useContext)(o.Z);return{getTestModePaywallCopyVariant:(0,r.useCallback)((()=>t?e.getVariationAndEnroll("TestModePaywallCopy[default,subscriptions]"):null),[e,t]),getIsInTestSocialProofExperiment:(0,r.useCallback)((()=>!((null==s?void 0:s.selfIdentifiedTeacherStatus)===n.IXc.TEACHER)&&e.isInTestVariant("TestModePaywallSocialProof[default,subscriptions]")),[e,null==s?void 0:s.selfIdentifiedTeacherStatus])}},u=(0,r.createContext)(void 0),c=e=>{let{children:t}=e;return(0,l.jsx)(u.Provider,{value:d(),children:t})},p=()=>{const e=(0,r.useContext)(u);if(void 0===e)throw new Error("useLearnTestPaywall must be used within a LearnTestPaywallContextProvider");return e}},"./app/j/study-modes/subs/contexts/UpgradeContextProvider.tsx":(e,t,s)=>{"use strict";s.d(t,{A:()=>l,r:()=>i});var n=s("./node_modules/react/index.js"),o=s("./node_modules/react/jsx-runtime.js");const a=(0,n.createContext)(void 0),r=e=>({isEligibleForFreeTrial:e.isEligibleForFreeTrial}),i=e=>{let{children:t,upgradeData:s}=e;return(0,o.jsx)(a.Provider,{value:r(s),children:t})};function l(){var e;const t=(0,n.useContext)(a);if(void 0===t)throw new Error("useGetIsEligibleForFreeTrial() can only be used in components with a UpgradeContextProvider");return null!=(e=t.isEligibleForFreeTrial)&&e}},"./app/j/study-modes/test/constants.ts":(e,t,s)=>{"use strict";let n;s.d(t,{NG:()=>a,UC:()=>l,Yo:()=>r,f:()=>d,mK:()=>i,o6:()=>n,wp:()=>o}),function(e){e.TRUE_FALSE="trueFalse",e.MCQ="mcq",e.MATCHING="matching",e.WRITTEN="written"}(n||(n={}));const o="testCTA",a="test_mode_click_print_results",r="test_mode_click_print_in_test",i="test_mode_click_print",l="testMode",d=80},"./app/j/study-modes/test/selectors/ads.ts":(e,t,s)=>{"use strict";s.d(t,{X:()=>r});var n=s("./node_modules/reselect/lib/index.js"),o=s("./app/j/study-modes/test/selectors/base.ts"),a=s("./app/j/study-modes/test/types.ts");const r=(0,n.createSelector)(o.e,(e=>e===a.d.AD_MODAL))},"./app/j/study-modes/test/selectors/base.ts":(e,t,s)=>{"use strict";s.d(t,{e:()=>r,o:()=>a});var n=s("./node_modules/reselect/lib/index.js"),o=s("./app/j/study-modes/test/constants.ts");const a=e=>e[o.UC],r=(0,n.createSelector)(a,(e=>null==e?void 0:e.view))},"./app/j/study-modes/test/types.ts":(e,t,s)=>{"use strict";let n;s.d(t,{d:()=>n}),function(e){e.TEST="test",e.REVIEW="review",e.AD_MODAL="ad_modal",e.PAYWALL="paywall",e.LOADING="loading"}(n||(n={}))},"./app/j/study-modes/write/types.ts":(e,t,s)=>{"use strict";let n,o,a;s.d(t,{i9:()=>n,ru:()=>a,x$:()=>o}),function(e){e.AD_MODAL="ad_modal",e.LOADING="loading",e.CHECKPOINT="checkpoint",e.COPY_ANSWER="copy_answer",e.END="end",e.FEEDBACK="feedback",e.QUESTION="question"}(n||(n={})),function(e){e.SET_CURRENT_VIEW="WRITE.SET_CURRENT_VIEW",e.SET_IS_SHOWING_INLINE_FEEDBACK="WRITE.SET_IS_SHOWING_INLINE_FEEDBACK",e.SET_LAST_INTERMISSION_VIEW="WRITE.SET_LAST_INTERMISSION_VIEW"}(o||(o={})),function(e){e.CORRECT="correct",e.INCORRECT="incorrect",e.OVERALL="overall"}(a||(a={}))},"./app/j/study-modes/write/write.entry.ts":(e,t,s)=>{"use strict";var n=s("./app/j/ads/enums/AdsNames.ts"),o=s("./app/j/config/enums.ts"),a=s("./app/j/core/legacy_store/LegacyStore.ts"),r=s("./app/j/global/Quizlet.ts"),i=s("./app/j/login/index.ts"),l=s("./node_modules/redux-actions/lib/index.js"),d=s("./app/j/study-engine/types.ts"),u=s("./app/j/study-modes/legacy-common/utils/legacyRenderStudyMode.tsx"),c=s("./node_modules/lodash/last.js"),p=s.n(c),m=s("./node_modules/lodash/dropRight.js"),g=s.n(m),h=(s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/j/i18n/$t.ts")),_=s("./app/j/notifications/addNotification.ts"),S=s("./app/j/notifications/Constants.ts"),f=s("./node_modules/nullthrows/nullthrows.js"),y=s.n(f),j=s("./node_modules/react-redux/lib/index.js"),E=s("./app/j/study-engine/utils.ts"),T=s("./app/j/study-modes/legacy-common/engine/actions.ts"),x=s("./app/j/study-modes/legacy-common/engine/selectors.ts"),b=s("./app/j/study-modes/legacy-common/engine/utils/question-element-utils.ts"),A=s("./app/j/study-modes/legacy-common/grading/actions.ts"),I=s("./app/j/global/Rollbar.ts"),v=s("./app/j/study-modes/legacy-common/grading/constants.ts"),C=s("./app/j/utils/FetchWith.ts");var w=s("./app/j/study-modes/legacy-common/grading/selectors.ts"),N=s("./app/j/study-modes/legacy-common/grading/utils/longtextGradingUtils.ts"),O=s("./app/j/study-modes/legacy-common/logging/actions.ts"),M=s("./app/j/study-modes/legacy-common/sessions/actions.ts"),L=s("./app/j/study-modes/legacy-common/sessions/selectors.ts"),D=s("./app/j/study-modes/legacy-common/settings/actions.ts"),R=s("./app/j/study-modes/legacy-common/settings/selectors/index.ts"),P=s("./app/j/study-modes/legacy-common/utils/studyModeAdHelper.ts"),k=(s("./node_modules/core-js/modules/es.string.trim.js"),s("./node_modules/reselect/lib/index.js")),U=s("./app/j/studiable-data/utils.ts"),W=s("./app/j/study-modes/legacy-common/engine/question/selectors.ts"),Z=s("./app/j/study-modes/legacy-common/studiable-data/selectors.ts");const F=e=>e.get("write"),B=(0,k.createSelector)([x.zt],(e=>e.masteryBuckets)),G=(0,k.createSelector)([W.yy,Z.mb,Z.Uv],((e,t,s)=>{const n=y()((0,U.KN)(t.filter(U.F_)[0],e)),{languageCode:o}=y()((0,U.xy)(n));return{languageCode:o,label:e,accents:s[e]}}));var H=s("./app/j/study-modes/write/types.ts");const V=(0,k.createSelector)(F,(e=>e.currentView)),z=(0,k.createSelector)(F,(e=>e.isShowingInlineFeedback)),K=((0,k.createSelector)(F,(e=>e.lastIntermissionView)),(0,k.createSelector)([x.EY,x.tq],((e,t)=>(0,E.KX)(e)?(e=>{var t;if(!e)return H.i9.QUESTION;const{submittedAnswer:s}=e.feedback;if((null==s?void 0:s.type)!==d.xh.STRING_ANSWER)throw new Error("Write only supports String answers");return null!=s&&null!=(t=s.value)&&t.trim()?H.i9.FEEDBACK:H.i9.COPY_ANSWER})(t):e.hasCompletedStudying?H.i9.END:H.i9.CHECKPOINT))),Q=(0,k.createSelector)([F],(e=>e.currentView===H.i9.LOADING)),q=(0,l.PH)(H.x$.SET_CURRENT_VIEW),Y=(0,l.PH)(H.x$.SET_IS_SHOWING_INLINE_FEEDBACK),$=(0,l.PH)(H.x$.SET_LAST_INTERMISSION_VIEW),J=()=>(e,t)=>{const s=K(t());e(q(s))};var X=s("./app/j/studiable-data/types.ts"),ee=(s("./node_modules/core-js/modules/es.array.sort.js"),s("./app/j/study-modes/legacy-common/utils/label-utils.ts"));function te(e,t){const s={};return t.forEach((t=>{const n=t[e];n&&(s[n]||(s[n]=[]),s[n].push(t))})),s}const se=(0,k.createSelector)([x.z5,Z.mb],((e,t)=>{if(e.length<t.length)return 1;const s=te("round",e),n=Math.max(...Object.keys(s).map((e=>parseInt(e,10))),1);return s[n].length>=(n<=1||!s[n-1]?t.length:s[n-1].filter((e=>e.correctness!==o.p7P.CORRECT)).length)?n+1:n}));function ne(e,t,s){let n=e.get(t);if(void 0===n){const o=(0,ee.O$)(t,s);n=Array.from(e.values()).find((e=>e.label===o))}return n}const oe=(0,k.createSelector)([x.z5],(e=>Math.max(...e.map((e=>e.round)),1))),ae=(0,k.createSelector)([Z.r9,x.z5],((e,t)=>{const s=new Map,n=e.studiableItems.filter(U.F_);for(const o of n){const e=new Map;for(const t of o.cardSides)e.set(t.sideId,t);s.set(o.id,e)}return t.filter((e=>s.has(e.studiableItemId))).filter((e=>{if(e.type!==X.N.N_SIDED_CARD_ANSWER)return!1;const{promptSideIds:t,answerSideIds:n}=e,o=y()(s.get(e.studiableItemId)),a=ne(o,t[0],e.studiableItemId),r=ne(o,n[0],e.studiableItemId);return void 0!==a&&void 0!==r})).map((e=>{var t;if(e.type!==X.N.N_SIDED_CARD_ANSWER)throw new Error("Write only supports NSidedCardAnswers");const{promptSideIds:n,answerSideIds:a,round:r,studiableItemId:i}=e,l=y()(s.get(e.studiableItemId)),d=ne(l,n[0],e.studiableItemId),u=null!=(t=null==d?void 0:d.media)?t:[],c=ne(l,a[0],e.studiableItemId),p=y()((0,U.xy)(y()(c)),"Expected at least one TextMedia connection, found none");return{expectedAnswer:{type:o.DDH.TEXT,...p},isCorrect:e.correctness===o.p7P.CORRECT,prompt:u,round:r,studiableItemId:i}}))})),re=(0,k.createSelector)([ae],(e=>{const t=te("round",e);return Object.keys(t).map((e=>{const s=t[e];return{round:Number(e),numAsked:s.length,numCorrect:s.filter((e=>e.isCorrect)).length,answers:s}})).sort(((e,t)=>e.round-t.round))}));var ie=s("./app/j/utils/tamperProofNow.ts");const le=(0,k.createSelector)(x.wG,(e=>{if(e.type!==d.mw.WRITTEN_QUESTION)throw new Error("You cannot select a WrittenQuestion if the current question is not a written question.\n        The current question type is: "+e.type+".");return e})),de=(0,k.createSelector)([se,W.VG,W.Ae,x.z5,W.bl],((e,t,s,n,a)=>{const r=y()(p()(n),"Trying to save a unexisting answer");return n=>({personId:n.personId.toString(),sessionId:n.id,studyMode:o.aKJ.WRITE,round:e,correctness:r.correctness,containerType:a.studiableContainerType,containerId:a.studiableContainerId,itemType:o.zqd.N_SIDED_CARD,itemId:a.id,promptSideIds:[t],answerSideIds:[s],timestamp:(0,ie.Z)()})})),ue=(0,k.createSelector)([x.ZZ,W.bl,W.VG,W.Ae,se],((e,t,s,n,a)=>({type:X.N.N_SIDED_CARD_ANSWER,correctness:e.isCorrect?o.p7P.CORRECT:o.p7P.INCORRECT,round:a,studiableItemId:t.id,studyModeType:o.aKJ.WRITE,timestamp:(0,ie.Z)(),promptSideIds:[s],answerSideIds:[n]})));var ce=s("./app/j/syncers/StudiableAnswerSyncer.ts");const pe=e=>(t,s)=>{(0,j.batch)((()=>{t((0,T.ig)(e)),t((0,T.YC)(null)),t(J())}));V(s())===H.i9.QUESTION&&t((0,O.zD)(o.WFi.VIEW_START))},me=()=>async(e,t)=>{const s=t(),n=(0,R.Gw)(s),a=y()(p()((0,x.z5)(s)),"Invalid attempt to finish a question without having submitted an answer");if(e((0,A.yd)(!1)),n.display.isCookieSupportEnabled){await e((0,M.T_)());const n=(0,L.Gg)(t()),o=de(s);ce.Z.addAndSave(o(n))}e((0,O.zD)(o.WFi.VIEW_END)),(0,j.batch)((()=>{e(pe([a])),e((0,A.sy)(!1))}))},ge=()=>(e,t)=>{e($(H.i9.CHECKPOINT)),(e=>(0,P.$)(e)&&(0,P.W)((0,R.nI)(e())))(t)?(e(q(H.i9.AD_MODAL)),e((0,D.t0)())):e(pe([]))},he=e=>{let{value:t}=e;return async(e,s)=>{await e((0,T.xS)((0,E.zo)(t)));const{feedback:n,isCorrect:a,gradingSettingsSuggestion:r,metadata:i}=(0,x.ZZ)(s()),l=n.expectedAnswer.value,d=(0,x.wG)(s()),u=n.expectedAnswerDescription?(0,b.Sg)(n.expectedAnswerDescription).text:null;let c=!1;if(!a&&(0,N.A)(l,t,null==u?void 0:u.languageCode)&&(0,R.qg)(s())&&(0,w.lc)(s())){e((0,A.yd)(!0)),e((0,O.$N)(o.AuQ.REQUEST_START));const s=await(p=l,m=t,g=null==u?void 0:u.languageCode,void 0===g&&(g=o.spR.ENGLISH),(0,C.cZ)("/webapi/3.8/grading/grade-longtext-answer",{expectedAnswer:p,submittedAnswer:m,languageCode:g},v.Un).then((e=>e)).catch((e=>(I.Z.warning("Error hitting longtext grading service: "+e),null))));if(s){if(e((0,O.$N)(o.AuQ.REQUEST_END,{request_successful:!0})),(null==s?void 0:s.responses[0].data.longtextGradingResult.grade)===o.lcN.CORRECT){const t={isCorrect:!0,feedback:n,gradingSettingsSuggestion:r,metadata:i};e((0,T.YC)(t)),c=!0}e((0,A.sy)(!0)),e((0,A.Iu)({currentQuestion:d,submittedAnswerValue:t,expectedAnswerValue:l,gradingResult:s.responses[0].data.longtextGradingResult}))}else e((0,O.$N)(o.AuQ.REQUEST_END,{request_successful:!1})),(0,_.Z)({duration:S.th.DEFAULT,icon:"exclamation",isDismissible:!0,message:(0,h.Z)("study_modes.smart_grading.toast_notification"),onClickSecondaryAction:()=>{e((0,D.bL)(!0))},secondaryActionLabel:(0,h.Z)("study_modes.smart_grading.toast_cta")})}var p,m,g;const f=ue(s());e((0,T.vE)([f])),e((0,O.zD)(o.WFi.ANSWER,{answer_text:t,correctness:a||c?o.p7P.CORRECT:o.p7P.INCORRECT})),l.toLocaleLowerCase()===t.toLocaleLowerCase()?(e(Y(!0)),window.setTimeout((()=>{e(me()),e(Y(!1))}),500)):e(J())}},_e=e=>(t,s)=>{const n=s();t((0,O.zD)(e?o.WFi.OVERRIDE:o.WFi.OVERRIDE_TO_INCORRECT));const a=(0,x.z5)(n),r=y()(p()(a),"Invalid attempt to modify undefined answer"),i=[...g()(a,1),{...r,correctness:e}];t((0,A.cd)()),t((0,T.h5)(i)),t(me())};var Se=s("./node_modules/lodash/difference.js"),fe=s.n(Se),ye=s("./app/j/compatibility/logger/getLoggerConfig.ts"),je=s("./app/j/study-engine/factory.ts"),Ee=s("./app/j/study-modes/legacy-common/logging/selectors.ts"),Te=s("./app/j/study-modes/legacy-common/studiable-data/actions.ts");const xe=function(e,t,s){return void 0===s&&(s={}),n=>{n((0,O.pJ)(e,t,{source:o.brn.DIRECT,...s}))}},be=function(e,t){return void 0===t&&(t={}),(s,n)=>{const a=n(),r=le(a),i=(0,b.Sg)(r.prompt);s((0,O.zD)(e,{answer_has_text:!0,answer_type:o.oK4.TYPING,prompt_has_audio:!!i.audio,prompt_has_image:!!i.image,prompt_has_text:!!i.text,...t}))}};var Ae=s("./app/j/study-modes/legacy-common/settings/utils/index.ts"),Ie=s("./node_modules/lodash/isEqual.js"),ve=s.n(Ie),Ce=s("./app/j/i18n/LocalizationConstants.ts"),we=s("./app/j/legacyAssistant/types/QAssistantModeTypes.ts");const Ne=(0,k.createSelector)([R.e,R.pE],((e,t)=>({knowledgeLevel:null,nSidedCardSettings:{enabledQuestionTypes:[(0,we.Q)().written],enabledPromptSides:(0,Ae.TR)(e),enabledAnswerSides:(0,Ae.TR)(t),enabledWrittenAnswerSides:[]},shuffle:!1,studyPathGoal:null,taskSequence:null,userLanguageCode:Ce.ZX}))),Oe=(0,k.createSelector)([Z.XQ],(e=>({promptWith:{definition:!e,location:e,term:!1},answerWith:{definition:!1,location:!1,term:!0},locationQuestionTypes:[(0,we.Q)().written]}))),Me=e=>Object.values(e).filter(Boolean).length,Le=(0,k.createSelector)([R.Iz,Z.XQ,Z.hy],((e,t,s)=>{let{answerWith:n,promptWith:o}=e;return!n.location&&(!(n.definition&&!s)&&(!(o.location&&!t)&&(!(Me(o)>1)&&(!(Me(n)>1)&&!ve()(n,o)))))})),De=(0,k.createSelector)([Z.r9,R.e],((e,t)=>{if(!t.location)return e;const{studiableItems:s,setIdToDiagramImage:n,exampleSentenceByStudiableItemId:a,studiableMetadataByType:r}=e;return{studiableItems:s.filter((e=>(0,U.F_)(e)&&null!==(0,U.KN)(e,o.dU_.LOCATION))),setIdToDiagramImage:n,exampleSentenceByStudiableItemId:a,studiableMetadataByType:r}})),Re=()=>(e,t)=>{const s=t(),n=(0,R.Iz)(s),o=Oe(s),a=(0,Ae.HU)(o,n);e((0,D.D5)(a)),e(((e,t)=>{const s=t();Le(s)||e((0,D.ex)({...(0,R.Iz)(s),...Oe(s)}))}))};var Pe=s("./app/j/models/QStudiableAnswer.ts");const ke=async(e,t)=>{if(!e)return[];const s=await(async e=>(await Pe.Z.where({sessionId:e.id,personId:e.personId})).map((e=>e.getProperties())))(e),n=new Set(t.map((e=>e.id)));return s.filter((e=>n.has(e.itemId))).map(U.lt)};var Ue=s("./app/j/utils/StudyPageVisibilityTracker.ts");const We=()=>async(e,t)=>{var s,n;const o=t(),a=(0,x.z5)(o),r=(0,Z.CF)(o),i=je.Z.create(d.lt.WEB_WRITE,De(o),a,Ne(o),{acceptsPartialAnswer:null!=(s=(0,R.R9)(o))&&s,acceptsAnswersWithTypos:!1,acceptsSmartGrading:null!=(n=(0,R.qg)(o))&&n},r,{});(0,j.batch)((()=>{e((0,T.ox)(i)),e(pe([]))}))},Ze=()=>async(e,t)=>{const s=t(),n=await ke((0,L.sl)(s),De(s).studiableItems);e(xe(o.WVJ.BEGIN,{loggerConfig:(0,ye.c)()})),e((0,T.h5)(n)),e(We())},Fe=Ze,Be=()=>async(e,t)=>{e($(H.i9.END)),(e=>V(e())===H.i9.END&&(0,P.W)((0,R.nI)(e())))(t)?(e(q(H.i9.AD_MODAL)),e((0,D.t0)())):(e((0,M.ZN)()),e((0,M.kf)(null)),e((0,M.Ch)(null)),e(xe(o.WVJ.BEGIN,{loggerConfig:(0,ye.c)()})),e((0,T.h5)([])),e(We()))},Ge=e=>async(t,s)=>{const n=s(),a=Array.from((0,Z.Cv)(n)),r=fe()(a,e),i=fe()(e,a);r.forEach((e=>t((0,Te.lr)(e)))),i.forEach((e=>t((0,Te.Dk)(e,o.cip.WRITE)))),t((0,D.hv)(!0)),window.history.pushState({},"",(0,R.LP)(n)),t(Be())};var He=s("./app/j/core/legacy_store/LegacyStoreProvider.tsx"),Ve=s("./node_modules/redux/lib/redux.js"),ze=s("./node_modules/lodash/intersection.js"),Ke=s.n(ze),Qe=s("./app/j/components/ModeControls.tsx"),qe=s("./node_modules/react/index.js"),Ye=s("./app/j/study-modes/legacy-common/containers/OptionsModalContainer.ts"),$e=s("./app/j/components/UIProgressBar.tsx"),Je=s("./node_modules/react/jsx-runtime.js");const Xe=function(e){return(0,Je.jsxs)("div",{className:"WriteProgressBar",children:[(0,Je.jsx)($e.Z,{max:e.max,value:e.value,variant:e.variant}),(0,Je.jsxs)("div",{className:"WriteProgressBar-label",children:[(0,Je.jsx)("div",{className:"WriteProgress-labelText",children:e.label}),(0,Je.jsx)("div",{className:"WriteProgress-value",children:e.value})]})]})};function et(e){return e.remaining.length+e.incorrect.length+e.correct.length||100}function tt(e){return(0,Je.jsxs)("div",{className:"WriteProgress",children:[(0,Je.jsx)(st,{masteryBuckets:e.masteryBuckets}),(0,Je.jsx)(nt,{masteryBuckets:e.masteryBuckets}),(0,Je.jsx)(ot,{masteryBuckets:e.masteryBuckets})]})}function st(e){const{masteryBuckets:t}=e,s=t.remaining.length;return(0,Je.jsx)(Xe,{label:(0,h.Z)("modes.learn.side_panel.remaining_label"),max:et(t),value:s})}function nt(e){const{masteryBuckets:t}=e,s=t.incorrect.length;return(0,Je.jsx)(Xe,{label:(0,h.Z)("modes.learn.side_panel.incorrect_label"),max:et(t),value:s,variant:"invalid"})}function ot(e){const{masteryBuckets:t}=e,s=t.correct.length;return(0,Je.jsx)(Xe,{label:(0,h.Z)("modes.learn.side_panel.correct_label"),max:et(t),value:s,variant:"valid"})}const at=qe.memo(tt),rt=(0,k.createStructuredSelector)({masteryBuckets:B}),it=(0,j.connect)(rt,null,null,{context:He.tC})(at);var lt=s("./app/j/utils/ModeHelper.ts");const dt=["answerWith","promptWith","studyStarredOnly"];function ut(e){return(0,Je.jsxs)(Je.Fragment,{children:[(0,Je.jsx)(Qe.Z,{modeName:(0,lt.ZP)(h.Z,o.aKJ.WRITE),modeType:(0,lt.ye)(o.aKJ.WRITE),onClickOptions:()=>{e.actions.setIsOptionsModalOpen(!0)},progress:e.isWriteLoading?null:(0,Je.jsx)(it,{}),studyablePath:e.studiablePath}),e.isOptionsModalOpen?(0,Je.jsx)(Ye.Z,{isModalOpen:e.isOptionsModalOpen,onCloseModal:t=>{e.actions.setIsOptionsModalOpen(!1);const s=Array.from(t);Ke()(s,dt).length>0&&e.actions.restartWrite()},onResetProgress:()=>{e.actions.setIsOptionsModalOpen(!1),e.actions.restartWriteWithNewSession()}}):null]})}const ct=qe.memo(ut),pt=(0,k.createStructuredSelector)({isOptionsModalOpen:R.Lf,isWriteLoading:Q,studiablePath:Z.f3}),mt=(0,j.connect)(pt,(e=>({actions:(0,Ve.bindActionCreators)({setIsOptionsModalOpen:D.bL,restartWrite:Fe,restartWriteWithNewSession:Be},e)})),null,{context:He.tC})(ct);var gt=s("./app/j/components/UILoadingIndicator.tsx");function ht(){return(0,Je.jsx)("div",{className:"WriteLoading","data-testid":"WriteLoading",children:(0,Je.jsx)(gt.Z,{size:"medium"})})}const _t=qe.memo(ht);var St=s("./app/j/compatibility/logger/useLogger.ts"),ft=s("./app/j/components/T.tsx"),yt=s("./app/j/components/UIHeading.tsx"),jt=s("./app/j/hooks/useClickAway.ts"),Et=s("./app/j/components/UIButton.tsx"),Tt=s("./app/j/hocs/keydownDecorator.tsx"),xt=s("./app/j/hooks/useBreakpoint.ts"),bt=s("./app/j/utils/BreakpointsHelper.ts"),At=s("./app/j/utils/UserAgentHelper.ts");const It=(0,Tt.Z)()((function(e){let{keydownEvent:t,onClick:s}=e;const[n,o]=(0,qe.useState)(!1),a=(0,xt.Z)(),r=(0,bt.Nc)(a,"m"),i=(0,bt.Nc)(a,"s");(0,qe.useEffect)((()=>{!t||n||Tt.a.includes(t.key)||(t.preventDefault(),s(),o(!0))}),[n,t]);const l=(0,At.b1)()?(0,h.Z)("assistant.continue_button.touchscreen_text"):(0,h.Z)("assistant.continue_button.non_touchscreen_text");return(0,Je.jsx)("div",{className:"FixedContinueButton",children:(0,Je.jsx)(Et.Z,{"aria-label":l,hero:r&&!i,onClick:s,width:r?"fill":"auto",children:l})})}));var vt=s("./node_modules/classnames/index.js"),Ct=s.n(vt);function wt(e){return(0,Je.jsxs)("div",{className:Ct()("WriteCheckpointRow","WriteCheckpointRow--"+e.variant),children:[(0,Je.jsx)("div",{className:"WriteCheckpointRow-element",children:e.label}),(0,Je.jsx)("div",{className:"WriteCheckpointRow-element",children:e.data}),(0,Je.jsxs)("div",{className:"WriteCheckpointRow-element",children:[e.percent,"%"]})]})}const Nt=qe.memo(wt);function Ot(e,t){const s=(0,He.I0)();(0,qe.useEffect)((()=>(s(xe(o.WVJ.ENTER_SCREEN,t,{screen:e})),()=>{s(xe(o.WVJ.EXIT_SCREEN,t,{screen:e}))})),[s,e])}const Mt=(e,t)=>Math.floor(100*e/t);function Lt(e){const{logEvent:t}=(0,St.wL)(),s=qe.useRef(null);return Ot(o.HtK.CHECKPOINT,{loggers:{logEvent:t}}),(0,jt.Z)(s,e.actions.finishCheckpoint),(0,Je.jsxs)("div",{className:"WriteCheckpoint","data-testid":"WriteCheckpoint",ref:s,children:[(0,Je.jsx)("div",{className:"WriteCheckpoint-heading",children:(0,Je.jsx)(yt.Z,{deprecatedStyle:!0,size:3,children:(0,Je.jsx)(ft.Z,{id:"modes.learn.content.checkpoint.round_number",roundNumber:e.roundNumber})})}),(0,Je.jsxs)("div",{className:"WriteCheckpoint-table",children:[(0,Je.jsx)(Dt,{checkpoint:e.checkpoint}),(0,Je.jsx)(Pt,{checkpoint:e.checkpoint}),(0,Je.jsx)(Rt,{masteryBuckets:e.masteryBuckets}),(0,Je.jsx)("div",{className:"WriteCheckpoint-anyKeyWrapper",children:(0,Je.jsx)(It,{onClick:e.actions.finishCheckpoint})})]})]})}function Dt(e){const{roundResults:t}=e.checkpoint,s=t.filter((e=>e.isCorrect)).length,n=t.length;return(0,Je.jsx)(Nt,{data:s,label:(0,h.Z)("modes.learn.content.checkpoint.correct_label"),percent:Mt(s,n),variant:H.ru.CORRECT})}function Rt(e){const{correct:t,incorrect:s,remaining:n}=e.masteryBuckets,o=t.length,a=t.length+s.length+n.length;return(0,Je.jsx)(Nt,{data:o+" / "+a,label:(0,h.Z)("modes.learn.content.checkpoint.overall_label"),percent:Mt(o,a),variant:H.ru.OVERALL})}function Pt(e){const{roundResults:t}=e.checkpoint,s=t.filter((e=>!e.isCorrect)).length,n=t.length;return(0,Je.jsx)(Nt,{data:s,label:(0,h.Z)("modes.learn.content.checkpoint.incorrect_label"),percent:Mt(s,n),variant:H.ru.INCORRECT})}const kt=qe.memo(Lt),Ut=(0,k.createStructuredSelector)({checkpoint:x.Uy,masteryBuckets:B,roundNumber:oe}),Wt=(0,j.connect)(Ut,(e=>({actions:(0,Ve.bindActionCreators)({finishCheckpoint:ge},e)})),null,{context:He.tC})(kt);var Zt=s("./node_modules/lodash/negate.js"),Ft=s.n(Zt),Bt=s("./app/j/components/UIDelimiter.tsx"),Gt=s("./app/j/components/UIHr.tsx"),Ht=s("./app/j/i18n/useTranslation.ts");function Vt(e){const t=Ct()("WriteFeedbackItem",{["WriteFeedbackItem--"+e.variant]:!!e.variant});return(0,Je.jsxs)("div",{className:t,"data-testid":"feedback-item",children:[(0,Je.jsx)("div",{className:"WriteFeedbackItem-label",children:(0,Je.jsx)("p",{className:"WriteFeedbackItem-labelContent",children:e.label})}),(0,Je.jsx)("div",{className:"WriteFeedbackItem-content",children:e.children})]})}Vt.defaultProps={variant:"default"};const zt=qe.memo(Vt);var Kt=s("./app/j/components/Image.tsx");function Qt(e){return(0,Je.jsx)("div",{className:"WriteImageAttribute",children:(0,Je.jsx)(Kt.default,{alt:e.altText,src:e.imageAttribute.url})})}const qt=qe.memo(Qt);var Yt=s("./app/j/diagrams/components/Diagram.tsx"),$t=s("./app/j/diagrams/components/DiagramShape.tsx"),Jt=s("./app/j/diagrams/types.ts");const Xt=e=>e.target.openPopup();function es(e){const{shape:t}=e.locationAttribute;return(0,Je.jsx)("div",{className:"WriteLocationAttribute",children:(0,Je.jsx)(Yt.default,{diagramShapes:(0,Je.jsx)($t.default,{onAdd:Xt,shape:t}),image:e.diagramImage,variant:Jt.U.ZOOM_TO_POINTS})})}const ts=qe.memo(es);var ss=s("./app/j/components/FormattedText.tsx");const ns={min:20,max:30,mode:"multi"};function os(e){const{textAttribute:t}=e;return t.plainText||t.richText?(0,Je.jsx)("div",{className:"WriteTextAttribute",children:(0,Je.jsx)(ss.Z,{lang:t.languageCode,richText:t.richText,text:t.plainText,textfit:ns})}):null}const as=qe.memo(os);var rs=s("./app/j/audio_playback/thunks.ts"),is=s("./app/j/core/default_store/DefaultStoreProvider.tsx"),ls=s("./app/j/components/UIIconButton.tsx");function ds(e){const t=e.url;return{audioId:t,url:t}}const us=function(e){return qe.useEffect((()=>{e.shouldAutoplay&&e.actions.stopAndPlayAudio({audioItems:[ds(e.audioAttribute)]})}),[e.shouldAutoplay,e.actions,e.audioAttribute]),(0,Je.jsx)("div",{className:"WriteAudioAttribute",children:(0,Je.jsx)(ls.Z,{icon:"audio",onClick:t=>{t.preventDefault(),e.actions.stopAndPlayAudio({audioItems:[ds(e.audioAttribute)]})},variant:"borderless"})})},cs=(0,j.connect)(null,(e=>({actions:(0,Ve.bindActionCreators)({stopAndPlayAudio:rs.DQ},e)})),a.Q,{context:is.jJ})(us);function ps(e){const t=(0,b.Sg)(e.questionElements);return(0,Je.jsxs)("div",{className:"WriteQuestionElements",children:[(0,Je.jsxs)("div",{className:"WriteQuestionElements-visualElements",children:[t.text?(0,Je.jsx)(as,{textAttribute:t.text},"text"):null,t.image?(0,Je.jsx)(qt,{imageAttribute:t.image},"image"):null,t.location?(0,Je.jsx)(ts,{diagramImage:t.location.diagramImage,locationAttribute:t.location},"location"):null]}),(0,Je.jsx)("div",{className:"WriteQuestionElements-audioWrapper",children:t.audio?(0,Je.jsx)(cs,{audioAttribute:t.audio,shouldAutoplay:e.shouldAutoplayAudio}):null})]})}const ms=qe.memo(ps);function gs(e){return(0,Je.jsx)(zt,{label:e.label,variant:e.variant,children:(0,Je.jsx)(ms,{questionElements:e.questionElements,shouldAutoplayAudio:e.shouldAutoplayAudio})})}const hs=qe.memo(gs);var _s=s("./app/j/components/DeprecatedSpecialCharacterTextarea.tsx"),Ss=s("./app/j/i18n/getLocalizedLanguage.ts"),fs=s("./node_modules/keycode-js/dist/keycode.cjs.js"),ys=s("./app/j/utils/breakpoint.ts");function js(e){const{actions:t}=e,s=qe.useRef(null),[n,o]=function(e,t){const[s,n]=qe.useState("");return qe.useEffect((()=>{n(""),t.current&&t.current.focus()}),[t,e]),[s,n]}(e.currentItemId,s),a=()=>{t.submitAnswer&&t.submitAnswer({submittedAnswer:n})};return(0,Je.jsxs)("form",{className:"WriteTypeTheAnswerField",onSubmit:e=>{e.preventDefault(),a()},children:[(0,Je.jsx)(Es,{...e,answerInput:n,onChangeInput:e=>{o(e.target.value),t.onChangeInput&&t.onChangeInput(e)},onKeyDown:e=>{e.keyCode!==fs.AC||e.shiftKey||(e.preventDefault(),a())},ref:s}),e.actions.submitAnswer?(0,Je.jsx)(xs,{...e}):null]})}const Es=qe.forwardRef(((e,t)=>(0,Je.jsx)("div",{className:"WriteTypeTheAnswerField-input",children:(0,Je.jsx)(_s.Z,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",disabled:e.isValid,invalid:!e.isValid&&void 0,label:(0,Je.jsx)(Ts,{editionContext:e.editionContext,shouldShowLang:e.shouldShowLang}),languageCodes:[e.editionContext.languageCode],onChange:e.onChangeInput,onKeyDown:e.onKeyDown,ref:t,specificAccents:e.editionContext.accents,spellCheck:!1,type:"autoExpand",value:e.answerInput,variant:"inline"})})));function Ts(e){const{shouldShowLang:t,editionContext:s}=e;if(t)return(0,Je.jsx)(ft.Z,{id:"assistant.type_answer.type_the_language_label",language:(0,Ss.w)(e.editionContext.languageCode)});switch(s.label){case o.dU_.WORD:return(0,Je.jsx)(ft.Z,{id:"assistant.type_answer.type_the_term_label"});case o.dU_.DEFINITION:return(0,Je.jsx)(ft.Z,{id:"assistant.type_answer.type_the_definition_label"});default:return(0,Je.jsx)(ft.Z,{id:"assistant.type_answer.type_the_answer_label"})}}function xs(e){const{matches:t}=(0,ys.Z)({above:"m",below:"l"}),s=Ct()("WriteTypeTheAnswerField-actions",{"is-correct":e.isValid});return(0,Je.jsx)("div",{className:s,children:(0,Je.jsx)(Et.Z,{type:"submit",width:t?"fill":"auto",children:e.isValid?(0,Je.jsxs)("span",{children:[(0,Je.jsx)(ft.Z,{id:"assistant.feedback.correct"})," ",(0,Je.jsx)("span",{"aria-label":"happy-emoji",role:"img",children:"😀"})]}):(0,Je.jsx)(ft.Z,{id:"assistant.type_answer.answer"})})})}const bs=qe.memo(js);function As(e){const{t}=(0,Ht.ZP)(),s=qe.useRef(null),[n,o]=function(e){const t=(0,He.I0)(),[s,n]=qe.useState(!1);return[s,function(s){const o=(0,E.zo)(s.target.value);t((0,T.on)(o,(t=>{n(t),t&&setTimeout((()=>{n(!1),e(o)}),500)})))}]}(e.actions.finishQuestion),a=e.question.metadata.studiableItemId,r=y()(e.gradedAnswer.feedback.expectedAnswerDescription,"Expected answer description is null for written question.");return(0,Je.jsxs)("div",{className:"WriteCopyAnswerView",children:[(0,Je.jsx)("div",{className:"WriteCopyAnswerView-heading",children:(0,Je.jsx)(ft.Z,{id:"modes.learn.content.grade_answer.copy_answer_label"})}),(0,Je.jsx)("div",{className:"WriteCopyAnswerView-content",children:(0,Je.jsxs)(Bt.Z,{separator:(0,Je.jsx)(Gt.Z,{}),children:[(0,Je.jsx)(hs,{label:t("modes.learn.content.grade_answer.prompt_label"),questionElements:e.question.prompt}),(0,Je.jsx)(hs,{label:t("modes.learn.content.grade_answer.correct_label"),questionElements:r}),(0,Je.jsx)(Is,{answerEditionContext:e.answerEditionContext,currentItemId:a,handleChange:e=>{s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{o(e)}),500)},isAnswerCorrect:n,shouldShowLangInLabel:e.shouldShowLangInLabel})]})})]})}function Is(e){return(0,Je.jsx)(bs,{actions:{onChangeInput:e.handleChange},currentItemId:e.currentItemId,editionContext:e.answerEditionContext,isValid:e.isAnswerCorrect,shouldShowLang:e.shouldShowLangInLabel})}const vs=qe.memo(As),Cs=(0,k.createStructuredSelector)({answerEditionContext:G,shouldShowLangInLabel:Ft()(W.Yt),gradedAnswer:x.ZZ,question:le}),ws=(0,j.connect)(Cs,(e=>({actions:(0,Ve.bindActionCreators)({finishQuestion:me},e)})),null,{context:He.tC})(vs);var Ns=s("./app/j/components/UIIcon.tsx"),Os=s("./app/j/i18n/Trans.tsx");const Ms={min:16,max:30,mode:"multi"};function Ls(e){let{answer:t,diagramImage:s}=e;const n=Ct()("WriteAnswer",{"WriteAnswer--correct":t.isCorrect,"WriteAnswer--incorrect":!t.isCorrect});return(0,Je.jsxs)("div",{className:n,children:[(0,Je.jsx)("div",{className:"WriteAnswer-icon",children:(0,Je.jsx)(Ns.Z,{icon:t.isCorrect?"check":"close-x"})}),(0,Je.jsx)("div",{className:"WriteAnswer-answer",children:(0,Je.jsx)(Rs,{textMedia:t.expectedAnswer})}),(0,Je.jsx)("div",{className:"WriteAnswer-prompt",children:(0,Je.jsx)(Ds,{diagramImage:s,prompt:t.prompt})})]})}function Ds(e){const t=e.prompt.map((t=>{switch(t.type){case o.DDH.TEXT:return(0,Je.jsx)(Rs,{textMedia:t},t.plainText);case o.DDH.IMAGE:return(0,Je.jsx)(Ps,{imageMedia:t},t.url);case o.DDH.DIAGRAM_SHAPE:return(0,Je.jsx)(ks,{diagramImage:e.diagramImage,shape:t.shape},t.shape);default:return null}}));return(0,Je.jsx)(Je.Fragment,{children:t})}function Rs(e){const t=e.textMedia;return t.plainText||t.richText?(0,Je.jsx)(ss.Z,{lang:t.languageCode,richText:t.richText,text:t.plainText,textfit:Ms}):null}function Ps(e){const t=e.imageMedia;return(0,Je.jsx)(Kt.default,{shape:"square",size:"s",src:t.url})}function ks(e){const{diagramImage:t,shape:s}=e,n=y()(t,"Attempted to render a Diagram without a Diagram Image");return(0,Je.jsx)(Yt.default,{diagramShapes:(0,Je.jsx)($t.default,{shape:s}),image:n,variant:Jt.U.ZOOM_TO_POINTS})}const Us=qe.memo(Ls);function Ws(e){const{logEvent:t}=(0,St.wL)();return Ot(o.HtK.RESULTS,{loggers:{logEvent:t}}),qe.useEffect((()=>{e.actions.updateProgressAndFinishSession()}),[]),(0,Je.jsx)("div",{className:"WriteEndView",children:e.sessionSummary.map((t=>(0,qe.createElement)(Zs,{...e,key:t.round,round:t})))})}function Zs(e){const{round:t,diagramImage:s}=e;return(0,Je.jsxs)("div",{className:"WriteEndView-round",children:[(0,Je.jsxs)("div",{className:"WriteEndView-roundHeader",children:[(0,Je.jsx)(Fs,{round:t}),1===t.round?(0,Je.jsx)(Bs,{actions:e.actions}):(0,Je.jsx)(Gs,{actions:e.actions,round:t})]}),t.answers.map((e=>(0,Je.jsx)(Us,{answer:e,diagramImage:s},e.studiableItemId)))]},"Round "+t.round)}function Fs(e){const{round:t}=e;return(0,Je.jsxs)("div",{className:"WriteEndView-roundSummary",children:[(0,Je.jsx)("div",{className:"WriteEndView-header",children:(0,Je.jsx)(ft.Z,{id:"modes.learn.content.analyze.round_number",roundNumber:t.round})}),(0,Je.jsx)("div",{className:"WriteEndView-subheader",children:(s=t.numCorrect,n=t.numAsked,s+"/"+n+" - "+Math.round(s/n*100)+"%")})]});var s,n}function Bs(e){return(0,Je.jsx)(Et.Z,{"aria-label":(0,h.Z)("modes.learn.content.analyze.start_over_button"),onClick:e.actions.restartWriteWithNewSession,children:(0,Je.jsx)(ft.Z,{id:"modes.learn.content.analyze.start_over_button"})})}function Gs(e){const t=e.round.answers.map((e=>e.studiableItemId));return(0,Je.jsx)(Et.Z,{"aria-label":(0,h.Z)("modes.learn.content.analyze.star_and_start_over_aria_label",{termCount:e.round.numAsked}),onClick:()=>e.actions.starItemsAndRestartWrite(t),children:(0,Je.jsx)(Os.Z,{id:"modes.learn.content.analyze.star_and_start_over",reactComponents:{StarIcon:(0,Je.jsx)(Ns.Z,{icon:"star-filled"})},values:{termCount:e.round.numAsked}})})}const Hs=qe.memo(Ws),Vs=(0,k.createStructuredSelector)({sessionSummary:re,diagramImage:Z.hJ}),zs=(0,j.connect)(Vs,(e=>({actions:(0,Ve.bindActionCreators)({restartWriteWithNewSession:Be,starItemsAndRestartWrite:Ge,updateProgressAndFinishSession:M.ZN},e)})),null,{context:He.tC})(Hs);var Ks=s("./app/j/study-modes/legacy-common/hocs/connectQuestionStepForAutoPlayAudio.tsx"),Qs=s("./node_modules/@quizlet/grader/quizlet-shared-kotlin-grader.js"),qs=s("./app/j/utils/diff.ts"),Ys=s("./app/j/utils/strip-markdown.ts");function $s(e){return{answerLanguage:e.answerLang,promptLanguage:e.promptLang,promptText:null,gradingSettings:null}}function Js(e,t,s){const n=!(0,Qs.isCaseSensitive)(e,t,s),[o,a]=[e,t].map(Ys.Z),r=new qs.ZP({ignoreCase:n}),i=r.diff_main(o,a,!1);return r.diff_cleanupSemantic(i),i}class Xs extends qe.Component{constructor(e){super(e);const t=$s(e),{userAnswer:s,correctAnswer:n}=e;this.state={diff:Js(s,n,t)}}UNSAFE_componentWillReceiveProps(e){const{userAnswer:t,correctAnswer:s}=e,n=$s(e);this.setState({diff:Js(t,s,n)})}shouldComponentUpdate(e){return void 0!==this.props.userAnswer&&void 0!==this.props.correctAnswer&&void 0!==e.userAnswer&&void 0!==e.correctAnswer||(I.Z.warning("[DiffText] Trying to update the component with undefined answer",{currentUserAnswer:this.props.userAnswer,nextUserAnswer:e.userAnswer,currentCorrectAnswer:this.props.correctAnswer,nextCorrectAnswer:e.correctAnswer}),!1)}renderText(){const e="additions"===this.props.mode?qs.D$:qs.NL;return this.state.diff.filter((t=>{let[s,n]=t;return s===e||s===qs.JZ})).map(((e,t)=>{let[s,n]=e;return s===qs.JZ?(0,Je.jsx)("span",{children:n},t):s===qs.D$?(0,Je.jsx)("ins",{className:"DiffText-ins",children:n},t):s===qs.NL?(0,Je.jsx)("del",{className:"DiffText-del",children:n},t):null}))}render(){return(0,Je.jsx)("span",{className:"DiffText",children:this.renderText()})}}var en=s("./app/j/components/UIBreakpoint.tsx"),tn=s("./app/j/components/UIDiv.tsx"),sn=s("./app/j/diagrams/DiagramConstants.ts"),nn=s("./app/j/diagrams/helpers.ts");function on(e){let{children:t,diagramShapeState:s,image:n,padding:o=!0,shape:a}=e;const r=Ct()("PromptLocation",{"has-padding":o});return(0,Je.jsx)("div",{className:r,children:(0,Je.jsx)(Yt.default,{diagramShapes:(0,Je.jsx)($t.default,{onAdd:nn.LY,shape:a,state:s,children:t}),image:n,variant:Jt.U.ZOOM_TO_POINTS})})}function an(){return an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},an.apply(this,arguments)}const rn=e=>{let{styles:t={},...s}=e;return qe.createElement("svg",an({xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"},s),qe.createElement("circle",{fill:"#FDCA47",cx:"32",cy:"32",r:"30"}),qe.createElement("path",{fill:"#F9B700",d:"M51.654 9.346A29.869 29.869 0 0 1 59 29c0 16.569-13.432 30-30 30a29.871 29.871 0 0 1-19.654-7.345C14.846 57.99 22.952 62 32 62c16.568 0 30-13.431 30-30 0-9.047-4.012-17.152-10.346-22.654z"}),qe.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#FFE8BB",d:"M6.418 20.5C5.302 24.242 13 11 25 6.084c5.834-2.391-13.832-1.5-18.582 14.416z"}),qe.createElement("circle",{fill:"#302C3B",cx:"42.387",cy:"24.677",r:"4.999"}),qe.createElement("path",{fill:"#302C3B",d:"M18.867 23.748a5 5 0 1 0 1.735 9.849 5 5 0 0 0-1.735-9.849zm25.389 17.236c-6.754-1.632-16.871-.215-21.526 6.138-.834 1.137-.022 2.335 1.144 1.559 4.455-2.965 13.092-4.799 19.311-3.322 2.375.564 3.557-3.748 1.071-4.375z"}))};function ln(){return ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},ln.apply(this,arguments)}const dn=e=>{let{styles:t={},...s}=e;return qe.createElement("svg",ln({xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"},s),qe.createElement("circle",{fill:"#FDCA47",cx:"32",cy:"32",r:"30"}),qe.createElement("path",{fill:"#F9B700",d:"M51.654 9.346A29.874 29.874 0 0 1 59 29c0 16.568-13.432 30-30 30a29.865 29.865 0 0 1-19.654-7.346C14.846 57.99 22.952 62 32 62c16.568 0 30-13.432 30-30 0-9.047-4.012-17.152-10.346-22.654z"}),qe.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#FFE8BB",d:"M6.418 20.5C5.302 24.242 13 11 25 6.084c5.834-2.391-13.832-1.5-18.582 14.416z"}),qe.createElement("circle",{fill:"#302C3B",cx:"20.5",cy:"24.5",r:"5"}),qe.createElement("circle",{fill:"#302C3B",cx:"43.5",cy:"24.5",r:"5"}),qe.createElement("path",{fill:"#302C3B",d:"M51 37.789c0-.893-.529-2.01-2.037-2.297C45.092 34.756 39.373 34 32 34h-.002c-7.369 0-13.091.756-16.961 1.492-1.508.287-2.037 1.404-2.037 2.297C13 45.867 19.271 54 31.998 54H32c12.729 0 19-8.133 19-16.211z"}),qe.createElement("path",{fill:"#1A1626",d:"M33.844 42c-.578-.012-1.471.455-1.145 1.688.163.621 1.191 1.375 1.191 2.381 0 2.045-3.783 2.045-3.783 0 0-1.006 1.027-1.76 1.193-2.381.327-1.232-.566-1.699-1.146-1.688-1.574.037-4.155 1.498-4.155 3.969C25.999 48.748 28.686 51 32 51c3.311 0 5.998-2.252 5.998-5.031 0-2.471-2.582-3.932-4.154-3.969z"}),qe.createElement("path",{fill:"#F46C60",d:"M24 50.082c2.313 1.051 4.979 1.668 8 1.668s5.688-.617 8-1.668c-2.23-1.139-4.887-1.832-8-1.832-3.115 0-5.768.693-8 1.832z"}),qe.createElement("path",{fill:"#FFF",d:"M46.504 38.037C43.996 37.66 38.688 37 31.998 37c-6.688 0-11.993.66-14.503 1.037-1.479.221-1.568.76-1.466 1.52.062.451.156 1 .302 1.588.162.652.291.824 1.447.836 2.221.027 26.222.027 28.444 0 1.156-.012 1.281-.184 1.445-.836.145-.588.242-1.137.301-1.588.106-.76.012-1.299-1.464-1.52z"}))};function un(e){let{emoji:t,headingText:s,isCorrect:n}=e;function o(){const e=n?(0,Je.jsx)(dn,{viewBox:"0 0 64 64"}):(0,Je.jsx)(rn,{viewBox:"0 0 64 64"});return(0,Je.jsx)("span",{className:"FeedbackHeading-emoji",children:s?t:e})}const a=Ct()("FeedbackHeading",{"is-correct":n&&!s,"is-incorrect":!n&&!s});return(0,Je.jsxs)("div",{className:a,children:[(0,Je.jsx)("div",{className:"FeedbackHeading-inner",children:(0,Je.jsx)(en.Z,{above:"s",children:e=>(0,Je.jsxs)(yt.Z,{deprecatedStyle:!0,size:e?3:4,children:[o(),s||(n?(0,Je.jsx)(ft.Z,{id:"assistant.feedback.correct_nicely_done"}):(0,Je.jsx)(ft.Z,{id:"assistant.feedback.study_this_one"}))]})})}),(0,Je.jsx)("div",{className:"FeedbackHeading-separator",children:(0,Je.jsx)(Gt.Z,{})})]})}const cn=qe.memo(un);var pn=s("./app/j/audio_playback/utils.ts"),mn=s("./app/j/components/DeprecatedFormattedTextWithImage.tsx");function gn(e){const{audio:t,image:s,text:n}=(0,b.Sg)(e),{plainText:o,richText:a,languageCode:r}=null!=n?n:{};return{audioUrl:null==t?void 0:t.url,imageUrl:null==s?void 0:s.url,languageCode:r,plainText:o,richText:null!=a?a:void 0}}const hn=e=>{let{actions:{stopAndPlayAudio:t},audioUrl:s,imageUrl:n,languageCode:o,plainText:a,playingAudioId:r,richText:i}=e;const l=(0,Je.jsx)(ls.Z,{disabled:!s,icon:"audio",onClick:s?()=>{return e=s,void t((0,pn.os)(e));var e}:void 0,variant:"borderless"}),d=Ct()("FeedbackTextWithImage-audio",{"is-playing":r===s});return(0,Je.jsxs)("div",{className:"FeedbackTextWithImage",children:[(0,Je.jsx)(mn.Z,{imageShape:"square",imageSize:"xs",imageUrl:n,lang:o,richText:i,text:a}),(0,Je.jsx)("span",{className:d,children:l})]})};function _n(e){let{children:t}=e;return(0,Je.jsx)("div",{className:"FeedbackViewContent",children:t})}function Sn(e){let{children:t,verticalAlignWithoutScroll:s="center"}=e;const n=Ct()("ScrollableViewLayout",{"ScrollableViewLayout--topAligned":"top"===s});return(0,Je.jsxs)("div",{className:n,children:[(0,Je.jsx)("div",{className:"ScrollableViewLayout-topBlur"}),(0,Je.jsx)("div",{className:"ScrollableViewLayout-content",children:t}),(0,Je.jsx)("div",{className:"ScrollableViewLayout-bottomBlur"})]})}function fn(e){let{children:t}=e;return(0,Je.jsx)("div",{className:"FeedbackViewDetails",children:(0,Je.jsx)(Sn,{verticalAlignWithoutScroll:"top",children:t})})}function yn(e){let{action:t,children:s}=e;return(0,Je.jsxs)("div",{className:"FixedActionLayout",children:[(0,Je.jsx)("div",{className:"FixedActionLayout-content",children:s}),(0,Je.jsx)("div",{className:"FixedActionLayout-action",children:t})]})}function jn(e){let{children:t,onClickContinue:s,shouldHideActionButton:n}=e;return(0,Je.jsx)(yn,{action:n?null:(0,Je.jsx)(It,{onClick:s}),children:t})}var En=s("./app/j/audio_playback/selectors.ts");const Tn=(0,k.createStructuredSelector)({playingAudioId:En.jZ}),xn=(0,j.connect)(Tn,(e=>({actions:(0,Ve.bindActionCreators)({stopAndPlayAudio:rs.DQ},e)})),a.Q,{context:is.jJ})(hn);var bn=s("./app/j/study-modes/legacy-common/components/FeedbackItem.tsx"),An=s("./app/j/study-modes/legacy-common/engine/utils/graded-answer-utils.ts"),In=s("./app/j/components/UIOverlayTrigger.tsx"),vn=s("./app/j/components/UIPopover.tsx");function Cn(e){let{isOverride:t=!1,onPrimaryCtaClick:s,onSecondaryCtaClick:n,shouldShowSecondaryCta:o}=e;return(0,Je.jsxs)(vn.Z,{arrow:!1,extraClassNames:"StandardGradingPopover",includeArrowInBounds:!1,variant:"rounded",children:[(0,Je.jsx)(yt.Z,{size:5,children:t?(0,h.Z)("assistant.feedback.override_standard_grading_popover.header"):(0,h.Z)("assistant.feedback.standard_grading_popover.header")}),(0,Je.jsxs)("div",{className:"StandardGradingPopover-text",children:[t?(0,h.Z)("assistant.feedback.override_standard_grading_popover.body"):(0,h.Z)("assistant.feedback.standard_grading_popover.body"),(0,Je.jsxs)("div",{className:"StandardGradingPopover-ctas",children:[o&&n?(0,Je.jsx)(Et.Z,{onClick:n,variant:"whiteBorder",children:t?(0,h.Z)("assistant.feedback.override_standard_grading_popover.override_cta"):(0,h.Z)("assistant.feedback.standard_grading_popover.secondary_cta")}):null,(0,Je.jsx)(Et.Z,{onClick:s,children:(0,h.Z)("assistant.feedback.standard_grading_popover.primary_cta")})]})]})]})}function wn(e){let{handleOpenOptionsModal:t}=e;const s=(0,qe.useRef)(null);return(0,Je.jsx)("div",{className:"StandardGradingLabelSection",children:(0,Je.jsxs)("div",{className:"StandardGradingLabel",children:[(0,Je.jsx)(Ns.Z,{icon:"check-circle",size:"large"}),(0,Je.jsx)(ft.Z,{id:"assistant.feedback.standard_grading_applied"}),(0,Je.jsx)(In.Z,{className:"StandardGradingLabel-overlay",overlay:(0,Je.jsx)(Cn,{onPrimaryCtaClick:t,onSecondaryCtaClick:()=>{const e=s.current;null!==e&&e.close()},shouldShowSecondaryCta:!0}),position:"bottom",ref:s,triggerAction:(0,At.b1)()?"click":"hover",children:(0,Je.jsx)("div",{className:"StandardGradingLabel-info",children:(0,Je.jsx)(Ns.Z,{alt:(0,h.Z)("assistant.feedback.standard_grading_applied"),icon:"circle-info"})})})]})})}var Nn=s("./app/j/compatibility/userAgentHelper.ts"),On=s("./app/j/components/UILink.tsx"),Mn=s("./app/j/assembly/AssemblyBadge.tsx"),Ln=s("./app/j/components/UIBadge.tsx");function Dn(){return(0,Je.jsx)(Ln.Z,{variant:"yellow",children:(0,Je.jsx)(ft.Z,{id:"global.new_label"})})}var Rn=s("./app/j/components/PremiumBadge.tsx"),Pn=s("./app/j/context/UserContext.ts");function kn(e){let{handleOpenOptionsModal:t,shouldShowSmartGradingBadge:s,shouldShowSmartGradingUpsell:n}=e;const{t:a}=(0,Ht.ZP)(),{logSubscriptionEvent:r}=(0,St.wL)(),i=(0,qe.useContext)(Pn.Z);function l(){let e;return e=(null==i?void 0:i.type)===o.XsQ.TEACHER?o.XsQ.TEACHER:o.XsQ.PLUS,(0,Je.jsx)("div",{className:"SmartGradingPopover-plusBadge",children:(0,Je.jsx)(Rn.Z,{styleVariant:Mn.P.Indigo,type:e})})}function d(){const e=null!=i&&i._isEligibleForFreeTrial?(0,Je.jsx)(ft.Z,{id:"assistant.feedback.smart_grading_upsell_popover.cta.trial_eligible"}):(0,Je.jsx)(ft.Z,{id:"assistant.feedback.smart_grading_upsell_popover.cta.trial_ineligible"}),t=null!=i&&i._isEligibleForFreeTrial?a("assistant.feedback.smart_grading_upsell_popover.cta.trial_eligible"):a("assistant.feedback.smart_grading_upsell_popover.cta.trial_ineligible");return(0,Je.jsxs)(vn.Z,{arrow:!1,extraClassNames:"SmartGradingPopover SmartGradingPopover--upsell",includeArrowInBounds:!1,variant:"rounded",children:[(0,Je.jsx)(yt.Z,{size:5,children:(0,Je.jsx)(ft.Z,{id:"assistant.feedback.smart_grading_upsell_popover.heading"})}),(0,Je.jsx)("div",{className:"SmartGradingPopover-text",children:(0,Je.jsx)(ft.Z,{id:"assistant.feedback.smart_grading_upsell_popover.body"})}),(0,Je.jsx)(Et.Z,{"aria-label":t,onClick:()=>{return e=t,r({action:o.Mpk.CLICK,cta:e,fullActionName:"smart_grading_upsell_popover_click"}),void window.open("/upgrade?source=smart_grading","_blank");var e},children:e}),l()]})}return s?(0,Je.jsxs)(tn.Z,{className:"YouSaidLabelWithSmartGrading",children:[(0,Je.jsx)(ft.Z,{id:"assistant.feedback.you_said_label"}),(0,Je.jsx)(In.Z,{overlay:(0,Je.jsxs)(vn.Z,{extraClassNames:"SmartGradingPopover",includeArrowInBounds:!1,children:[(0,Je.jsx)(yt.Z,{size:5,children:(0,Je.jsx)(ft.Z,{id:"assistant.feedback.smart_grading_popover_heading"})}),(0,Je.jsxs)("div",{className:"SmartGradingPopover-text",children:[(0,Je.jsx)(ft.Z,{id:"assistant.feedback.smart_grading_popover_text"}),(0,Je.jsx)(On.Z,{onClick:t,children:(0,Je.jsx)(ft.Z,{id:"assistant.feedback.update_options_link"})})]})]}),position:"middle right",triggerAction:"hover",children:(0,Je.jsxs)("div",{className:"SmartGradingLabelWithInfo",children:[(0,Je.jsx)(Dn,{}),(0,Je.jsx)(ft.Z,{id:"assistant.feedback.smart_grading"}),(0,Je.jsx)(Ns.Z,{icon:"circle-info",size:"medium"})]})})]}):n?(0,Je.jsxs)(tn.Z,{className:"YouSaidLabelWithSmartGrading",children:[(0,Je.jsx)(ft.Z,{id:"assistant.feedback.you_said_label"}),(0,Je.jsx)(In.Z,{beforeOpen:()=>{r({action:o.Mpk.VIEW,fullActionName:"smart_grading_upsell_popover_open"})},overlay:d(),position:"bottom right",triggerAction:"hover",children:(0,Je.jsx)("div",{className:"SmartGradingLabelWithInfo",children:(0,Je.jsxs)("div",{className:"SmartGradingLabelWithInfo--lock",children:[(0,Je.jsx)(ft.Z,{id:"assistant.feedback.smart_grading_upsell_popover.cta.trial_eligible"}),(0,Je.jsx)(Ns.Z,{icon:"lock",size:"medium"})]})})})]}):(0,Je.jsx)(ft.Z,{id:"assistant.feedback.you_said_label"})}function Un(e){let{answerLang:t,correctAnswer:s,isCorrect:n,onClickAnswerOverride:o,promptLang:a,shouldShowSmartGradingBadge:r,shouldShowSmartGradingUpsell:i=!1,userAnswer:l,shouldShowStandardGradingPopover:d,handleOpenOptionsModal:u}=e;const{t:c}=(0,Ht.ZP)(),p=(0,Nn.YQ)();function m(){o&&o()}return(0,Je.jsx)(bn.Z,{label:(0,Je.jsx)(kn,{handleOpenOptionsModal:u,labelText:c("assistant.feedback.you_said_label"),shouldShowSmartGradingBadge:r,shouldShowSmartGradingUpsell:i}),text:l,children:(0,Je.jsxs)("div",{className:"WrittenFeedbackItem",children:[(0,Je.jsx)("span",{className:"WrittenFeedbackItem-answer",children:(0,Je.jsx)(Xs,{answerLang:t,correctAnswer:s,mode:"deletions",promptLang:a,userAnswer:l})}),o?(0,Je.jsxs)("span",{className:"WrittenFeedbackItem-answerOverride",children:[(0,Je.jsx)(On.Z,{onClick:m,children:n?(0,Je.jsx)(ft.Z,{id:"assistant.feedback.answer_is_wrong"}):(0,Je.jsx)(ft.Z,{id:"assistant.feedback.i_mistyped"})}),d&&n&&u?(g=u,(0,Je.jsx)(In.Z,{className:"WrittenFeedbackItem-overlay",overlay:(0,Je.jsx)(Cn,{isOverride:!0,onPrimaryCtaClick:g,onSecondaryCtaClick:p?m:null,shouldShowSecondaryCta:p}),position:p?void 0:"bottom center",triggerAction:p?"click":"hover",children:(0,Je.jsx)("div",{className:"WrittenFeedbackItem-answerOverrideInfo",children:(0,Je.jsx)(Ns.Z,{alt:c("assistant.feedback.override_standard_grading_popover.icon_alt_label"),icon:"circle-info"})})})):null]}):null]})});var g}const Wn=(0,k.createStructuredSelector)({gradedAnswer:x.tq,shouldShowSmartGradingBadge:w.YI,shouldShowSmartGradingUpsell:w.uO,question:x.EY}),Zn=(0,Ve.compose)((0,j.connect)(Wn,(e=>({actions:(0,Ve.bindActionCreators)({advanceFromWrittenQuestionFeedback:me,setIsOptionsModalOpen:D.bL,overrideCorrectness:_e},e)})),null,{context:He.tC}),(0,Ks.Z)({playAnswer:!0}))((function(e){let{actions:t,gradedAnswer:s,overrideCorrectnessCounter:n,question:a,shouldShowSmartGradingBadge:r,shouldShowSmartGradingUpsell:i,shouldShowStandardGradingLabel:l}=e;const[d,u]=(0,qe.useState)(!1),{t:c}=(0,Ht.ZP)();function p(){d||(t.overrideCorrectness(o.p7P.CORRECT),u(!0))}function m(){d||(t.overrideCorrectness(o.p7P.INCORRECT),u(!0))}function g(){const{text:e}=(0,b.Sg)(a.prompt),{submittedAnswerValue:o,expectedAnswerValue:d}=(0,An.Ap)(s);return(0,Je.jsx)(Un,{answerLang:a.answerLanguageCode,correctAnswer:d,handleOpenOptionsModal:()=>t.setIsOptionsModalOpen(!0),isCorrect:s.isCorrect,onClickAnswerOverride:s.isCorrect?m:p,promptLang:null==e?void 0:e.languageCode,shouldShowSmartGradingBadge:r,shouldShowSmartGradingUpsell:!s.isCorrect&&i,shouldShowStandardGradingPopover:l&&n<1,userAnswer:o})}function h(){const{text:e}=(0,b.Sg)(a.prompt),{submittedAnswerValue:t,expectedAnswerValue:n}=(0,An.Ap)(s);return(0,Je.jsx)(bn.Z,{label:(0,Je.jsx)(ft.Z,{id:"assistant.feedback.correct_answer_label"}),text:n,children:(0,Je.jsx)(Xs,{answerLang:a.answerLanguageCode,correctAnswer:n,mode:"additions",promptLang:null==e?void 0:e.languageCode,userAnswer:t})})}const{location:_}=(0,b.Sg)(a.prompt);return(0,Je.jsx)(jn,{onClickContinue:function(){d||(t.advanceFromWrittenQuestionFeedback(s.isCorrect),u(!0))},children:(0,Je.jsxs)(_n,{children:[(0,Je.jsx)(cn,{isCorrect:s.isCorrect}),(0,Je.jsx)(fn,{children:void 0!==_?(S=_,(0,Je.jsx)(en.Z,{below:"s",children:e=>e?(0,Je.jsxs)("div",{children:[(0,Je.jsx)("div",{className:"WrittenQuestionFeedbackView-mobileDiagram",children:(0,Je.jsx)(on,{diagramShapeState:s.isCorrect?sn.kA.CORRECT:sn.kA.INCORRECT,image:S.diagramImage,padding:!1,shape:S.shape})}),(0,Je.jsxs)("div",{children:[(0,Je.jsx)(tn.Z,{children:h()}),s.isCorrect?null:(0,Je.jsx)(tn.Z,{children:g()})]})]}):(0,Je.jsxs)(on,{diagramShapeState:s.isCorrect?sn.kA.CORRECT:sn.kA.INCORRECT,image:S.diagramImage,shape:S.shape,children:[(0,Je.jsx)(tn.Z,{children:h()}),s.isCorrect?null:(0,Je.jsx)(tn.Z,{children:g()})]})},"feedback")):function(){var e;const{metadata:{promptSide:s},prompt:n}=a,{text:o}=(0,b.Sg)(n);return(0,Je.jsxs)(Bt.Z,{separator:(0,Je.jsx)(Gt.Z,{}),children:[(0,Je.jsxs)(tn.Z,{children:[l&&(0,Je.jsx)(wn,{handleOpenOptionsModal:()=>t.setIsOptionsModalOpen(!0)}),(0,Je.jsx)(bn.Z,{label:(0,ee.hC)(c,s),text:null!=(e=null==o?void 0:o.plainText)?e:"",children:(0,Je.jsx)(xn,{...gn(n)})})]}),(0,Je.jsx)(tn.Z,{children:g()}),(0,Je.jsx)(tn.Z,{children:h()})]})}()})]})});var S}));class Fn extends qe.PureComponent{constructor(){super(...arguments),this.state={answerInput:"",hasSubmitted:!1},this.handleClickDontKnow=()=>{const{actions:{onClickDontKnow:e}}=this.props;y()(e)()},this.handleSubmitAnswer=()=>{const{actions:{submitAnswer:e}}=this.props;e&&!this.state.hasSubmitted&&(this.setState({hasSubmitted:!0}),e({submittedAnswer:this.state.answerInput}))},this.handleOnChangeInput=e=>{this.setState({answerInput:e.target.value}),this.props.actions.onChangeInput&&this.props.actions.onChangeInput(e)},this.handleOnKeyDown=e=>{e.keyCode!==fs.AC||e.shiftKey||(e.preventDefault(),this.handleSubmitAnswer())},this.handleOnSubmit=e=>{e.preventDefault(),this.handleSubmitAnswer()},this.textareaRef=qe.createRef()}componentDidMount(){this.focus()}componentDidUpdate(e){e.currentItemId!==this.props.currentItemId&&(this.focus(),this.clear())}getLabel(){if(this.props.shouldShowLang)return(0,Je.jsx)(ft.Z,{id:"assistant.type_answer.type_the_language_label",language:(0,Ss.w)(this.props.lang)});if(this.props.shouldShowSide){if(this.props.answerSide===o.dU_.WORD)return(0,Je.jsx)(ft.Z,{id:"assistant.type_answer.type_the_term_label"});if(this.props.answerSide===o.dU_.DEFINITION)return(0,Je.jsx)(ft.Z,{id:"assistant.type_answer.type_the_definition_label"})}return(0,Je.jsx)(ft.Z,{id:"assistant.type_answer.type_the_answer_label"})}getButtonClasses(){return Ct()("TypeTheAnswerField-actions",{"is-correct":this.props.isValid})}renderAnswerFieldInput(e){const t={addOnContent:this.props.actions.onClickDontKnow&&e?this.renderDontKnowLink():null,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",invalid:!this.props.isValid&&void 0,label:this.getLabel(),languageCodes:[this.props.lang],onChange:this.handleOnChangeInput,onKeyDown:this.handleOnKeyDown,specificAccents:this.props.accents,spellCheck:!1,type:"autoExpand",value:this.state.answerInput,variant:"inline"};return(0,Je.jsx)("div",{className:"TypeTheAnswerField-input",children:(0,Je.jsx)(_s.Z,{...t,ref:this.textareaRef})})}renderDontKnowLink(){return(0,Je.jsx)("span",{className:"TypeTheAnswerField-dontKnow",children:(0,Je.jsx)(On.Z,{onClick:this.handleClickDontKnow,children:(0,Je.jsx)(ft.Z,{id:"assistant.type_answer.don_t_know"})})})}renderButtonText(){return this.props.isValid?(0,Je.jsxs)("span",{children:[(0,Je.jsx)(ft.Z,{id:"assistant.feedback.correct"})," ",(0,Je.jsx)("span",{"aria-label":"happy-emoji",role:"img",children:"😀"})]}):(0,Je.jsx)(ft.Z,{id:"assistant.type_answer.answer"})}renderButton(e){return(0,Je.jsxs)("div",{className:this.getButtonClasses(),children:[(0,Je.jsx)(Et.Z,{disabled:this.props.loading,type:"submit",width:e?"fill":"auto",children:this.props.loading?(0,Je.jsx)(gt.Z,{}):this.renderButtonText()}),this.props.actions.onClickDontKnow&&!e?this.renderDontKnowLink():null]})}render(){return(0,Je.jsx)(en.Z,{above:"m",below:"l",children:e=>(0,Je.jsxs)("form",{className:"TypeTheAnswerField",name:"form",onSubmit:this.handleOnSubmit,children:[this.renderAnswerFieldInput(e),this.shouldRenderButton()?this.renderButton(e):null]})})}shouldRenderButton(){return!!this.props.actions.submitAnswer}focus(){y()(this.textareaRef.current,"textareaRef should exist").focus()}clear(){const e=this.textareaRef.current?this.textareaRef.current.getTextarea():null;e&&(e.value=""),this.setState({answerInput:""}),this.setState({hasSubmitted:!1})}}function Bn(e){const t=e.question.metadata.studiableItemId,s=y()(e.question.metadata.answerSide,"No answerSide for written question.");return(0,Je.jsxs)("div",{className:"WriteQuestion",children:[(0,Je.jsxs)("div",{className:"WriteQuestion-prompt",children:[(0,Je.jsx)(ms,{questionElements:e.question.prompt,shouldAutoplayAudio:e.isAudioOn}),(0,Je.jsx)("div",{className:"WriteQuestion-dontKnow",children:(0,Je.jsx)(On.Z,{onClick:()=>e.actions.submitAnswer({value:""}),children:(0,Je.jsx)(ft.Z,{id:"modes.learn.content.answer_page.dont_know"})})})]}),(0,Je.jsx)("div",{className:"WriteQuestion-answer",children:(0,Je.jsx)(Fn,{accents:e.accents,actions:{submitAnswer:t=>{let{submittedAnswer:s}=t;e.actions.submitAnswer({value:s})}},answerSide:s,currentItemId:t,isValid:e.isShowingInlineFeedback,lang:e.question.answerLanguageCode,loading:e.isGrading,shouldShowLang:!e.isQuestionMonolingual,shouldShowSide:e.question.metadata.promptSide===o.dU_.LOCATION})})]})}const Gn=qe.memo(Bn),Hn=(0,k.createStructuredSelector)({accents:W.Gi,answerSide:W.yy,answerSideLang:W.xb,isAudioOn:R.zK,isGrading:w.Em,isQuestionMonolingual:W.Yt,isShowingInlineFeedback:z,question:le}),Vn=(0,j.connect)(Hn,(e=>({actions:(0,Ve.bindActionCreators)({logQuestionEvent:be,submitAnswer:he},e)})),null,{context:He.tC})(Gn);function zn(e){return e.currentView===H.i9.FEEDBACK?(0,Je.jsx)("div",{className:"WriteViewController",children:(0,Je.jsx)("div",{className:"WrittenQuestionFeedbackView",children:(0,Je.jsx)(Kn,{...e})})}):(0,Je.jsx)("div",{className:"WriteViewController",children:(0,Je.jsx)(Kn,{...e})})}function Kn(e){switch(e.currentView){case H.i9.AD_MODAL:return null;case H.i9.LOADING:return(0,Je.jsx)(_t,{});case H.i9.QUESTION:return(0,Je.jsx)(Vn,{});case H.i9.COPY_ANSWER:return(0,Je.jsx)(ws,{});case H.i9.FEEDBACK:return(0,Je.jsx)(Zn,{});case H.i9.CHECKPOINT:return(0,Je.jsx)(Wt,{});case H.i9.END:return(0,Je.jsx)(zs,{});default:throw new Error("Unsupported view "+e.currentView+" in WriteViewController")}}const Qn=qe.memo(zn),qn=(0,k.createStructuredSelector)({currentView:V}),Yn=(0,j.connect)(qn,null,null,{context:He.tC})(Qn);var $n=s("./node_modules/immer/dist/immer.cjs.production.min.js");const Jn={[H.x$.SET_CURRENT_VIEW]:(e,t)=>{let{payload:s}=t;return(0,$n.default)(e,(e=>{e.currentView=s}))},[H.x$.SET_IS_SHOWING_INLINE_FEEDBACK]:(e,t)=>{let{payload:s}=t;return(0,$n.default)(e,(e=>{e.isShowingInlineFeedback=s}))},[H.x$.SET_LAST_INTERMISSION_VIEW]:(e,t)=>{let{payload:s}=t;return(0,$n.default)(e,(e=>{e.lastIntermissionView=s}))}};s("./node_modules/keymaster/keymaster.js");const Xn={hiddenSettings:[o.Std.ASSISTANT_MODE_QUESTION_TYPES,o.Std.ASSISTANT_MODE_WRITTEN_DEFINITION_SIDE,o.Std.ASSISTANT_MODE_WRITTEN_WORD_SIDE],questionTypesSetting:{copyAnswer:!0,fillInTheBlank:!1,matching:!1,multipleChoice:!1,multipleChoiceWithNoneOption:!1,revealSelfAssessment:!1,written:!0,spelling:!1},adsIds:{sidebarAdsId:null,footerAdsId:n.h.WRITE_MWEB},studyMode:d.lt.WEB_WRITE,studyModeType:o.aKJ.WRITE,writtenTypesSetting:{definition:!0,location:!0,term:!0},closeAdModalAndGoToTheNextStep:()=>{a.Z.dispatch(((e,t)=>{F(t()).lastIntermissionView===H.i9.CHECKPOINT?e(ge()):e(Be())}))}};(0,u.Z)(Yn,mt,Xn,(()=>{r.Z.user||(0,i.default)(),a.Z.registerReducer("write",(0,l.jZ)(Jn,{currentView:H.i9.LOADING,isShowingInlineFeedback:!1,lastIntermissionView:null})),a.Z.dispatch(((e,t)=>{const s=t();e(Re()),new Ue.Z((function(e,t){void 0===t&&(t={}),(0,Ee.Lx)(s).logStudyEvent(e,{loggerConfig:(0,ye.c)()},t)}))}))})).then((()=>{a.Z.dispatch(Ze())}))},"./app/j/syncers/SelectedTermSyncer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s("./app/j/models/QModel.ts");class o extends n.Z{}o.URL_BASE="selected-terms",o.MODEL_NAME="selectedTerm",o.UNIQUE_KEYS=["termId","personId"];const a={...s("./app/j/syncers/LegacySyncer.ts").Z};a.init(o);const r=a},"./app/j/syncers/SessionSyncer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s("./app/j/models/QSession.ts");const o={...s("./app/j/syncers/LegacySyncer.ts").Z};o.init(n.Z);const a=o},"./app/j/syncers/StudiableAnswerSyncer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s("./app/j/models/QStudiableAnswer.ts");const o={...s("./app/j/syncers/LegacySyncer.ts").Z};o.init(n.Z);const a=o},"./app/j/syncers/StudySettingSyncer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s("./app/j/models/QModel.ts");class o extends n.Z{}o.URL_BASE="study-settings",o.MODEL_NAME="studySetting",o.UNIQUE_KEYS=["personId","studyableType","studyableId","settingType"];var a=s("./app/j/syncers/LegacySyncer.ts");const r={};Object.assign(r,a.Z),r.init(o);const i=r},"./app/j/syncers/TermSyncer.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s("./app/j/models/QModel.ts");class o extends n.Z{}o.URL_BASE="terms",o.MODEL_NAME="term",o.PARTITION_COLUMN="setId";const a={...s("./app/j/syncers/LegacySyncer.ts").Z};a.init(o),a.setShouldSyncDelay(!0);const r=a},"./app/j/utils/AccentHelper.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s("./node_modules/lodash/uniq.js"),o=s.n(n);const a={af:["á","à","â","ä","ç","é","è","ê","ë","í","ì","î","ï","ó","ò","ô","ö","ú","ù","ü","û","ý","ÿ"],akk:["ā","â","ē","ê","ī","î","ō","ô","ū","û","ḫ","ṣ","š","ṭ","₀","₁","₂","₃","₄","₅","₆","₇","₈","₉"],ang:["æ","ð","þ"],ar:["ا","ب","ت","ث","ج","ح","خ","د","ذ","ر","ز","س","ش","ص","ض","ط","ظ","ع","غ","ف","ق","ك","ل","م","ن","ه","و","ي","ء","ة","ى"],bg:["а","б","в","г","д","е","ж","з","и","й","к","л","м","н","о","п","р","с","т","у","ф","х","ц","ч","ш","щ","ъ","ь","ю","я"],bs:["ć","đ","č","š","ž"],chem:["←","↑","→","↓","↔","∙","°","⁻","⁺","⁰","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹","ⁿ","₋","₀","₁","₂","₃","₄","₅","₆","₇","₈","₉","⇌","ε","∆","₊","ₙ"],cs:["á","č","ď","é","ě","í","ň","ó","p","ř","š","ť","ú","ů","ý","ž"],cy:["â","ä","á","à","ê","ë","é","è","î","ï","í","ì","ô","ö","ó","ò","û","ü","ú","ù","ŵ","ẅ","ẃ","ẁ","ŷ","ÿ","ý","ỳ"],da:["å","æ","ø"],de:["ä","ö","ü","ß","⸚"],dyo:["á","é","í","ó","ñ","ú","Ŋ"],el:["α","β","γ","δ","ε","ζ","η","θ","ι","κ","λ","μ","ν","ξ","ο","π","ρ","σ","ς","τ","υ","φ","χ","ψ","ω"],es:["á","é","í","ó","ú","ü","ñ","¿","¡","°"],fi:["å","ä","ö"],fr:["à","â","ç","è","é","ê","ë","î","ï","ô","œ","ù","û","ü"],gd:["à","á","è","é","ì","í","ò","ó","ù","ú"],ga:["à","á","è","é","ì","í","ò","ó","ù","ú"],hai:["g̱","ḵ","x̱"],haw:["ā","ē","ī","ō","ū"],hr:["ć","đ","č","š","ž"],hu:["á","é","í","ó","ö","ő","ú","ü","ű"],is:["á","æ","ð","é","í","ó","ö","ø","þ","ú","ý"],it:["à","è","é","ì","ò","ó","ù"],iw:["א","בּ","ב","ג","ד","ה","ו","ז","ח","ט","י","כּ","כ","ך","ל","מ","ם","נ","ן","ס","ע","פּ","פ","ף","צ","ץ","ק","ר","שׁ","שׂ","ש","תּ","ת"],ku:["ç","é","ê","í","î","ş","ú","û"],la:["ā","æ","ē","ī","ō","œ","ū","ȳ"],lkt:["á","ą","ą́","č","é","ǧ","ȟ","í","į","ó","š","ú","ų","ž","ŋ","ʼ"],math:["+","−","±","×","÷","%","=","≠","≈","≡","<",">","≤","≥","≅","∼","½","¼","¾","√","⁰","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹","ⁿ","⁺","⁻","∧","₀","₁","₂","₃","₄","₅","₆","₇","₈","₉","π","∞","∆","∑","ƒ","∫","‖","|","⊥","∠","∩","∪","∈","∋","∃","⊂","⊃","⊆","⊇","∉","⊄","°","α","β","γ","δ","ε","η","θ","ι","κ","λ","µ","∨","Ω","ω","ℵ","∅","∀","⊕","⊗","←","↑","→","↓","↔","∴","∵","σ","⌒","₊","ₙ"],mi:["ā","ē","ī","ō","ū"],nl:["á","à","â","ä","ç","é","è","ê","ë","í","ì","î","ï","ó","ò","ô","ö","ú","ù","ü","û","ý","ÿ"],no:["å","æ","ø"],ood:["ă","ḍ","ĕ","ĭ","ñ","ŋ","ŏ","ṣ","ŭ"],pl:["ą","ć","ę","ń","ł","ó","ś","ź","ż"],pt:["à","á","â","ã","ç","é","ê","í","ó","ô","õ","ú","ü"],rar:["ā","ē","ī","ō","ū","ʻ","ꞌ"],ro:["ă","â","î","ș","ş","ț","ţ"],ru:["а","á","б","в","г","д","е","é","ё","ж","з","и","и́","й","к","л","м","н","о","ó","п","р","с","т","у","у́","ф","х","ц","ч","ш","щ","ъ","ы","ы́","ь","э","ю","ю́","я","я́"],sk:["á","ä","č","é","ě","í","ĺ","ľ","ň","ó","ô","ŕ","š","ť","ú","ý","ž"],sr:["ć","đ","č","š","ž"],sv:["å","ä","ö"],tet:["ñ","á","é","í","ó","ú"],tr:["ı","ö","ü","ç","ğ","ş"],tyv:["а","б","в","г","д","е","ё","ж","з","и","й","к","л","м","н","ң","о","ө","п","р","с","т","у","ү","ф","х","ц","ч","ш","щ","ъ","ы","ь","э","ю","я"],vi:["á","ǎ","â","đ","ê","ô","ơ","ư"],wo:["à","é","ë","ó","ñ","Ŋ"],"zh-pi":["ā","á","ǎ","à","ē","é","ě","è","ī","í","ǐ","ì","ō","ó","ǒ","ò","ū","ú","ǔ","ù","ǖ","ǘ","ǚ","ǜ","ü"]};var r=s("./app/j/config/languages.ts"),i=s("./app/j/utils/ensureArray.ts");const l={containsAccentLanguage:e=>(0,i.Z)(e).some((e=>e in a&&a[e].length>0)),containsHardLanguage:e=>(0,i.Z)(e).some((e=>r.GK.indexOf(e)>-1)),getCharactersByLangForLangs(e){const t={};return o()(e).filter((e=>e)).forEach((e=>{a[e]&&(t[e]=a[e])})),t}}},"./app/j/utils/Leaflet.ts":(e,t,s)=>{"use strict";s.d(t,{$g:()=>d,AK:()=>l,Ep:()=>g,H4:()=>m,os:()=>r});var n=s("./app/j/diagrams/DiagramConstants.ts"),o=s("./app/j/diagrams/LeafletConstants.ts"),a=s("./app/j/diagrams/QLeaflet.ts");function r(e){return o.k.pointToLatLng(e,n.m6)}const i=n.C/2;function l(e){return"Point"===function(e){return e.geometry.type}(e)}function d(e){return(e.getNorth()-e.getSouth())*(e.getEast()-e.getWest())}function u(e,t){return e.getNorthEast()[t]-e.getSouthWest()[t]}function c(e,t,s,n){return u(e,n)>=u(t,n)?t.getCenter()[n]-e.getCenter()[n]:"lat"===n?function(e,t,s){let n=0;const o=Math.max(s.getNorth(),t.getNorth()),a=Math.min(s.getSouth(),t.getSouth());return e.getNorth()>=o?n=o-e.getNorth():e.getSouth()<a&&(n=a-e.getSouth()),n}(e,t,s):function(e,t,s){let n=0;const o=Math.min(s.getWest(),t.getWest()),a=Math.max(s.getEast(),t.getEast());return e.getWest()<=o?n=o-e.getWest():e.getEast()>a&&(n=a-e.getEast()),n}(e,t,s)}function p(e,t,s){const o=function(e,t){let s=t.getNorth(),n=t.getEast();const o=u(t,"lat"),r=u(t,"lng");return 0===e?(s=0,n=0):o/r<e?s=r*e+t.getSouth():n=o/e+t.getWest(),a.Z.latLngBounds(t.getSouthWest(),a.Z.latLng(s,n))}(e,t),r=function(e,t){const s=d(e),o=d(t)/s;return o<n.Lg?n.Lg/o:0}(s,o);return r&&(o.getNorthEast().lat=(o.getNorth()-o.getSouth())*Math.sqrt(r)+o.getSouth(),o.getNorthEast().lng=(o.getEast()-o.getWest())*Math.sqrt(r)+o.getWest()),o}function m(e,t,s){let n=e;s&&(n=s);let r=n.getSouth(),l=n.getNorth(),d=n.getEast(),u=n.getWest();const c=o.k.pointToLatLng(a.Z.point(i,0),t).lng,p=o.k.pointToLatLng(a.Z.point(0,i),t).lat;return Math.abs(u-e.getWest())<Math.abs(c)&&(u-=c),Math.abs(d-e.getEast())<Math.abs(c)&&(d+=c),Math.abs(l-e.getNorth())<Math.abs(p)&&(l-=p),Math.abs(r-e.getSouth())<Math.abs(p)&&(r+=p),a.Z.latLngBounds(a.Z.latLng(r,u),a.Z.latLng(l,d))}function g(e,t,s,n){const o=m(e,n);return function(e,t,s){const n=c(e,t,s,"lng"),o=c(e,t,s,"lat"),r=a.Z.latLng(e.getNorth()+o,e.getEast()+n),i=a.Z.latLng(e.getSouth()+o,e.getWest()+n);return a.Z.latLngBounds(r,i)}(function(e,t){const s=e.getCenter(),n=t.getCenter(),o=n.lat-s.lat,r=n.lng-s.lng,i=a.Z.latLng(t.getNorth()-o,t.getEast()-r),l=a.Z.latLng(t.getSouth()-o,t.getWest()-r);return a.Z.latLngBounds(i,l)}(o,p(t,o,s)),s,o)}},"./app/j/utils/PageSessionHelper.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s("./app/j/constants/TimeConstants.ts"),o=s("./app/j/utils/tamperProofNow.ts"),a=s("./node_modules/uuid/dist/esm-browser/v4.js");const r=30*n.A_;class i{constructor(e){void 0===e&&(e=r),this.pageSessionId="",this.sessionExpirationTimestamp=0,this.lastAccessTimestamp=0,this.ttl=e}generatePageSessionId(){return(0,a.Z)()}setPageSessionId(e){this.pageSessionId=e,this.sessionExpirationTimestamp=(0,o.Z)()+this.ttl}setLastAccessTimestamp(e){this.lastAccessTimestamp=e}getPageSessionId(){let e;return this.lastAccessTimestamp>0&&this.lastAccessTimestamp<this.sessionExpirationTimestamp?e=this.pageSessionId:(e=this.generatePageSessionId(),this.setPageSessionId(e)),this.setLastAccessTimestamp((0,o.Z)()),e}}},"./app/j/utils/StudyEventLogger.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s("./app/j/config/enums.ts"),o=s("./app/j/utils/log-event.ts"),a=s("./app/j/utils/PageSessionHelper.ts"),r=(s("./node_modules/core-js/modules/es.json.stringify.js"),s("./app/j/utils/unix-timestamp.ts"));class i{constructor(e){let{studyPageSessionHelper:t,questionPageSessionHelper:s,uid:n,userId:o}=e;this.studyPageSessionHelper=t,this.questionPageSessionHelper=s,this.uid=n,this.userId=o}getStudySessionId(){return this.studyPageSessionHelper.getPageSessionId()}getQuestionSessionId(){return this.questionPageSessionHelper.getPageSessionId()}logMultipleChoiceOptionEvent(e,t){const s={action:e,uid:this.uid,user_id:this.userId||null,client_id:null,client_timestamp:(0,r.vJ)(),platform:n.t4T.WEB,study_session_id:this.studyPageSessionHelper.getPageSessionId(),question_session_id:this.getQuestionSessionId(),...t,option_texts:JSON.stringify(t.option_texts)};(0,o.Z)("multiple_choice_option_events",s)}}class l{constructor(e){let{studyPageSessionHelper:t,questionPageSessionHelper:s,uid:n,userId:o}=e;this.studyPageSessionHelper=t,this.questionPageSessionHelper=s,this.uid=n,this.userId=o}getStudySessionId(){return this.studyPageSessionHelper.getPageSessionId()}getQuestionSessionId(){return this.questionPageSessionHelper.getPageSessionId()}logTextGradingEvent(e,t,s){void 0===s&&(s=(0,r.vJ)());const a={action:e,client_id:null,client_timestamp:s,platform:n.t4T.WEB,question_session_id:this.getQuestionSessionId(),study_session_id:this.getStudySessionId(),uid:this.uid,user_id:this.userId||null,...t};(0,o.Z)("text_grading_events",a)}}class d{constructor(e,t,s,n){this.modeType=e,this.questionPageSessionHelper=new a.Z,this.studyPageSessionHelper=t,this.multipleChoiceOptionLogger=null,this.textGradingEventLogger=null,this.uid=s,this.userId=n}generateNewQuestionSessionId(){this.questionPageSessionHelper.setPageSessionId(this.questionPageSessionHelper.generatePageSessionId())}getQuestionSessionId(){return this.questionPageSessionHelper.getPageSessionId()}getStudySessionId(){return this.studyPageSessionHelper.getPageSessionId()}logQuestionEvent(e,t,s,a){void 0===s&&(s=!1);const{answeredTermId:i,promptTermId:l,questionContent:d,questionSessionId:u,...c}=t;e===n.WFi.VIEW_START&&this.generateNewQuestionSessionId(),s&&this.generateNewQuestionSessionId();const p={action:e,uid:this.uid,mode_type:this.modeType,client_answered_term_id:i,server_answered_term_id:i,client_prompt_term_id:l,server_prompt_term_id:l,client_timestamp:(0,r.vJ)(),platform:n.t4T.WEB,question_session_id:u||this.getQuestionSessionId(),study_session_id:this.studyPageSessionHelper.getPageSessionId(),question_content:e===n.WFi.VIEW_START?d:null,...c};return a?(0,o.K)(a,"question_events",p):(0,o.Z)("question_events",p),this.getQuestionSessionId()}getMultipleChoiceOptionLogger(){return null===this.multipleChoiceOptionLogger&&(this.multipleChoiceOptionLogger=new i({studyPageSessionHelper:this.studyPageSessionHelper,questionPageSessionHelper:this.questionPageSessionHelper,uid:this.uid,userId:this.userId})),this.multipleChoiceOptionLogger}getTextGradingEventLogger(){return null===this.textGradingEventLogger&&(this.textGradingEventLogger=new l({questionPageSessionHelper:this.questionPageSessionHelper,studyPageSessionHelper:this.studyPageSessionHelper,uid:this.uid,userId:this.userId})),this.textGradingEventLogger}}var u=s("./app/j/utils/SearchEventLogger.ts");class c{constructor(e){let{modeType:t,selectedOnly:s,studyableId:n,studyableType:o,embedType:r,enabled:i=!0,funnelUUID:l,gameInstanceId:u,gameInstanceUuid:c,gameType:p,uid:m,userId:g}=e;this.modeType=t,this.selectedOnly=s,this.studyableId=n,this.studyableType=o,this.embedType=r,this.enabled=i,this.funnelUUID=l,this.gameInstanceId=u,this.gameInstanceUuid=c,this.gameType=p,this.uid=m,this.userId=g,this.studyPageSessionHelper=new a.Z,this.questionEventLogger=new d(this.modeType,this.studyPageSessionHelper,m,g),this.logStudyEvent=this.logStudyEvent.bind(this)}getStudySessionId(){return this.studyPageSessionHelper.getPageSessionId()}logStudyEvent(e,t,s){if(!this.enabled)return;const{sessionId:a,termId:i,referer:l,selectedOnly:d,...c}=s||{},p={action:e,client_session_id:a,client_studyable_id:this.studyableId,client_term_id:i,client_timestamp:(0,r.vJ)(),embed_type:this.embedType,funnel_uuid:this.funnelUUID,game_instance_id:this.gameInstanceId,game_instance_uuid:this.gameInstanceUuid,game_type:this.gameType,mode_type:this.modeType,platform:n.t4T.WEB,referrer:l||window.document.referrer,selected_only:void 0!==d?d:this.selectedOnly,server_session_id:a,server_studyable_id:this.studyableId,server_term_id:i,study_session_id:this.getStudySessionId(),studyable_type:this.studyableType,uid:this.uid,user_id:this.userId||null,...c},{loggers:m,loggerConfig:g}=t;m&&m.logEvent?m.logEvent("study_events",p,{includeUserDetails:!1}):g&&(0,o.K)(g,"study_events",p,{includeUserDetails:!1}),e!==n.WVJ.BEGIN||this.embedType||u.ZP.logSearchHitStudy(this.studyableId,this.studyableType,this.getStudySessionId(),this.modeType,t)}getQuestionEventLogger(){return this.questionEventLogger}}},"./app/j/utils/StudyPageVisibilityTracker.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s("./app/j/config/enums.ts");class o{constructor(e){this.handleVisible=()=>{this.logFn(n.WVJ.ENTER)},this.handleHidden=()=>{this.logFn(n.WVJ.EXIT)},this.logFn=e,"visible"===document.visibilityState&&this.handleVisible(),document.addEventListener("visibilitychange",(()=>{switch(document.visibilityState){case"hidden":this.handleHidden();break;case"visible":this.handleVisible()}}),!0)}}},"./app/j/utils/StudySettingEncodingHelper.ts":(e,t,s)=>{"use strict";s.d(t,{Yu:()=>p,R1:()=>g,S5:()=>m,Tx:()=>_,eR:()=>h});var n=s("./node_modules/lodash/flow.js"),o=s.n(n),a=(s("./node_modules/core-js/modules/es.array.reduce.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./app/j/config/enums.ts")),r=s("./app/j/config/study-setting-metadata.ts"),i=s("./node_modules/nullthrows/nullthrows.js"),l=s.n(i),d=s("./app/j/study-modes/legacy-common/utils/studiablesToTermUtils.ts");a.Std.PROMPT_TERM_SIDES,a.Std.ANSWER_TERM_SIDES,a.Std.MATCH_MODE_SIDES,a.Std.TEST_PROMPT_TERM_SIDES,a.Std.TEST_ANSWER_TERM_SIDES;function u(e){const t=l()(function(e,t){const s=Object.keys(e);for(let n=0;n<s.length;n++)if(e[s[n]]===t)return s[n];return null}(a.Std,e));return r.ZP[t]?t:null}function c(e){return 2**Number(e)}function p(e){return e.reduce(((e,t)=>{return s=e,n=t,void 0===o&&(o=!0),Number(o?s|n:s&~n);var s,n,o}),0)}function m(e){return p(e.map(c))}function g(e){return p(e.map(o()(d.Q,c)))}function h(e,t,s){let n;return n=t?[...s,e]:s.filter((t=>t!==e)),n}function _(e){const t=l()(u(e));return r.ZP[t]}},"./app/j/utils/diff.ts":(e,t,s)=>{"use strict";function n(e){let{ignoreCase:t}=e;this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32,this.ignoreCase=t}s.d(t,{D$:()=>a,JZ:()=>r,NL:()=>o,ZP:()=>i});const o=-1,a=1,r=0;n.Diff,n.prototype.diff_main=function(e,t,s,n){void 0===s&&(s=!0),void 0===n&&(n=void 0),void 0===n&&(n=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=n;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[r,e]]:[];var a=this.diff_commonPrefix(e,t),i=e.substring(0,a);e=e.substring(a),t=t.substring(a),a=this.diff_commonSuffix(e,t);var l=e.substring(e.length-a);e=e.substring(0,e.length-a),t=t.substring(0,t.length-a);var d=this.diff_compute_(e,t,s,o);return i&&d.unshift([r,i]),l&&d.push([r,l]),this.diff_cleanupMerge(d),d},n.prototype.diff_compute_=function(e,t,s,n){var i;if(!e)return[[a,t]];if(!t)return[[o,e]];var l=e.length>t.length?e:t,d=e.length>t.length?t:e,u=l.indexOf(d);if(-1!=u)return i=[[a,l.substring(0,u)],[r,d],[a,l.substring(u+d.length)]],e.length>t.length&&(i[0][0]=i[2][0]=o),i;if(1==d.length)return[[o,e],[a,t]];l=d=null;var c=this.diff_halfMatch_(e,t);if(c){var p=c[0],m=c[1],g=c[2],h=c[3],_=c[4],S=this.diff_main(p,g,s,n),f=this.diff_main(m,h,s,n);return S.concat([[r,_]],f)}return this.diff_bisect_(e,t,n)},n.prototype.diff_bisect_=function(e,t,s){for(var n=e.length,r=t.length,i=Math.ceil((n+r)/2),l=i,d=2*i,u=new Array(d),c=new Array(d),p=0;p<d;p++)u[p]=-1,c[p]=-1;u[l+1]=0,c[l+1]=0;for(var m=n-r,g=m%2!=0,h=0,_=0,S=0,f=0,y=0;y<i&&!((new Date).getTime()>s);y++){for(var j=-y+h;j<=y-_;j+=2){for(var E=l+j,T=(v=j==-y||j!=y&&u[E-1]<u[E+1]?u[E+1]:u[E-1]+1)-j;v<n&&T<r&&e.charAt(v)==t.charAt(T);)v++,T++;if(u[E]=v,v>n)_+=2;else if(T>r)h+=2;else if(g){if((A=l+m-j)>=0&&A<d&&-1!=c[A])if(v>=(b=n-c[A]))return this.diff_bisectSplit_(e,t,v,T,s)}}for(var x=-y+S;x<=y-f;x+=2){for(var b,A=l+x,I=(b=x==-y||x!=y&&c[A-1]<c[A+1]?c[A+1]:c[A-1]+1)-x;b<n&&I<r&&e.charAt(n-b-1)==t.charAt(r-I-1);)b++,I++;if(c[A]=b,b>n)f+=2;else if(I>r)S+=2;else if(!g){if((E=l+m-x)>=0&&E<d&&-1!=u[E]){var v;T=l+(v=u[E])-E;if(v>=(b=n-b))return this.diff_bisectSplit_(e,t,v,T,s)}}}}return[[o,e],[a,t]]},n.prototype.diff_bisectSplit_=function(e,t,s,n,o){var a=e.substring(0,s),r=t.substring(0,n),i=e.substring(s),l=t.substring(n),d=this.diff_main(a,r,!1,o),u=this.diff_main(i,l,!1,o);return d.concat(u)},n.prototype.diff_commonPrefix=function(e,t){var s=this.ignoreCase?e.charAt(0).toLowerCase()!=t.charAt(0).toLowerCase():e.charAt(0)!=t.charAt(0);if(!e||!t||s)return 0;for(var n=0,o=Math.min(e.length,t.length),a=o,r=0;n<a;){var i=e.substring(r,a),l=t.substring(r,a);this.ignoreCase&&(i=i.toLowerCase(),l=l.toLowerCase()),i==l?r=n=a:o=a,a=Math.floor((o-n)/2+n)}return a},n.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1).toLowerCase()!=t.charAt(t.length-1).toLowerCase())return 0;for(var s=0,n=Math.min(e.length,t.length),o=n,a=0;s<o;){var r=e.substring(e.length-o,e.length-a),i=t.substring(t.length-o,t.length-a);this.ignoreCase&&(r=r.toLowerCase(),i=i.toLowerCase()),r==i?a=s=o:n=o,o=Math.floor((n-s)/2+s)}return o},n.prototype.diff_commonOverlap_=function(e,t){var s=e.length,n=t.length;if(0==s||0==n)return 0;s>n?e=e.substring(s-n):s<n&&(t=t.substring(0,s));var o=Math.min(s,n);if(e==t)return o;for(var a=0,r=1;;){var i=e.substring(o-r),l=t.indexOf(i);if(-1==l)return a;r+=l,0!=l&&e.substring(o-r)!=t.substring(0,r)||(a=r,r++)}},n.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var s=e.length>t.length?e:t,n=e.length>t.length?t:e;if(s.length<4||2*n.length<s.length)return null;var o=this;function a(e,t,s){for(var n,a,r,i,l=e.substring(s,s+Math.floor(e.length/4)),d=-1,u="";-1!=(d=t.indexOf(l,d+1));){var c=o.diff_commonPrefix(e.substring(s),t.substring(d)),p=o.diff_commonSuffix(e.substring(0,s),t.substring(0,d));u.length<p+c&&(u=t.substring(d-p,d)+t.substring(d,d+c),n=e.substring(0,s-p),a=e.substring(s+c),r=t.substring(0,d-p),i=t.substring(d+c))}return 2*u.length>=e.length?[n,a,r,i,u]:null}var r,i,l,d,u,c=a(s,n,Math.ceil(s.length/4)),p=a(s,n,Math.ceil(s.length/2));return c||p?(r=p?c&&c[4].length>p[4].length?c:p:c,e.length>t.length?(i=r[0],l=r[1],d=r[2],u=r[3]):(d=r[0],u=r[1],i=r[2],l=r[3]),[i,l,d,u,r[4]]):null},n.prototype.diff_cleanupSemantic=function(e){for(var t=!1,s=[],n=0,i=null,l=0,d=0,u=0,c=0,p=0;l<e.length;)e[l][0]==r?(s[n++]=l,d=c,u=p,c=0,p=0,i=e[l][1]):(e[l][0]==a?c+=e[l][1].length:p+=e[l][1].length,null!==i&&i.length<=Math.max(d,u)&&i.length<=Math.max(c,p)&&(e.splice(s[n-1],0,[o,i]),e[s[n-1]+1][0]=a,n--,l=--n>0?s[n-1]:-1,d=0,u=0,c=0,p=0,i=null,t=!0)),l++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),l=1;l<e.length;){if(e[l-1][0]==o&&e[l][0]==a){var m=e[l-1][1],g=e[l][1],h=this.diff_commonOverlap_(m,g);h&&(e.splice(l,0,[r,g.substring(0,h)]),e[l-1][1]=m.substring(0,m.length-h),e[l+1][1]=g.substring(h),l++),l++}l++}},n.prototype.diff_cleanupSemanticLossless=function(e){var t=/[^a-zA-Z0-9]/,s=/\s/,n=/[\r\n]/,o=/\n\r?\n$/,a=/^\r?\n\r?\n/;function i(e,r){if(!e||!r)return 5;var i=0;return(e.charAt(e.length-1).match(t)||r.charAt(0).match(t))&&(i++,(e.charAt(e.length-1).match(s)||r.charAt(0).match(s))&&(i++,(e.charAt(e.length-1).match(n)||r.charAt(0).match(n))&&(i++,(e.match(o)||r.match(a))&&i++))),i}for(var l=1;l<e.length-1;){if(e[l-1][0]==r&&e[l+1][0]==r){var d=e[l-1][1],u=e[l][1],c=e[l+1][1],p=this.diff_commonSuffix(d,u);if(p){var m=u.substring(u.length-p);d=d.substring(0,d.length-p),u=m+u.substring(0,u.length-p),c=m+c}for(var g=d,h=u,_=c,S=i(d,u)+i(u,c);u.charAt(0)===c.charAt(0);){d+=u.charAt(0),u=u.substring(1)+c.charAt(0),c=c.substring(1);var f=i(d,u)+i(u,c);f>=S&&(S=f,g=d,h=u,_=c)}e[l-1][1]!=g&&(g?e[l-1][1]=g:(e.splice(l-1,1),l--),e[l][1]=h,_?e[l+1][1]=_:(e.splice(l+1,1),l--))}l++}},n.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,s=[],n=0,i="",l=0,d=!1,u=!1,c=!1,p=!1;l<e.length;)e[l][0]==r?(e[l][1].length<this.Diff_EditCost&&(c||p)?(s[n++]=l,d=c,u=p,i=e[l][1]):(n=0,i=""),c=p=!1):(e[l][0]==o?p=!0:c=!0,i&&(d&&u&&c&&p||i.length<this.Diff_EditCost/2&&d+u+c+p==3)&&(e.splice(s[n-1],0,[o,i]),e[s[n-1]+1][0]=a,n--,i="",d&&u?(c=p=!0,n=0):(l=--n>0?s[n-1]:-1,c=p=!1),t=!0)),l++;t&&this.diff_cleanupMerge(e)},n.prototype.diff_cleanupMerge=function(e){e.push([r,""]);for(var t,s=0,n=0,i=0,l="",d="";s<e.length;)switch(e[s][0]){case a:i++,d+=e[s][1],s++;break;case o:n++,l+=e[s][1],s++;break;case r:n+i>1?(0!==n&&0!==i&&(0!==(t=this.diff_commonPrefix(d,l))&&(s-n-i>0&&e[s-n-i-1][0]==r?e[s-n-i-1][1]+=d.substring(0,t):(e.splice(0,0,[r,d.substring(0,t)]),s++),d=d.substring(t),l=l.substring(t)),0!==(t=this.diff_commonSuffix(d,l))&&(e[s][1]=d.substring(d.length-t)+e[s][1],d=d.substring(0,d.length-t),l=l.substring(0,l.length-t))),0===n?e.splice(s-n-i,n+i,[a,d]):0===i?e.splice(s-n-i,n+i,[o,l]):e.splice(s-n-i,n+i,[o,l],[a,d]),s=s-n-i+(n?1:0)+(i?1:0)+1):0!==s&&e[s-1][0]==r?(e[s-1][1]+=e[s][1],e.splice(s,1)):s++,i=0,n=0,l="",d=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(s=1;s<e.length-1;)e[s-1][0]==r&&e[s+1][0]==r&&(e[s][1].substring(e[s][1].length-e[s-1][1].length)==e[s-1][1]?(e[s][1]=e[s-1][1]+e[s][1].substring(0,e[s][1].length-e[s-1][1].length),e[s+1][1]=e[s-1][1]+e[s+1][1],e.splice(s-1,1),u=!0):e[s][1].substring(0,e[s+1][1].length)==e[s+1][1]&&(e[s-1][1]+=e[s+1][1],e[s][1]=e[s][1].substring(e[s+1][1].length)+e[s+1][1],e.splice(s+1,1),u=!0)),s++;u&&this.diff_cleanupMerge(e)},n.prototype.diff_levenshtein=function(e){for(var t=0,s=0,n=0,i=0;i<e.length;i++){var l=e[i][0],d=e[i][1];switch(l){case a:s+=d.length;break;case o:n+=d.length;break;case r:t+=Math.max(s,n),s=0,n=0}}return t+=Math.max(s,n)};const i=n},"./app/j/utils/is-element-active.ts":(e,t,s)=>{"use strict";function n(e){return window.document.activeElement===e}s.d(t,{Z:()=>n})},"./app/j/utils/metering/MeteringPlus.tsx":(e,t,s)=>{"use strict";s.d(t,{PK:()=>p,eW:()=>i,r5:()=>g,vM:()=>l,vU:()=>m,w_:()=>c});var n=s("./node_modules/react/index.js"),o=s("./node_modules/react/jsx-runtime.js");const a=e=>({learnMeteringMeta:e}),r=(0,n.createContext)(void 0),i=e=>{let{children:t,learnMeteringMeta:s}=e;return(0,o.jsx)(r.Provider,{value:a(s),children:t})};function l(){var e,t;const s=(0,n.useContext)(r);if(void 0===s)throw new Error("useGetNumberOfMeteredPlusLearnRounds() can only be used in components with a LearnMeterContextProvider");return null!=(e=null==(t=s.learnMeteringMeta)?void 0:t.threshold)?e:null}const d=e=>({testMeteringMeta:e}),u=(0,n.createContext)(void 0),c=e=>{let{children:t,testMeteringMeta:s}=e;return(0,o.jsx)(u.Provider,{value:d(s),children:t})};function p(){var e,t;const s=(0,n.useContext)(u);if(void 0===s)throw new Error("useGetNumberOfMeteredPlusTestRounds() can only be used in components with a TestMeterContextProvider");return null!=(e=null==(t=s.testMeteringMeta)?void 0:t.threshold)?e:null}const m=(e,t)=>!(t||!e||e.canShowRewardAd)&&e.numEvents>=e.threshold,g=(e,t)=>t||m(e,t)},"./app/j/utils/strip-markdown.ts":(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});s("./node_modules/core-js/modules/es.string.replace.js");function n(e){return e.replace(/\*([^*]+)\*/g,((e,t)=>t))}},"./node_modules/core-js/modules/es.array.reverse.js":(e,t,s)=>{"use strict";var n=s("./node_modules/core-js/internals/export.js"),o=s("./node_modules/core-js/internals/function-uncurry-this.js"),a=s("./node_modules/core-js/internals/is-array.js"),r=o([].reverse),i=[1,2];n({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),r(this)}})},"./node_modules/keymaster/keymaster.js":function(e){!function(t){var s,n={},o={16:!1,18:!1,17:!1,91:!1},a=[],r={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},i={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},l={96:48,97:49,98:50,99:51,100:52,101:53,102:54,103:55,104:56,105:57};for(code=function(e){return i[e]||e.toUpperCase().charCodeAt(0)},_downKeys=[],s=1;s<20;s++)i["f"+s]=111+s;function d(e,t){for(var s=e.length;s--;)if(e[s]===t)return s;return-1}function u(e,t){if(e.length!=t.length)return!1;for(var s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}var c={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function p(e){for(s in o)o[s]=e[c[s]]}function m(e,t,s){var o,a;o=f(e),void 0===s&&(s=t,t="all");for(var r=0;r<o.length;r++)a=[],(e=o[r].split("+")).length>1&&(a=y(e),e=[e[e.length-1]]),e=e[0],(e=code(e))in n||(n[e]=[]),n[e].push({shortcut:o[r],scope:t,method:s,key:o[r],mods:a})}for(s in r)m[s]=!1;function g(e){a=e?[e]:[]}function h(){return a.length?a[a.length-1]:"all"}function _(e){a.push(e)}function S(e){var t=h();if(!Array.isArray(t))return!1;var s=t.indexOf(e);s>=0&&(t.splice(s,1),0==t.length?a.pop():a[a.length-1]=t)}function f(e){var t;return""==(t=(e=e.replace(/\s/g,"")).split(","))[t.length-1]&&(t[t.length-2]+=","),t}function y(e){for(var t=e.slice(0,e.length-1),s=0;s<t.length;s++)t[s]=r[t[s]];return t}function j(e,t,s){e.addEventListener?e.addEventListener(t,s,!1):e.attachEvent&&e.attachEvent("on"+t,(function(){s(window.event)}))}j(document,"keydown",(function(e){!function(e){var t,s,a,i,u,c;if(t=l[e.keyCode]||e.keyCode,-1==d(_downKeys,t)&&_downKeys.push(t),93!=t&&224!=t||(t=91),t in o)for(a in o[t]=!0,r)r[a]==t&&(m[a]=!0);else if(p(e),m.filter.call(this,e)&&t in n)for(c=h(),i=0;i<n[t].length;i++)if(s=n[t][i],Array.isArray(c)&&c.indexOf(s.scope)>=0||s.scope==c||"all"==s.scope){for(a in u=s.mods.length>0,o)(!o[a]&&d(s.mods,+a)>-1||o[a]&&-1==d(s.mods,+a))&&(u=!1);(0!=s.mods.length||o[16]||o[18]||o[17]||o[91])&&!u||!1===s.method(e,s)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}(e)})),j(document,"keyup",(function(e){var t,s=e.keyCode,n=d(_downKeys,s);if(n>=0&&_downKeys.splice(n,1),93!=s&&224!=s||(s=91),s in o)for(t in o[s]=!1,r)r[t]==s&&(m[t]=!1)})),j(window,"focus",(function(){for(s in o)o[s]=!1;for(s in r)m[s]=!1}));var E=t.key;t.key=m,t.key.setScope=g,t.key.getScope=h,t.key.pushScope=_,t.key.popScope=function(e){newScope=[];for(var t=0;t<a.length&&a[t]!==e;t++)newScope.push(a[t]);a=newScope,S(e)},t.key.deleteScope=function(e){var t,s,o;for(t in n)for(s=n[t],o=0;o<s.length;)s[o].scope===e?s.splice(o,1):o++},t.key.addOverlappingScope=function(e){var t=h(),s=[];"all"!=t?(Array.isArray(t)?s=t:s.push(t),s.indexOf(e)>-1||(s.push(e),Array.isArray(t)?a[a.length-1]=s:_(s))):g(e)},t.key.removeOverlappingScope=S,t.key.filter=function(e){var t,s=(t=(t=e.target||e.srcElement)instanceof HTMLDocument?t.documentElement:t).tagName,n=t.classList;if(!(n instanceof DOMTokenList))throw console.info("Event",e),new Error("Browser does not support classList");var o="INPUT"!==s&&"SELECT"!==s&&"TEXTAREA"!==s,a=n.contains("js-keymaster-allow");return o||a},t.key.isPressed=function(e){return"string"==typeof e&&(e=code(e)),-1!=d(_downKeys,e)},t.key.getPressedKeyCodes=function(){return _downKeys.slice(0)},t.key.noConflict=function(){var e=t.key;return t.key=E,e},t.key.unbind=function(e,t){var s,o,a,r,i,l=[];for(s=f(e),r=0;r<s.length;r++){if((o=s[r].split("+")).length>1&&(l=y(o)),e=o[o.length-1],e=code(e),void 0===t&&(t=h()),!n[e])return;for(a=0;a<n[e].length;a++)(i=n[e][a]).scope===t&&u(i.mods,l)&&(n[e][a]={})}},e.exports=m}(this)},"./node_modules/lodash/_LazyWrapper.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseCreate.js"),o=s("./node_modules/lodash/_baseLodash.js");function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}a.prototype=n(o.prototype),a.prototype.constructor=a,e.exports=a},"./node_modules/lodash/_LodashWrapper.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseCreate.js"),o=s("./node_modules/lodash/_baseLodash.js");function a(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}a.prototype=n(o.prototype),a.prototype.constructor=a,e.exports=a},"./node_modules/lodash/_arrayEach.js":e=>{e.exports=function(e,t){for(var s=-1,n=null==e?0:e.length;++s<n&&!1!==t(e[s],s,e););return e}},"./node_modules/lodash/_arrayReduce.js":e=>{e.exports=function(e,t,s,n){var o=-1,a=null==e?0:e.length;for(n&&a&&(s=e[++o]);++o<a;)s=t(s,e[o],o,e);return s}},"./node_modules/lodash/_assignMergeValue.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseAssignValue.js"),o=s("./node_modules/lodash/eq.js");e.exports=function(e,t,s){(void 0!==s&&!o(e[t],s)||void 0===s&&!(t in e))&&n(e,t,s)}},"./node_modules/lodash/_baseAssign.js":(e,t,s)=>{var n=s("./node_modules/lodash/_copyObject.js"),o=s("./node_modules/lodash/keys.js");e.exports=function(e,t){return e&&n(t,o(t),e)}},"./node_modules/lodash/_baseAssignIn.js":(e,t,s)=>{var n=s("./node_modules/lodash/_copyObject.js"),o=s("./node_modules/lodash/keysIn.js");e.exports=function(e,t){return e&&n(t,o(t),e)}},"./node_modules/lodash/_baseClone.js":(e,t,s)=>{var n=s("./node_modules/lodash/_Stack.js"),o=s("./node_modules/lodash/_arrayEach.js"),a=s("./node_modules/lodash/_assignValue.js"),r=s("./node_modules/lodash/_baseAssign.js"),i=s("./node_modules/lodash/_baseAssignIn.js"),l=s("./node_modules/lodash/_cloneBuffer.js"),d=s("./node_modules/lodash/_copyArray.js"),u=s("./node_modules/lodash/_copySymbols.js"),c=s("./node_modules/lodash/_copySymbolsIn.js"),p=s("./node_modules/lodash/_getAllKeys.js"),m=s("./node_modules/lodash/_getAllKeysIn.js"),g=s("./node_modules/lodash/_getTag.js"),h=s("./node_modules/lodash/_initCloneArray.js"),_=s("./node_modules/lodash/_initCloneByTag.js"),S=s("./node_modules/lodash/_initCloneObject.js"),f=s("./node_modules/lodash/isArray.js"),y=s("./node_modules/lodash/isBuffer.js"),j=s("./node_modules/lodash/isMap.js"),E=s("./node_modules/lodash/isObject.js"),T=s("./node_modules/lodash/isSet.js"),x=s("./node_modules/lodash/keys.js"),b=s("./node_modules/lodash/keysIn.js"),A="[object Arguments]",I="[object Function]",v="[object Object]",C={};C[A]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[v]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[I]=C["[object WeakMap]"]=!1,e.exports=function e(t,s,w,N,O,M){var L,D=1&s,R=2&s,P=4&s;if(w&&(L=O?w(t,N,O,M):w(t)),void 0!==L)return L;if(!E(t))return t;var k=f(t);if(k){if(L=h(t),!D)return d(t,L)}else{var U=g(t),W=U==I||"[object GeneratorFunction]"==U;if(y(t))return l(t,D);if(U==v||U==A||W&&!O){if(L=R||W?{}:S(t),!D)return R?c(t,i(L,t)):u(t,r(L,t))}else{if(!C[U])return O?t:{};L=_(t,U,D)}}M||(M=new n);var Z=M.get(t);if(Z)return Z;M.set(t,L),T(t)?t.forEach((function(n){L.add(e(n,s,w,n,t,M))})):j(t)&&t.forEach((function(n,o){L.set(o,e(n,s,w,o,t,M))}));var F=k?void 0:(P?R?m:p:R?b:x)(t);return o(F||t,(function(n,o){F&&(n=t[o=n]),a(L,o,e(n,s,w,o,t,M))})),L}},"./node_modules/lodash/_baseDifference.js":(e,t,s)=>{var n=s("./node_modules/lodash/_SetCache.js"),o=s("./node_modules/lodash/_arrayIncludes.js"),a=s("./node_modules/lodash/_arrayIncludesWith.js"),r=s("./node_modules/lodash/_arrayMap.js"),i=s("./node_modules/lodash/_baseUnary.js"),l=s("./node_modules/lodash/_cacheHas.js");e.exports=function(e,t,s,d){var u=-1,c=o,p=!0,m=e.length,g=[],h=t.length;if(!m)return g;s&&(t=r(t,i(s))),d?(c=a,p=!1):t.length>=200&&(c=l,p=!1,t=new n(t));e:for(;++u<m;){var _=e[u],S=null==s?_:s(_);if(_=d||0!==_?_:0,p&&S==S){for(var f=h;f--;)if(t[f]===S)continue e;g.push(_)}else c(t,S,d)||g.push(_)}return g}},"./node_modules/lodash/_baseIntersection.js":(e,t,s)=>{var n=s("./node_modules/lodash/_SetCache.js"),o=s("./node_modules/lodash/_arrayIncludes.js"),a=s("./node_modules/lodash/_arrayIncludesWith.js"),r=s("./node_modules/lodash/_arrayMap.js"),i=s("./node_modules/lodash/_baseUnary.js"),l=s("./node_modules/lodash/_cacheHas.js"),d=Math.min;e.exports=function(e,t,s){for(var u=s?a:o,c=e[0].length,p=e.length,m=p,g=Array(p),h=1/0,_=[];m--;){var S=e[m];m&&t&&(S=r(S,i(t))),h=d(S.length,h),g[m]=!s&&(t||c>=120&&S.length>=120)?new n(m&&S):void 0}S=e[0];var f=-1,y=g[0];e:for(;++f<c&&_.length<h;){var j=S[f],E=t?t(j):j;if(j=s||0!==j?j:0,!(y?l(y,E):u(_,E,s))){for(m=p;--m;){var T=g[m];if(!(T?l(T,E):u(e[m],E,s)))continue e}y&&y.push(E),_.push(j)}}return _}},"./node_modules/lodash/_baseIsMap.js":(e,t,s)=>{var n=s("./node_modules/lodash/_getTag.js"),o=s("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return o(e)&&"[object Map]"==n(e)}},"./node_modules/lodash/_baseIsSet.js":(e,t,s)=>{var n=s("./node_modules/lodash/_getTag.js"),o=s("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return o(e)&&"[object Set]"==n(e)}},"./node_modules/lodash/_baseLodash.js":e=>{e.exports=function(){}},"./node_modules/lodash/_baseMerge.js":(e,t,s)=>{var n=s("./node_modules/lodash/_Stack.js"),o=s("./node_modules/lodash/_assignMergeValue.js"),a=s("./node_modules/lodash/_baseFor.js"),r=s("./node_modules/lodash/_baseMergeDeep.js"),i=s("./node_modules/lodash/isObject.js"),l=s("./node_modules/lodash/keysIn.js"),d=s("./node_modules/lodash/_safeGet.js");e.exports=function e(t,s,u,c,p){t!==s&&a(s,(function(a,l){if(p||(p=new n),i(a))r(t,s,l,u,e,c,p);else{var m=c?c(d(t,l),a,l+"",t,s,p):void 0;void 0===m&&(m=a),o(t,l,m)}}),l)}},"./node_modules/lodash/_baseMergeDeep.js":(e,t,s)=>{var n=s("./node_modules/lodash/_assignMergeValue.js"),o=s("./node_modules/lodash/_cloneBuffer.js"),a=s("./node_modules/lodash/_cloneTypedArray.js"),r=s("./node_modules/lodash/_copyArray.js"),i=s("./node_modules/lodash/_initCloneObject.js"),l=s("./node_modules/lodash/isArguments.js"),d=s("./node_modules/lodash/isArray.js"),u=s("./node_modules/lodash/isArrayLikeObject.js"),c=s("./node_modules/lodash/isBuffer.js"),p=s("./node_modules/lodash/isFunction.js"),m=s("./node_modules/lodash/isObject.js"),g=s("./node_modules/lodash/isPlainObject.js"),h=s("./node_modules/lodash/isTypedArray.js"),_=s("./node_modules/lodash/_safeGet.js"),S=s("./node_modules/lodash/toPlainObject.js");e.exports=function(e,t,s,f,y,j,E){var T=_(e,s),x=_(t,s),b=E.get(x);if(b)n(e,s,b);else{var A=j?j(T,x,s+"",e,t,E):void 0,I=void 0===A;if(I){var v=d(x),C=!v&&c(x),w=!v&&!C&&h(x);A=x,v||C||w?d(T)?A=T:u(T)?A=r(T):C?(I=!1,A=o(x,!0)):w?(I=!1,A=a(x,!0)):A=[]:g(x)||l(x)?(A=T,l(T)?A=S(T):m(T)&&!p(T)||(A=i(x))):I=!1}I&&(E.set(x,A),y(A,x,f,j,E),E.delete(x)),n(e,s,A)}}},"./node_modules/lodash/_baseReduce.js":e=>{e.exports=function(e,t,s,n,o){return o(e,(function(e,o,a){s=n?(n=!1,e):t(s,e,o,a)})),s}},"./node_modules/lodash/_baseUniq.js":(e,t,s)=>{var n=s("./node_modules/lodash/_SetCache.js"),o=s("./node_modules/lodash/_arrayIncludes.js"),a=s("./node_modules/lodash/_arrayIncludesWith.js"),r=s("./node_modules/lodash/_cacheHas.js"),i=s("./node_modules/lodash/_createSet.js"),l=s("./node_modules/lodash/_setToArray.js");e.exports=function(e,t,s){var d=-1,u=o,c=e.length,p=!0,m=[],g=m;if(s)p=!1,u=a;else if(c>=200){var h=t?null:i(e);if(h)return l(h);p=!1,u=r,g=new n}else g=t?[]:m;e:for(;++d<c;){var _=e[d],S=t?t(_):_;if(_=s||0!==_?_:0,p&&S==S){for(var f=g.length;f--;)if(g[f]===S)continue e;t&&g.push(S),m.push(_)}else u(g,S,s)||(g!==m&&g.push(S),m.push(_))}return m}},"./node_modules/lodash/_baseUnset.js":(e,t,s)=>{var n=s("./node_modules/lodash/_castPath.js"),o=s("./node_modules/lodash/last.js"),a=s("./node_modules/lodash/_parent.js"),r=s("./node_modules/lodash/_toKey.js");e.exports=function(e,t){return t=n(t,e),null==(e=a(e,t))||delete e[r(o(t))]}},"./node_modules/lodash/_castArrayLikeObject.js":(e,t,s)=>{var n=s("./node_modules/lodash/isArrayLikeObject.js");e.exports=function(e){return n(e)?e:[]}},"./node_modules/lodash/_castFunction.js":(e,t,s)=>{var n=s("./node_modules/lodash/identity.js");e.exports=function(e){return"function"==typeof e?e:n}},"./node_modules/lodash/_cloneDataView.js":(e,t,s)=>{var n=s("./node_modules/lodash/_cloneArrayBuffer.js");e.exports=function(e,t){var s=t?n(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.byteLength)}},"./node_modules/lodash/_cloneRegExp.js":e=>{var t=/\w*$/;e.exports=function(e){var s=new e.constructor(e.source,t.exec(e));return s.lastIndex=e.lastIndex,s}},"./node_modules/lodash/_cloneSymbol.js":(e,t,s)=>{var n=s("./node_modules/lodash/_Symbol.js"),o=n?n.prototype:void 0,a=o?o.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},"./node_modules/lodash/_copySymbols.js":(e,t,s)=>{var n=s("./node_modules/lodash/_copyObject.js"),o=s("./node_modules/lodash/_getSymbols.js");e.exports=function(e,t){return n(e,o(e),t)}},"./node_modules/lodash/_copySymbolsIn.js":(e,t,s)=>{var n=s("./node_modules/lodash/_copyObject.js"),o=s("./node_modules/lodash/_getSymbolsIn.js");e.exports=function(e,t){return n(e,o(e),t)}},"./node_modules/lodash/_createAssigner.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseRest.js"),o=s("./node_modules/lodash/_isIterateeCall.js");e.exports=function(e){return n((function(t,s){var n=-1,a=s.length,r=a>1?s[a-1]:void 0,i=a>2?s[2]:void 0;for(r=e.length>3&&"function"==typeof r?(a--,r):void 0,i&&o(s[0],s[1],i)&&(r=a<3?void 0:r,a=1),t=Object(t);++n<a;){var l=s[n];l&&e(t,l,n,r)}return t}))}},"./node_modules/lodash/_createFlow.js":(e,t,s)=>{var n=s("./node_modules/lodash/_LodashWrapper.js"),o=s("./node_modules/lodash/_flatRest.js"),a=s("./node_modules/lodash/_getData.js"),r=s("./node_modules/lodash/_getFuncName.js"),i=s("./node_modules/lodash/isArray.js"),l=s("./node_modules/lodash/_isLaziable.js");e.exports=function(e){return o((function(t){var s=t.length,o=s,d=n.prototype.thru;for(e&&t.reverse();o--;){var u=t[o];if("function"!=typeof u)throw new TypeError("Expected a function");if(d&&!c&&"wrapper"==r(u))var c=new n([],!0)}for(o=c?o:s;++o<s;){u=t[o];var p=r(u),m="wrapper"==p?a(u):void 0;c=m&&l(m[0])&&424==m[1]&&!m[4].length&&1==m[9]?c[r(m[0])].apply(c,m[3]):1==u.length&&l(u)?c[p]():c.thru(u)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&i(n))return c.plant(n).value();for(var o=0,a=s?t[o].apply(this,e):n;++o<s;)a=t[o].call(this,a);return a}}))}},"./node_modules/lodash/_createSet.js":(e,t,s)=>{var n=s("./node_modules/lodash/_Set.js"),o=s("./node_modules/lodash/noop.js"),a=s("./node_modules/lodash/_setToArray.js"),r=n&&1/a(new n([,-0]))[1]==1/0?function(e){return new n(e)}:o;e.exports=r},"./node_modules/lodash/_customOmitClone.js":(e,t,s)=>{var n=s("./node_modules/lodash/isPlainObject.js");e.exports=function(e){return n(e)?void 0:e}},"./node_modules/lodash/_getAllKeysIn.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseGetAllKeys.js"),o=s("./node_modules/lodash/_getSymbolsIn.js"),a=s("./node_modules/lodash/keysIn.js");e.exports=function(e){return n(e,a,o)}},"./node_modules/lodash/_getData.js":(e,t,s)=>{var n=s("./node_modules/lodash/_metaMap.js"),o=s("./node_modules/lodash/noop.js"),a=n?function(e){return n.get(e)}:o;e.exports=a},"./node_modules/lodash/_getFuncName.js":(e,t,s)=>{var n=s("./node_modules/lodash/_realNames.js"),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",s=n[t],a=o.call(n,t)?s.length:0;a--;){var r=s[a],i=r.func;if(null==i||i==e)return r.name}return t}},"./node_modules/lodash/_getSymbolsIn.js":(e,t,s)=>{var n=s("./node_modules/lodash/_arrayPush.js"),o=s("./node_modules/lodash/_getPrototype.js"),a=s("./node_modules/lodash/_getSymbols.js"),r=s("./node_modules/lodash/stubArray.js"),i=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,a(e)),e=o(e);return t}:r;e.exports=i},"./node_modules/lodash/_initCloneArray.js":e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var s=e.length,n=new e.constructor(s);return s&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},"./node_modules/lodash/_initCloneByTag.js":(e,t,s)=>{var n=s("./node_modules/lodash/_cloneArrayBuffer.js"),o=s("./node_modules/lodash/_cloneDataView.js"),a=s("./node_modules/lodash/_cloneRegExp.js"),r=s("./node_modules/lodash/_cloneSymbol.js"),i=s("./node_modules/lodash/_cloneTypedArray.js");e.exports=function(e,t,s){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return i(e,s);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return a(e);case"[object Symbol]":return r(e)}}},"./node_modules/lodash/_isLaziable.js":(e,t,s)=>{var n=s("./node_modules/lodash/_LazyWrapper.js"),o=s("./node_modules/lodash/_getData.js"),a=s("./node_modules/lodash/_getFuncName.js"),r=s("./node_modules/lodash/wrapperLodash.js");e.exports=function(e){var t=a(e),s=r[t];if("function"!=typeof s||!(t in n.prototype))return!1;if(e===s)return!0;var i=o(s);return!!i&&e===i[0]}},"./node_modules/lodash/_metaMap.js":(e,t,s)=>{var n=s("./node_modules/lodash/_WeakMap.js"),o=n&&new n;e.exports=o},"./node_modules/lodash/_parent.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseGet.js"),o=s("./node_modules/lodash/_baseSlice.js");e.exports=function(e,t){return t.length<2?e:n(e,o(t,0,-1))}},"./node_modules/lodash/_realNames.js":e=>{e.exports={}},"./node_modules/lodash/_safeGet.js":e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},"./node_modules/lodash/_wrapperClone.js":(e,t,s)=>{var n=s("./node_modules/lodash/_LazyWrapper.js"),o=s("./node_modules/lodash/_LodashWrapper.js"),a=s("./node_modules/lodash/_copyArray.js");e.exports=function(e){if(e instanceof n)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=a(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},"./node_modules/lodash/difference.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseDifference.js"),o=s("./node_modules/lodash/_baseFlatten.js"),a=s("./node_modules/lodash/_baseRest.js"),r=s("./node_modules/lodash/isArrayLikeObject.js"),i=a((function(e,t){return r(e)?n(e,o(t,1,r,!0)):[]}));e.exports=i},"./node_modules/lodash/dropRight.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseSlice.js"),o=s("./node_modules/lodash/toInteger.js");e.exports=function(e,t,s){var a=null==e?0:e.length;return a?(t=s||void 0===t?1:o(t),n(e,0,(t=a-t)<0?0:t)):[]}},"./node_modules/lodash/flow.js":(e,t,s)=>{var n=s("./node_modules/lodash/_createFlow.js")();e.exports=n},"./node_modules/lodash/forEach.js":(e,t,s)=>{var n=s("./node_modules/lodash/_arrayEach.js"),o=s("./node_modules/lodash/_baseEach.js"),a=s("./node_modules/lodash/_castFunction.js"),r=s("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(r(e)?n:o)(e,a(t))}},"./node_modules/lodash/intersection.js":(e,t,s)=>{var n=s("./node_modules/lodash/_arrayMap.js"),o=s("./node_modules/lodash/_baseIntersection.js"),a=s("./node_modules/lodash/_baseRest.js"),r=s("./node_modules/lodash/_castArrayLikeObject.js"),i=a((function(e){var t=n(e,r);return t.length&&t[0]===e[0]?o(t):[]}));e.exports=i},"./node_modules/lodash/isMap.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseIsMap.js"),o=s("./node_modules/lodash/_baseUnary.js"),a=s("./node_modules/lodash/_nodeUtil.js"),r=a&&a.isMap,i=r?o(r):n;e.exports=i},"./node_modules/lodash/isSet.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseIsSet.js"),o=s("./node_modules/lodash/_baseUnary.js"),a=s("./node_modules/lodash/_nodeUtil.js"),r=a&&a.isSet,i=r?o(r):n;e.exports=i},"./node_modules/lodash/merge.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseMerge.js"),o=s("./node_modules/lodash/_createAssigner.js")((function(e,t,s){n(e,t,s)}));e.exports=o},"./node_modules/lodash/omit.js":(e,t,s)=>{var n=s("./node_modules/lodash/_arrayMap.js"),o=s("./node_modules/lodash/_baseClone.js"),a=s("./node_modules/lodash/_baseUnset.js"),r=s("./node_modules/lodash/_castPath.js"),i=s("./node_modules/lodash/_copyObject.js"),l=s("./node_modules/lodash/_customOmitClone.js"),d=s("./node_modules/lodash/_flatRest.js"),u=s("./node_modules/lodash/_getAllKeysIn.js"),c=d((function(e,t){var s={};if(null==e)return s;var d=!1;t=n(t,(function(t){return t=r(t,e),d||(d=t.length>1),t})),i(e,u(e),s),d&&(s=o(s,7,l));for(var c=t.length;c--;)a(s,t[c]);return s}));e.exports=c},"./node_modules/lodash/reduce.js":(e,t,s)=>{var n=s("./node_modules/lodash/_arrayReduce.js"),o=s("./node_modules/lodash/_baseEach.js"),a=s("./node_modules/lodash/_baseIteratee.js"),r=s("./node_modules/lodash/_baseReduce.js"),i=s("./node_modules/lodash/isArray.js");e.exports=function(e,t,s){var l=i(e)?n:r,d=arguments.length<3;return l(e,a(t,4),s,d,o)}},"./node_modules/lodash/toPlainObject.js":(e,t,s)=>{var n=s("./node_modules/lodash/_copyObject.js"),o=s("./node_modules/lodash/keysIn.js");e.exports=function(e){return n(e,o(e))}},"./node_modules/lodash/uniq.js":(e,t,s)=>{var n=s("./node_modules/lodash/_baseUniq.js");e.exports=function(e){return e&&e.length?n(e):[]}},"./node_modules/lodash/uniqueId.js":(e,t,s)=>{var n=s("./node_modules/lodash/toString.js"),o=0;e.exports=function(e){var t=++o;return n(e)+t}},"./node_modules/lodash/wrapperLodash.js":(e,t,s)=>{var n=s("./node_modules/lodash/_LazyWrapper.js"),o=s("./node_modules/lodash/_LodashWrapper.js"),a=s("./node_modules/lodash/_baseLodash.js"),r=s("./node_modules/lodash/isArray.js"),i=s("./node_modules/lodash/isObjectLike.js"),l=s("./node_modules/lodash/_wrapperClone.js"),d=Object.prototype.hasOwnProperty;function u(e){if(i(e)&&!r(e)&&!(e instanceof n)){if(e instanceof o)return e;if(d.call(e,"__wrapped__"))return l(e)}return new o(e)}u.prototype=a.prototype,u.prototype.constructor=u,e.exports=u},"./.linaria-cache/app/j/ads/components/studyModes/AdModal.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/assembly/AssemblyToggleSwitch.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/components/DeprecatedFormattedTextWithImage.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/components/DeprecatedSpecialCharacterTextarea.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/components/EmbedFooter.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/components/ModeLayout.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/components/SiteLogo.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/diagrams/components/DiagramShapePolygon.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/diagrams/components/DiagramShapePopup.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/rich_text/components/PMDocument.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/rich_text/components/SpecialCharactersToolbar.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/rich_text/constants.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/signup/components/AuthPromptOptions.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/signup/components/AuthPromptStyling.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/legacy-common/components/SpecialCharacterButtonGroup.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/legacy-common/components/StudyModesLayout.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModal.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalAdvancedAudio.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalGradingOptions.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalKeyboardShortcuts.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalOtherStudyModes.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalQuestionFormat.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalQuestionTypeToggles.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalResetProgress.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/OptionsModalStyling.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./.linaria-cache/app/j/study-modes/legacy-common/components/options_modal/hooks/useAnimatedMenu.linaria.css":(e,t,s)=>{"use strict";s.r(t)},"./node_modules/orderedmap/index.js":e=>{function t(e){this.content=e}t.prototype={constructor:t,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,s,n){var o=n&&n!=e?this.remove(n):this,a=o.find(e),r=o.content.slice();return-1==a?r.push(n||e,s):(r[a+1]=s,n&&(r[a]=n)),new t(r)},remove:function(e){var s=this.find(e);if(-1==s)return this;var n=this.content.slice();return n.splice(s,2),new t(n)},addToStart:function(e,s){return new t([e,s].concat(this.remove(e).content))},addToEnd:function(e,s){var n=this.remove(e).content.slice();return n.push(e,s),new t(n)},addBefore:function(e,s,n){var o=this.remove(s),a=o.content.slice(),r=o.find(e);return a.splice(-1==r?a.length:r,0,s,n),new t(a)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=t.from(e)).size?new t(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=t.from(e)).size?new t(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var s=this;e=t.from(e);for(var n=0;n<e.content.length;n+=2)s=s.remove(e.content[n]);return s},get size(){return this.content.length>>1}},t.from=function(e){if(e instanceof t)return e;var s=[];if(e)for(var n in e)s.push(n,e[n]);return new t(s)},e.exports=t},"./node_modules/react-textfit/lib/Textfit.js":(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),a=m(s("./node_modules/react/index.js")),r=m(s("./node_modules/prop-types/index.js")),i=m(s("./node_modules/react-textfit/lib/utils/shallowEqual.js")),l=m(s("./node_modules/react-textfit/lib/utils/series.js")),d=m(s("./node_modules/react-textfit/lib/utils/whilst.js")),u=m(s("./node_modules/react-textfit/lib/utils/throttle.js")),c=m(s("./node_modules/react-textfit/lib/utils/uniqueId.js")),p=s("./node_modules/react-textfit/lib/utils/innerSize.js");function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){return e.scrollWidth-1<=t}function h(e,t){return e.scrollHeight-1<=t}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.state={fontSize:null,ready:!1},s.handleWindowResize=function(){s.process()},"perfectFit"in e&&console.warn("TextFit property perfectFit has been removed."),s.handleWindowResize=(0,u.default)(s.handleWindowResize,e.throttle),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.autoResize&&window.addEventListener("resize",this.handleWindowResize),this.process()}},{key:"componentDidUpdate",value:function(e){this.state.ready&&((0,i.default)(this.props,e)||this.process())}},{key:"componentWillUnmount",value:function(){this.props.autoResize&&window.removeEventListener("resize",this.handleWindowResize),this.pid=(0,c.default)()}},{key:"process",value:function(){var e=this,t=this.props,s=t.min,n=t.max,o=t.mode,a=t.forceSingleModeWidth,r=t.onReady,i=this._parent,u=this._child,m=(0,p.innerWidth)(i),_=(0,p.innerHeight)(i);if(_<=0||isNaN(_))console.warn("Can not process element without height. Make sure the element is displayed and has a static height.");else if(m<=0||isNaN(m))console.warn("Can not process element without width. Make sure the element is displayed and has a static width.");else{var S=(0,c.default)();this.pid=S;var f=function(){return S!==e.pid},y="multi"===o?function(){return h(u,_)}:function(){return g(u,m)},j="multi"===o?function(){return g(u,m)}:function(){return h(u,_)},E=void 0,T=s,x=n;this.setState({ready:!1}),(0,l.default)([function(t){return(0,d.default)((function(){return T<=x}),(function(t){if(f())return t(!0);E=parseInt((T+x)/2,10),e.setState({fontSize:E},(function(){return f()?t(!0):(y()?T=E+1:x=E-1,t())}))}),t)},function(t){return"single"===o&&a||j()?t():(T=s,x=E,(0,d.default)((function(){return T<x}),(function(t){if(f())return t(!0);E=parseInt((T+x)/2,10),e.setState({fontSize:E},(function(){return S!==e.pid?t(!0):(j()?T=E+1:x=E-1,t())}))}),t))},function(t){if(E=Math.min(T,x),E=Math.max(E,s),E=Math.min(E,n),E=Math.max(E,0),f())return t(!0);e.setState({fontSize:E},t)}],(function(t){t||f()||e.setState({ready:!0},(function(){return r(E)}))}))}}},{key:"render",value:function(){var e=this,t=this.props,s=t.children,o=t.text,r=t.style,i=(t.min,t.max,t.mode),l=(t.forceWidth,t.forceSingleModeWidth,t.throttle,t.autoResize,t.onReady,function(e,t){var s={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);return s}(t,["children","text","style","min","max","mode","forceWidth","forceSingleModeWidth","throttle","autoResize","onReady"])),d=this.state,u=d.fontSize,c=d.ready,p=n({},r,{fontSize:u}),m={display:c?"block":"inline-block"};return"single"===i&&(m.whiteSpace="nowrap"),a.default.createElement("div",n({ref:function(t){return e._parent=t},style:p},l),a.default.createElement("div",{ref:function(t){return e._child=t},style:m},o&&"function"==typeof s?c?s(o):o:s))}}]),t}(a.default.Component);_.propTypes={children:r.default.node,text:r.default.string,min:r.default.number,max:r.default.number,mode:r.default.oneOf(["single","multi"]),forceSingleModeWidth:r.default.bool,throttle:r.default.number,onReady:r.default.func},_.defaultProps={min:1,max:100,mode:"multi",forceSingleModeWidth:!0,throttle:50,autoResize:!0,onReady:function(){}},t.default=_},"./node_modules/react-textfit/lib/index.js":(e,t,s)=>{"use strict";var n,o=s("./node_modules/react-textfit/lib/Textfit.js"),a=(n=o)&&n.__esModule?n:{default:n};a.default,t.ZP=a.default},"./node_modules/react-textfit/lib/utils/innerSize.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.innerHeight=function(e){var t=window.getComputedStyle(e,null);return t?e.clientHeight-parseInt(t.getPropertyValue("padding-top"),10)-parseInt(t.getPropertyValue("padding-bottom"),10):e.clientHeight},t.innerWidth=function(e){var t=window.getComputedStyle(e,null);return t?e.clientWidth-parseInt(t.getPropertyValue("padding-left"),10)-parseInt(t.getPropertyValue("padding-right"),10):e.clientWidth}},"./node_modules/react-textfit/lib/utils/series.js":(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var s=[],n=0,o=!0;function r(e){function n(){t&&t(e,s)}o?a.default.nextTick(n):n()}e.length>0?e[0]((function t(o,a){s.push(a),++n>=e.length||o?r(o):e[n](t)})):r(null);o=!1};var n,o=s("./node_modules/process/browser.js"),a=(n=o)&&n.__esModule?n:{default:n}},"./node_modules/react-textfit/lib/utils/shallowEqual.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty,a=0;a<s.length;a++)if(!o.call(t,s[a])||e[s[a]]!==t[s[a]])return!1;return!0}},"./node_modules/react-textfit/lib/utils/throttle.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var s=void 0,n=void 0,o=void 0,a=void 0,r=0;function i(){a=0,r=+new Date,o=e.apply(s,n),s=null,n=null}return function(){s=this,n=arguments;var e=new Date-r;return a||(e>=t?i():a=setTimeout(i,t-e)),o}}},"./node_modules/react-textfit/lib/utils/uniqueId.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return s++};var s=0},"./node_modules/react-textfit/lib/utils/whilst.js":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;e()?t((function s(o){for(var a=arguments.length,r=Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];o?n(o):e.apply(this,r)?t(s):n(null)})):n(null)};var s=function(){}},"./node_modules/react-transition-group/cjs/CSSTransition.js":(e,t,s)=>{"use strict";t.__esModule=!0,t.default=void 0;i(s("./node_modules/prop-types/index.js"));var n=i(s("./node_modules/react-transition-group/node_modules/dom-helpers/cjs/addClass.js")),o=i(s("./node_modules/react-transition-group/node_modules/dom-helpers/cjs/removeClass.js")),a=i(s("./node_modules/react/index.js")),r=i(s("./node_modules/react-transition-group/cjs/Transition.js"));s("./node_modules/react-transition-group/cjs/utils/PropTypes.js");function i(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},l.apply(this,arguments)}var d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,o.default)(e,t)}))},u=function(e){var t,s;function o(){for(var t,s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,s){var n=t.resolveArguments(e,s),o=n[0],a=n[1];t.removeClasses(o,"exit"),t.addClass(o,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,s)},t.onEntering=function(e,s){var n=t.resolveArguments(e,s),o=n[0],a=n[1]?"appear":"enter";t.addClass(o,a,"active"),t.props.onEntering&&t.props.onEntering(e,s)},t.onEntered=function(e,s){var n=t.resolveArguments(e,s),o=n[0],a=n[1]?"appear":"enter";t.removeClasses(o,a),t.addClass(o,a,"done"),t.props.onEntered&&t.props.onEntered(e,s)},t.onExit=function(e){var s=t.resolveArguments(e)[0];t.removeClasses(s,"appear"),t.removeClasses(s,"enter"),t.addClass(s,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var s=t.resolveArguments(e)[0];t.addClass(s,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var s=t.resolveArguments(e)[0];t.removeClasses(s,"exit"),t.addClass(s,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,s){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,s]},t.getClassNames=function(e){var s=t.props.classNames,n="string"==typeof s,o=n?""+(n&&s?s+"-":"")+e:s[e];return{baseClassName:o,activeClassName:n?o+"-active":s[e+"Active"],doneClassName:n?o+"-done":s[e+"Done"]}},t}s=e,(t=o).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s;var i=o.prototype;return i.addClass=function(e,t,s){var o=this.getClassNames(t)[s+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===s&&a&&(o+=" "+a),"active"===s&&e&&e.scrollTop,o&&(this.appliedClasses[t][s]=o,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,n.default)(e,t)}))}(e,o))},i.removeClasses=function(e,t){var s=this.appliedClasses[t],n=s.base,o=s.active,a=s.done;this.appliedClasses[t]={},n&&d(e,n),o&&d(e,o),a&&d(e,a)},i.render=function(){var e=this.props,t=(e.classNames,function(e,t){if(null==e)return{};var s,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||(o[s]=e[s]);return o}(e,["classNames"]));return a.default.createElement(r.default,l({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},o}(a.default.Component);u.defaultProps={classNames:""},u.propTypes={};var c=u;t.default=c,e.exports=t.default},"./node_modules/react-transition-group/cjs/ReplaceTransition.js":(e,t,s)=>{"use strict";t.__esModule=!0,t.default=void 0;r(s("./node_modules/prop-types/index.js"));var n=r(s("./node_modules/react/index.js")),o=r(s("./node_modules/react-dom/index.js")),a=r(s("./node_modules/react-transition-group/cjs/TransitionGroup.js"));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t,s;function r(){for(var t,s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleEnter=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t.handleLifecycle("onEnter",0,s)},t.handleEntering=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t.handleLifecycle("onEntering",0,s)},t.handleEntered=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t.handleLifecycle("onEntered",0,s)},t.handleExit=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t.handleLifecycle("onExit",1,s)},t.handleExiting=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t.handleLifecycle("onExiting",1,s)},t.handleExited=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t.handleLifecycle("onExited",1,s)},t}s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s;var i=r.prototype;return i.handleLifecycle=function(e,t,s){var a,r=this.props.children,i=n.default.Children.toArray(r)[t];if(i.props[e]&&(a=i.props)[e].apply(a,s),this.props[e]){var l=i.props.nodeRef?void 0:o.default.findDOMNode(this);this.props[e](l)}},i.render=function(){var e=this.props,t=e.children,s=e.in,o=function(e,t){if(null==e)return{};var s,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||(o[s]=e[s]);return o}(e,["children","in"]),r=n.default.Children.toArray(t),i=r[0],l=r[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,n.default.createElement(a.default,o,s?n.default.cloneElement(i,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):n.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},r}(n.default.Component);i.propTypes={};var l=i;t.default=l,e.exports=t.default},"./node_modules/react-transition-group/cjs/SwitchTransition.js":(e,t,s)=>{"use strict";t.__esModule=!0,t.default=t.modes=void 0;var n,o,a=l(s("./node_modules/react/index.js")),r=(l(s("./node_modules/prop-types/index.js")),s("./node_modules/react-transition-group/cjs/Transition.js")),i=l(s("./node_modules/react-transition-group/cjs/TransitionGroupContext.js"));function l(e){return e&&e.__esModule?e:{default:e}}var d={out:"out-in",in:"in-out"};t.modes=d;var u=function(e,t,s){return function(){var n;e.props[t]&&(n=e.props)[t].apply(n,arguments),s()}},c=((n={})[d.out]=function(e){var t=e.current,s=e.changeState;return a.default.cloneElement(t,{in:!1,onExited:u(t,"onExited",(function(){s(r.ENTERING,null)}))})},n[d.in]=function(e){var t=e.current,s=e.changeState,n=e.children;return[t,a.default.cloneElement(n,{in:!0,onEntered:u(n,"onEntered",(function(){s(r.ENTERING)}))})]},n),p=((o={})[d.out]=function(e){var t=e.children,s=e.changeState;return a.default.cloneElement(t,{in:!0,onEntered:u(t,"onEntered",(function(){s(r.ENTERED,a.default.cloneElement(t,{in:!0}))}))})},o[d.in]=function(e){var t=e.current,s=e.children,n=e.changeState;return[a.default.cloneElement(t,{in:!1,onExited:u(t,"onExited",(function(){n(r.ENTERED,a.default.cloneElement(s,{in:!0}))}))}),a.default.cloneElement(s,{in:!0})]},o),m=function(e){var t,s;function n(){for(var t,s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={status:r.ENTERED,current:null},t.appeared=!1,t.changeState=function(e,s){void 0===s&&(s=t.state.current),t.setState({status:e,current:s})},t}s=e,(t=n).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s;var o=n.prototype;return o.componentDidMount=function(){this.appeared=!0},n.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===r.ENTERING&&e.mode===d.in?{status:r.ENTERING}:!t.current||(s=t.current,n=e.children,s===n||a.default.isValidElement(s)&&a.default.isValidElement(n)&&null!=s.key&&s.key===n.key)?{current:a.default.cloneElement(e.children,{in:!0})}:{status:r.EXITING};var s,n},o.render=function(){var e,t=this.props,s=t.children,n=t.mode,o=this.state,l=o.status,d=o.current,u={children:s,current:d,changeState:this.changeState,status:l};switch(l){case r.ENTERING:e=p[n](u);break;case r.EXITING:e=c[n](u);break;case r.ENTERED:e=d}return a.default.createElement(i.default.Provider,{value:{isMounting:!this.appeared}},e)},n}(a.default.Component);m.propTypes={},m.defaultProps={mode:d.out};var g=m;t.default=g},"./node_modules/react-transition-group/cjs/Transition.js":(e,t,s)=>{"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;i(s("./node_modules/prop-types/index.js"));var n=i(s("./node_modules/react/index.js")),o=i(s("./node_modules/react-dom/index.js")),a=i(s("./node_modules/react-transition-group/cjs/config.js")),r=(s("./node_modules/react-transition-group/cjs/utils/PropTypes.js"),i(s("./node_modules/react-transition-group/cjs/TransitionGroupContext.js")));function i(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var d="exited";t.EXITED=d;var u="entering";t.ENTERING=u;var c="entered";t.ENTERED=c;var p="exiting";t.EXITING=p;var m=function(e){var t,s;function i(t,s){var n;n=e.call(this,t,s)||this;var o,a=s&&!s.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?a?(o=d,n.appearStatus=u):o=c:o=t.unmountOnExit||t.mountOnEnter?l:d,n.state={status:o},n.nextCallback=null,n}s=e,(t=i).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s,i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:d}:null};var m=i.prototype;return m.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},m.componentDidUpdate=function(e){var t=null;if(e!==this.props){var s=this.state.status;this.props.in?s!==u&&s!==c&&(t=u):s!==u&&s!==c||(t=p)}this.updateStatus(!1,t)},m.componentWillUnmount=function(){this.cancelNextCallback()},m.getTimeouts=function(){var e,t,s,n=this.props.timeout;return e=t=s=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,s=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:s}},m.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===u?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===d&&this.setState({status:l})},m.performEnter=function(e){var t=this,s=this.props.enter,n=this.context?this.context.isMounting:e,r=this.props.nodeRef?[n]:[o.default.findDOMNode(this),n],i=r[0],l=r[1],d=this.getTimeouts(),p=n?d.appear:d.enter;!e&&!s||a.default.disabled?this.safeSetState({status:c},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,l),this.safeSetState({status:u},(function(){t.props.onEntering(i,l),t.onTransitionEnd(p,(function(){t.safeSetState({status:c},(function(){t.props.onEntered(i,l)}))}))})))},m.performExit=function(){var e=this,t=this.props.exit,s=this.getTimeouts(),n=this.props.nodeRef?void 0:o.default.findDOMNode(this);t&&!a.default.disabled?(this.props.onExit(n),this.safeSetState({status:p},(function(){e.props.onExiting(n),e.onTransitionEnd(s.exit,(function(){e.safeSetState({status:d},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:d},(function(){e.props.onExited(n)}))},m.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},m.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},m.setNextCallback=function(e){var t=this,s=!0;return this.nextCallback=function(n){s&&(s=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},m.onTransitionEnd=function(e,t){this.setNextCallback(t);var s=this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(s&&!n){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],r=a[0],i=a[1];this.props.addEndListener(r,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},m.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,s=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,function(e,t){if(null==e)return{};var s,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||(o[s]=e[s]);return o}(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return n.default.createElement(r.default.Provider,{value:null},"function"==typeof s?s(e,o):n.default.cloneElement(n.default.Children.only(s),o))},i}(n.default.Component);function g(){}m.contextType=r.default,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},m.UNMOUNTED=l,m.EXITED=d,m.ENTERING=u,m.ENTERED=c,m.EXITING=p;var h=m;t.default=h},"./node_modules/react-transition-group/cjs/TransitionGroup.js":(e,t,s)=>{"use strict";t.__esModule=!0,t.default=void 0;r(s("./node_modules/prop-types/index.js"));var n=r(s("./node_modules/react/index.js")),o=r(s("./node_modules/react-transition-group/cjs/TransitionGroupContext.js")),a=s("./node_modules/react-transition-group/cjs/utils/ChildMapping.js");function r(e){return e&&e.__esModule?e:{default:e}}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},i.apply(this,arguments)}var l=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){var t,s;function r(t,s){var n,o=(n=e.call(this,t,s)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));return n.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},n}s=e,(t=r).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s;var d=r.prototype;return d.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},d.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var s=t.children,n=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,n):(0,a.getNextChildMapping)(e,s,n),firstRender:!1}},d.handleExited=function(e,t){var s=(0,a.getChildMapping)(this.props.children);e.key in s||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var s=i({},t.children);return delete s[e.key],{children:s}})))},d.render=function(){var e=this.props,t=e.component,s=e.childFactory,a=function(e,t){if(null==e)return{};var s,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||(o[s]=e[s]);return o}(e,["component","childFactory"]),r=this.state.contextValue,i=l(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,null===t?n.default.createElement(o.default.Provider,{value:r},i):n.default.createElement(o.default.Provider,{value:r},n.default.createElement(t,a,i))},r}(n.default.Component);d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var u=d;t.default=u,e.exports=t.default},"./node_modules/react-transition-group/cjs/TransitionGroupContext.js":(e,t,s)=>{"use strict";var n;t.__esModule=!0,t.default=void 0;var o=((n=s("./node_modules/react/index.js"))&&n.__esModule?n:{default:n}).default.createContext(null);t.default=o,e.exports=t.default},"./node_modules/react-transition-group/cjs/config.js":(e,t)=>{"use strict";t.__esModule=!0,t.default=void 0;t.default={disabled:!1},e.exports=t.default},"./node_modules/react-transition-group/cjs/index.js":(e,t,s)=>{"use strict";t.TL=t.Kv=void 0;var n=a(s("./node_modules/react-transition-group/cjs/CSSTransition.js"));t.Kv=n.default,a(s("./node_modules/react-transition-group/cjs/ReplaceTransition.js")).default;var o=a(s("./node_modules/react-transition-group/cjs/SwitchTransition.js"));function a(e){return e&&e.__esModule?e:{default:e}}t.TL=o.default,a(s("./node_modules/react-transition-group/cjs/TransitionGroup.js")).default,a(s("./node_modules/react-transition-group/cjs/Transition.js")).default,a(s("./node_modules/react-transition-group/cjs/config.js")).default},"./node_modules/react-transition-group/cjs/utils/ChildMapping.js":(e,t,s)=>{"use strict";t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=a,t.getInitialChildMapping=function(e,t){return o(e.children,(function(s){return(0,n.cloneElement)(s,{onExited:t.bind(null,s),in:!0,appear:r(s,"appear",e),enter:r(s,"enter",e),exit:r(s,"exit",e)})}))},t.getNextChildMapping=function(e,t,s){var i=o(e.children),l=a(t,i);return Object.keys(l).forEach((function(o){var a=l[o];if((0,n.isValidElement)(a)){var d=o in t,u=o in i,c=t[o],p=(0,n.isValidElement)(c)&&!c.props.in;!u||d&&!p?u||!d||p?u&&d&&(0,n.isValidElement)(c)&&(l[o]=(0,n.cloneElement)(a,{onExited:s.bind(null,a),in:c.props.in,exit:r(a,"exit",e),enter:r(a,"enter",e)})):l[o]=(0,n.cloneElement)(a,{in:!1}):l[o]=(0,n.cloneElement)(a,{onExited:s.bind(null,a),in:!0,exit:r(a,"exit",e),enter:r(a,"enter",e)})}})),l};var n=s("./node_modules/react/index.js");function o(e,t){var s=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){s[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),s}function a(e,t){function s(s){return s in t?t[s]:e[s]}e=e||{},t=t||{};var n,o=Object.create(null),a=[];for(var r in e)r in t?a.length&&(o[r]=a,a=[]):a.push(r);var i={};for(var l in t){if(o[l])for(n=0;n<o[l].length;n++){var d=o[l][n];i[o[l][n]]=s(d)}i[l]=s(l)}for(n=0;n<a.length;n++)i[a[n]]=s(a[n]);return i}function r(e,t,s){return null!=s[t]?s[t]:e.props[t]}},"./node_modules/react-transition-group/cjs/utils/PropTypes.js":(e,t,s)=>{"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var n;(n=s("./node_modules/prop-types/index.js"))&&n.__esModule;t.timeoutsShape=null;t.classNamesShape=null},"./node_modules/react-transition-group/node_modules/dom-helpers/cjs/addClass.js":(e,t,s)=>{"use strict";var n=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var o=n(s("./node_modules/react-transition-group/node_modules/dom-helpers/cjs/hasClass.js"));e.exports=t.default},"./node_modules/react-transition-group/node_modules/dom-helpers/cjs/hasClass.js":(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},"./node_modules/react-transition-group/node_modules/dom-helpers/cjs/removeClass.js":(e,t)=>{"use strict";function s(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=s(e.className,t):e.setAttribute("class",s(e.className&&e.className.baseVal||"",t))},e.exports=t.default},"./node_modules/wgs84/index.js":e=>{e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142}},e=>{e.O(0,["react","redux","immutable","rich_text_rendering","quizlet_shared_kotlin","leaflet","pinyin_converter","grader","progress","kotlin_serialization","study_modes_core","kotlin_coroutines","kotlin_data_layer","assistant_generator","common"],(()=>{return t="./app/j/study-modes/write/write.entry.ts",e(e.s=t);var t}));e.O()}]);